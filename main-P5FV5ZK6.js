var vS=Object.defineProperty,yS=Object.defineProperties;var _S=Object.getOwnPropertyDescriptors;var Hv=Object.getOwnPropertySymbols,IS=Object.getPrototypeOf,ES=Object.prototype.hasOwnProperty,CS=Object.prototype.propertyIsEnumerable,wS=Reflect.get;var Wv=(t,e,n)=>e in t?vS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||={})ES.call(e,n)&&Wv(t,n,e[n]);if(Hv)for(var n of Hv(e))CS.call(e,n)&&Wv(t,n,e[n]);return t},j=(t,e)=>yS(t,_S(e));var pr=(t,e,n)=>wS(IS(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function zv(t,e){return Object.is(t,e)}var Ee=null,$a=!1,Ha=1,Nn=Symbol("SIGNAL");function K(t){let e=Ee;return Ee=t,e}function Gv(){return Ee}var Wo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Od(t){if($a)throw new Error("");if(Ee===null)return;Ee.consumerOnSignalRead(t);let e=Ee.nextProducerIndex++;if(qa(Ee),e<Ee.producerNode.length&&Ee.producerNode[e]!==t&&Ho(Ee)){let n=Ee.producerNode[e];Ga(n,Ee.producerIndexOfThis[e])}Ee.producerNode[e]!==t&&(Ee.producerNode[e]=t,Ee.producerIndexOfThis[e]=Ho(Ee)?Zv(t,Ee,e):0),Ee.producerLastReadVersion[e]=t.version}function DS(){Ha++}function qv(t){if(!(Ho(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ha)){if(!t.producerMustRecompute(t)&&!Fd(t)){t.dirty=!1,t.lastCleanEpoch=Ha;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ha}}function Yv(t){if(t.liveConsumerNode===void 0)return;let e=$a;$a=!0;try{for(let n of t.liveConsumerNode)n.dirty||bS(n)}finally{$a=e}}function Kv(){return Ee?.consumerAllowSignalWrites!==!1}function bS(t){t.dirty=!0,Yv(t),t.consumerMarkedDirty?.(t)}function za(t){return t&&(t.nextProducerIndex=0),K(t)}function Pd(t,e){if(K(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ho(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ga(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Fd(t){qa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(qv(n),r!==n.version))return!0}return!1}function Ld(t){if(qa(t),Ho(t))for(let e=0;e<t.producerNode.length;e++)Ga(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Zv(t,e,n){if(Qv(t),t.liveConsumerNode.length===0&&Jv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Zv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ga(t,e){if(Qv(t),t.liveConsumerNode.length===1&&Jv(t))for(let r=0;r<t.producerNode.length;r++)Ga(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];qa(i),i.producerIndexOfThis[r]=e}}function Ho(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Qv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Jv(t){return t.producerNode!==void 0}function Xv(t){let e=Object.create(SS);e.computation=t;let n=()=>{if(qv(e),Od(e),e.value===Wa)throw e.error;return e.value};return n[Nn]=e,n}var xd=Symbol("UNSET"),kd=Symbol("COMPUTING"),Wa=Symbol("ERRORED"),SS=j(_({},Wo),{value:xd,dirty:!0,error:null,equal:zv,producerMustRecompute(t){return t.value===xd||t.value===kd},producerRecomputeValue(t){if(t.value===kd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=kd;let n=za(t),r;try{r=t.computation()}catch(i){r=Wa,t.error=i}finally{Pd(t,n)}if(e!==xd&&e!==Wa&&r!==Wa&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function TS(){throw new Error}var ey=TS;function ty(){ey()}function ny(t){ey=t}var AS=null;function ry(t){let e=Object.create(oy);e.value=t;let n=()=>(Od(e),e.value);return n[Nn]=e,n}function Vd(t,e){Kv()||ty(),t.equal(t.value,e)||(t.value=e,MS(t))}function iy(t,e){Kv()||ty(),Vd(t,e(t.value))}var oy=j(_({},Wo),{equal:zv,value:void 0});function MS(t){t.version++,DS(),Yv(t),AS?.()}function P(t){return typeof t=="function"}function si(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ya=si(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function mr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var he=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(o){e=o instanceof Ya?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sy(o)}catch(s){e=e??[],s instanceof Ya?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ya(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&mr(n,e)}remove(e){let{_finalizers:n}=this;n&&mr(n,e),e instanceof t&&e._removeParent(this)}};he.EMPTY=(()=>{let t=new he;return t.closed=!0,t})();var jd=he.EMPTY;function Ka(t){return t instanceof he||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function sy(t){P(t)?t():t.unsubscribe()}var yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ai={setTimeout(t,e,...n){let{delegate:r}=ai;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ai;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Za(t){ai.setTimeout(()=>{let{onUnhandledError:e}=yt;if(e)e(t);else throw t})}function gr(){}var ay=Ud("C",void 0,void 0);function cy(t){return Ud("E",void 0,t)}function ly(t){return Ud("N",t,void 0)}function Ud(t,e,n){return{kind:t,value:e,error:n}}var vr=null;function ci(t){if(yt.useDeprecatedSynchronousErrorHandling){let e=!vr;if(e&&(vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=vr;if(vr=null,n)throw r}}else t()}function uy(t){yt.useDeprecatedSynchronousErrorHandling&&vr&&(vr.errorThrown=!0,vr.error=t)}var yr=class extends he{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ka(e)&&e.add(this)):this.destination=xS}static create(e,n,r){return new li(e,n,r)}next(e){this.isStopped?$d(ly(e),this):this._next(e)}error(e){this.isStopped?$d(cy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$d(ay,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},NS=Function.prototype.bind;function Bd(t,e){return NS.call(t,e)}var Hd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Qa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Qa(r)}else Qa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Qa(n)}}},li=class extends yr{constructor(e,n,r){super();let i;if(P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&yt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bd(e.next,o),error:e.error&&Bd(e.error,o),complete:e.complete&&Bd(e.complete,o)}):i=e}this.destination=new Hd(i)}};function Qa(t){yt.useDeprecatedSynchronousErrorHandling?uy(t):Za(t)}function RS(t){throw t}function $d(t,e){let{onStoppedNotification:n}=yt;n&&ai.setTimeout(()=>n(t,e))}var xS={closed:!0,next:gr,error:RS,complete:gr};var ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function je(t){return t}function zo(...t){return Wd(t)}function Wd(t){return t.length===0?je:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var F=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=OS(n)?n:new li(n,r,i);return ci(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dy(r),new r((i,o)=>{let s=new li({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ui](){return this}pipe(...n){return Wd(n)(this)}toPromise(n){return n=dy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function dy(t){var e;return(e=t??yt.Promise)!==null&&e!==void 0?e:Promise}function kS(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}function OS(t){return t&&t instanceof yr||kS(t)&&Ka(t)}function zd(t){return P(t?.lift)}function H(t){return e=>{if(zd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(t,e,n,r,i){return new Gd(t,e,n,r,i)}var Gd=class extends yr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function di(){return H((t,e)=>{let n=null;t._refCount++;let r=B(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fi=class extends F{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new he;let n=this.getSubject();e.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=he.EMPTY)}return e}refCount(){return di()(this)}};var fy=si(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=(()=>{class t extends F{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ja(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new fy}next(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jd:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,mr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new F;return n.source=this,n}}return t.create=(e,n)=>new Ja(e,n),t})(),Ja=class extends Se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:jd}};var xe=class extends Se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qd={now(){return(qd.delegate||Date).now()},delegate:void 0};var Xa=class extends he{constructor(e,n){super()}schedule(e,n=0){return this}};var Go={setInterval(t,e,...n){let{delegate:r}=Go;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Go;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hi=class extends Xa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Go.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Go.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,mr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var pi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};pi.now=qd.now;var mi=class extends pi{constructor(e,n=pi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var gi=new mi(hi),Yd=gi;var ec=class extends hi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var tc=class extends mi{};var Kd=new tc(ec);var Ue=new F(t=>t.complete());function nc(t){return t&&P(t.schedule)}function Zd(t){return t[t.length-1]}function rc(t){return P(Zd(t))?t.pop():void 0}function kt(t){return nc(Zd(t))?t.pop():void 0}function hy(t,e){return typeof Zd(t)=="number"?t.pop():e}function ic(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function my(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function py(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _r(t){return this instanceof _r?(this.v=t,this):new _r(t)}function gy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(i[h]=function(C){return new Promise(function(T,V){o.push([h,C,T,V])>1||c(h,C)})},m&&(i[h]=m(i[h])))}function c(h,m){try{l(r[h](m))}catch(C){f(o[0][3],C)}}function l(h){h.value instanceof _r?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,m){h(m),o.shift(),o.length&&c(o[0][0],o[0][1])}}function vy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof py=="function"?py(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var oc=t=>t&&typeof t.length=="number"&&typeof t!="function";function sc(t){return P(t?.then)}function ac(t){return P(t[ui])}function cc(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function lc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function PS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uc=PS();function dc(t){return P(t?.[uc])}function fc(t){return gy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield _r(n.read());if(i)return yield _r(void 0);yield yield _r(r)}}finally{n.releaseLock()}})}function hc(t){return P(t?.getReader)}function le(t){if(t instanceof F)return t;if(t!=null){if(ac(t))return FS(t);if(oc(t))return LS(t);if(sc(t))return VS(t);if(cc(t))return yy(t);if(dc(t))return jS(t);if(hc(t))return US(t)}throw lc(t)}function FS(t){return new F(e=>{let n=t[ui]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LS(t){return new F(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function VS(t){return new F(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Za)})}function jS(t){return new F(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function yy(t){return new F(e=>{BS(t,e).catch(n=>e.error(n))})}function US(t){return yy(fc(t))}function BS(t,e){var n,r,i,o;return my(this,void 0,void 0,function*(){try{for(n=vy(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function qe(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Rn(t,e=0){return H((n,r)=>{n.subscribe(B(r,i=>qe(r,t,()=>r.next(i),e),()=>qe(r,t,()=>r.complete(),e),i=>qe(r,t,()=>r.error(i),e)))})}function xn(t,e=0){return H((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _y(t,e){return le(t).pipe(xn(e),Rn(e))}function Iy(t,e){return le(t).pipe(xn(e),Rn(e))}function Ey(t,e){return new F(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Cy(t,e){return new F(n=>{let r;return qe(n,e,()=>{r=t[uc](),qe(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function pc(t,e){if(!t)throw new Error("Iterable cannot be null");return new F(n=>{qe(n,e,()=>{let r=t[Symbol.asyncIterator]();qe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wy(t,e){return pc(fc(t),e)}function Dy(t,e){if(t!=null){if(ac(t))return _y(t,e);if(oc(t))return Ey(t,e);if(sc(t))return Iy(t,e);if(cc(t))return pc(t,e);if(dc(t))return Cy(t,e);if(hc(t))return wy(t,e)}throw lc(t)}function oe(t,e){return e?Dy(t,e):le(t)}function N(...t){let e=kt(t);return oe(t,e)}function vi(t,e){let n=P(t)?t:()=>t,r=i=>i.error(n());return new F(e?i=>e.schedule(r,0,i):r)}function Qd(t){return!!t&&(t instanceof F||P(t.lift)&&P(t.subscribe))}var nn=si(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function by(t){return t instanceof Date&&!isNaN(t)}function O(t,e){return H((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:$S}=Array;function HS(t,e){return $S(e)?t(...e):t(e)}function mc(t){return O(e=>HS(t,e))}var{isArray:WS}=Array,{getPrototypeOf:zS,prototype:GS,keys:qS}=Object;function gc(t){if(t.length===1){let e=t[0];if(WS(e))return{args:e,keys:null};if(YS(e)){let n=qS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YS(t){return t&&typeof t=="object"&&zS(t)===GS}function vc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function yc(...t){let e=kt(t),n=rc(t),{args:r,keys:i}=gc(t);if(r.length===0)return oe([],e);let o=new F(KS(r,e,i?s=>vc(i,s):je));return n?o.pipe(mc(n)):o}function KS(t,e,n=je){return r=>{Sy(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Sy(e,()=>{let l=oe(t[c],e),u=!1;l.subscribe(B(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Sy(t,e,n){t?qe(n,t,e):e()}function Ty(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=C=>l<r?m(C):c.push(C),m=C=>{o&&e.next(C),l++;let T=!1;le(n(C,u++)).subscribe(B(e,V=>{i?.(V),o?h(V):e.next(V)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){let V=c.shift();s?qe(e,s,()=>m(V)):m(V)}f()}catch(V){e.error(V)}}))};return t.subscribe(B(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ge(t,e,n=1/0){return P(e)?ge((r,i)=>O((o,s)=>e(r,o,i,s))(le(t(r,i))),n):(typeof e=="number"&&(n=e),H((r,i)=>Ty(r,i,t,n)))}function qo(t=1/0){return ge(je,t)}function Ay(){return qo(1)}function kn(...t){return Ay()(oe(t,kt(t)))}function _c(t){return new F(e=>{le(t()).subscribe(e)})}function Jd(...t){let e=rc(t),{args:n,keys:r}=gc(t),i=new F(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;le(n[u]).subscribe(B(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?vc(r,a):a),o.complete())}))}});return e?i.pipe(mc(e)):i}function My(t=0,e,n=Yd){let r=-1;return e!=null&&(nc(e)?n=e:r=e),new F(i=>{let o=by(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Xd(...t){let e=kt(t),n=hy(t,1/0),r=t;return r.length?r.length===1?le(r[0]):qo(n)(oe(r,e)):Ue}function _t(t,e){return H((n,r)=>{let i=0;n.subscribe(B(r,o=>t.call(e,o,i++)&&r.next(o)))})}function On(t){return H((e,n)=>{let r=null,i=!1,o;r=e.subscribe(B(n,void 0,void 0,s=>{o=le(t(s,On(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ny(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(B(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function yi(t,e){return P(e)?ge(t,e,1):ge(t,1)}function Pn(t){return H((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ye(t){return t<=0?()=>Ue:H((e,n)=>{let r=0;e.subscribe(B(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ry(){return H((t,e)=>{t.subscribe(B(e,gr))})}function Yo(t){return O(()=>t)}function ef(t,e){return e?n=>kn(e.pipe(Ye(1),Ry()),n.pipe(ef(t))):ge((n,r)=>le(t(n,r)).pipe(Ye(1),Yo(n)))}function tf(t,e=gi){let n=My(t,e);return ef(()=>n)}function nf(t,e=je){return t=t??ZS,H((n,r)=>{let i,o=!0;n.subscribe(B(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function ZS(t,e){return t===e}function Ic(t=QS){return H((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function QS(){return new nn}function Ko(t){return H((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ot(t,e){let n=arguments.length>=2;return r=>r.pipe(t?_t((i,o)=>t(i,o,r)):je,Ye(1),n?Pn(e):Ic(()=>new nn))}function _i(t){return t<=0?()=>Ue:H((e,n)=>{let r=[];e.subscribe(B(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?_t((i,o)=>t(i,o,r)):je,_i(1),n?Pn(e):Ic(()=>new nn))}function Zo(t,e){return H(Ny(t,e,arguments.length>=2,!0))}function of(...t){let e=kt(t);return H((n,r)=>{(e?kn(t,n,e):kn(t,n)).subscribe(r)})}function Ke(t,e){return H((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(B(r,c=>{i?.unsubscribe();let l=0,u=o++;le(t(c,u)).subscribe(i=B(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sf(t){return H((e,n)=>{le(t).subscribe(B(n,()=>n.complete(),gr)),!n.closed&&e.subscribe(n)})}function Ce(t,e,n){let r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?H((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(B(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):je}var y_="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(ch(e,n)),this.code=e}};function ch(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function as(t){return{toString:t}.toString()}var Ec="__parameters__";function JS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function __(t,e,n){return as(()=>{let r=JS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ec)?c[Ec]:Object.defineProperty(c,Ec,{value:[]})[Ec];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var If=globalThis;function ie(t){for(let e in t)if(t[e]===ie)return e;throw Error("Could not find renamed property on target object.")}function XS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function $e(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map($e).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function xy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var eT=ie({__forward_ref__:ie});function cn(t){return t.__forward_ref__=cn,t.toString=function(){return $e(this())},t}function Be(t){return I_(t)?t():t}function I_(t){return typeof t=="function"&&t.hasOwnProperty(eT)&&t.__forward_ref__===cn}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function tl(t){return ky(t,C_)||ky(t,w_)}function E_(t){return tl(t)!==null}function ky(t,e){return t.hasOwnProperty(e)?t[e]:null}function tT(t){let e=t&&(t[C_]||t[w_]);return e||null}function Oy(t){return t&&(t.hasOwnProperty(Py)||t.hasOwnProperty(nT))?t[Py]:null}var C_=ie({\u0275prov:ie}),Py=ie({\u0275inj:ie}),w_=ie({ngInjectableDef:ie}),nT=ie({ngInjectorDef:ie}),S=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function D_(t){return t&&!!t.\u0275providers}var rT=ie({\u0275cmp:ie}),iT=ie({\u0275dir:ie}),oT=ie({\u0275pipe:ie}),sT=ie({\u0275mod:ie}),Rc=ie({\u0275fac:ie}),Xo=ie({__NG_ELEMENT_ID__:ie}),Fy=ie({__NG_ENV_ID__:ie});function bi(t){return typeof t=="string"?t:t==null?"":String(t)}function aT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():bi(t)}function cT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function lh(t,e){throw new b(-201,!1)}var $=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{}),Ef;function b_(){return Ef}function it(t){let e=Ef;return Ef=t,e}function S_(t,e,n){let r=tl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(e!==void 0)return e;lh(t,"Injector")}var lT={},es=lT,Cf="__NG_DI_FLAG__",xc="ngTempTokenPath",uT="ngTokenPath",dT=/\n/gm,fT="\u0275",Ly="__source",wi;function hT(){return wi}function Fn(t){let e=wi;return wi=t,e}function pT(t,e=$.Default){if(wi===void 0)throw new b(-203,!1);return wi===null?S_(t,void 0,e):wi.get(t,e&$.Optional?null:void 0,e)}function R(t,e=$.Default){return(b_()||pT)(Be(t),e)}function E(t,e=$.Default){return R(t,nl(e))}function nl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wf(t){let e=[];for(let n=0;n<t.length;n++){let r=Be(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],c=mT(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(R(i,o))}else e.push(R(r))}return e}function T_(t,e){return t[Cf]=e,t.prototype[Cf]=e,t}function mT(t){return t[Cf]}function gT(t,e,n,r){let i=t[xc];throw e[Ly]&&i.unshift(e[Ly]),t.message=vT(`
`+t.message,i,n,r),t[uT]=i,t[xc]=null,t}function vT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==fT?t.slice(2):t;let i=$e(e);if(Array.isArray(e))i=e.map($e).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$e(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dT,`
  `)}`}var We=T_(__("Optional"),8);var A_=T_(__("SkipSelf"),4);function Si(t,e){let n=t.hasOwnProperty(Rc);return n?t[Rc]:null}function uh(t,e){t.forEach(n=>Array.isArray(n)?uh(n,e):e(n))}function M_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function _T(t,e,n){let r=cs(t,e);return r>=0?t[r|1]=n:(r=~r,yT(t,r,e,n)),r}function af(t,e){let n=cs(t,e);if(n>=0)return t[n|1]}function cs(t,e){return IT(t,e,1)}function IT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ti={},ot=[],Ai=new S(""),N_=new S("",-1),R_=new S(""),Oc=class{get(e,n=es){if(n===es){let r=new Error(`NullInjectorError: No provider for ${$e(e)}!`);throw r.name="NullInjectorError",r}return n}},x_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(x_||{}),Lt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Lt||{}),jn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(jn||{});function ET(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Df(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];CT(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function k_(t){return t===3||t===4||t===6}function CT(t){return t.charCodeAt(0)===64}function ts(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Vy(t,n,i,null,e[++r]):Vy(t,n,i,null,null))}}return t}function Vy(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var O_="ng-template";function wT(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ET(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(dh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function dh(t){return t.type===4&&t.value!==O_}function DT(t,e,n){let r=t.type===4&&!n?O_:t.value;return e===r}function bT(t,e,n){let r=4,i=t.attrs,o=i!==null?AT(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!It(r)&&!It(c))return!1;if(s&&It(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!DT(t,c,n)||c===""&&e.length===1){if(It(r))return!1;s=!0}}else if(r&8){if(i===null||!wT(t,i,c,n)){if(It(r))return!1;s=!0}}else{let l=e[++a],u=ST(c,i,dh(t),n);if(u===-1){if(It(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(It(r))return!1;s=!0}}}}return It(r)||s}function It(t){return(t&1)===0}function ST(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return MT(e,t)}function TT(t,e,n=!1){for(let r=0;r<e.length;r++)if(bT(t,e[r],n))return!0;return!1}function AT(t){for(let e=0;e<t.length;e++){let n=t[e];if(k_(n))return e}return t.length}function MT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function jy(t,e){return t?":not("+e.trim()+")":e}function NT(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!It(s)&&(e+=jy(o,i),i=""),r=s,o=o||!It(r);n++}return i!==""&&(e+=jy(o,i)),e}function RT(t){return t.map(NT).join(",")}function xT(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!It(i))break;i=o}r++}return{attrs:e,classes:n}}function ne(t){return as(()=>{let e=j_(t),n=j(_({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===x_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Lt.Emulated,styles:t.styles||ot,_:null,schemas:t.schemas||null,tView:null,id:""});U_(n);let r=t.dependencies;return n.directiveDefs=By(r,!1),n.pipeDefs=By(r,!0),n.id=PT(n),n})}function kT(t){return Er(t)||P_(t)}function OT(t){return t!==null}function un(t){return as(()=>({type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Uy(t,e){if(t==null)return Ti;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=jn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==jn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ve(t){return as(()=>{let e=j_(t);return U_(e),e})}function Er(t){return t[rT]||null}function P_(t){return t[iT]||null}function F_(t){return t[oT]||null}function L_(t){let e=Er(t)||P_(t)||F_(t);return e!==null?e.standalone:!1}function V_(t,e){let n=t[sT]||null;if(!n&&e===!0)throw new Error(`Type ${$e(t)} does not have '\u0275mod' property.`);return n}function j_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ti,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Uy(t.inputs,e),outputs:Uy(t.outputs),debugInfo:null}}function U_(t){t.features?.forEach(e=>e(t))}function By(t,e){if(!t)return null;let n=e?F_:kT;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(OT)}function PT(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Bt(t){return{\u0275providers:t}}function FT(...t){return{\u0275providers:B_(!0,t),\u0275fromNgModule:!0}}function B_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return uh(e,s=>{let a=s;bf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$_(i,o),n}function $_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];fh(i,o=>{e(o,r)})}}function bf(t,e,n,r){if(t=Be(t),!t)return!1;let i=null,o=Oy(t),s=!o&&Er(t);if(!o&&!s){let c=t.ngModule;if(o=Oy(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)bf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{uh(o.imports,u=>{bf(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&$_(l,e)}if(!a){let l=Si(i)||(()=>new i);e({provide:i,useFactory:l,deps:ot},i),e({provide:R_,useValue:i,multi:!0},i),e({provide:Ai,useValue:()=>R(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;fh(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function fh(t,e){for(let n of t)D_(n)&&(n=n.\u0275providers),Array.isArray(n)?fh(n,e):e(n)}var LT=ie({provide:String,useValue:ie});function H_(t){return t!==null&&typeof t=="object"&&LT in t}function VT(t){return!!(t&&t.useExisting)}function jT(t){return!!(t&&t.useFactory)}function Mi(t){return typeof t=="function"}function UT(t){return!!t.useClass}var rl=new S(""),Sc={},BT={},cf;function hh(){return cf===void 0&&(cf=new Oc),cf}var ct=class{},ns=class extends ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tf(e,s=>this.processProvider(s)),this.records.set(N_,Ii(void 0,this)),i.has("environment")&&this.records.set(ct,Ii(void 0,this));let o=this.records.get(rl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(R_,ot,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Fn(this),r=it(void 0),i;try{return e()}finally{Fn(n),it(r)}}get(e,n=es,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Fy))return e[Fy](this);r=nl(r);let i,o=Fn(this),s=it(void 0);try{if(!(r&$.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=GT(e)&&tl(e);l&&this.injectableDefInScope(l)?c=Ii(Sf(e),Sc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&$.Self?hh():this.parent;return n=r&$.Optional&&n===es?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[xc]=a[xc]||[]).unshift($e(e)),o)throw a;return gT(a,e,"R3InjectorError",this.source)}else throw a}finally{it(s),Fn(o)}}resolveInjectorInitializers(){let e=K(null),n=Fn(this),r=it(void 0),i;try{let o=this.get(Ai,ot,$.Self);for(let s of o)s()}finally{Fn(n),it(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push($e(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=Be(e);let n=Mi(e)?e:Be(e&&e.provide),r=HT(e);if(!Mi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ii(void 0,Sc,!0),i.factory=()=>wf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=K(null);try{return n.value===Sc&&(n.value=BT,n.value=n.factory()),typeof n.value=="object"&&n.value&&zT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Be(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Sf(t){let e=tl(t),n=e!==null?e.factory:Si(t);if(n!==null)return n;if(t instanceof S)throw new b(204,!1);if(t instanceof Function)return $T(t);throw new b(204,!1)}function $T(t){if(t.length>0)throw new b(204,!1);let n=tT(t);return n!==null?()=>n.factory(t):()=>new t}function HT(t){if(H_(t))return Ii(void 0,t.useValue);{let e=W_(t);return Ii(e,Sc)}}function W_(t,e,n){let r;if(Mi(t)){let i=Be(t);return Si(i)||Sf(i)}else if(H_(t))r=()=>Be(t.useValue);else if(jT(t))r=()=>t.useFactory(...wf(t.deps||[]));else if(VT(t))r=()=>R(Be(t.useExisting));else{let i=Be(t&&(t.useClass||t.provide));if(WT(t))r=()=>new i(...wf(t.deps));else return Si(i)||Sf(i)}return r}function Ii(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function WT(t){return!!t.deps}function zT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function GT(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function Tf(t,e){for(let n of t)Array.isArray(n)?Tf(n,e):n&&D_(n)?Tf(n.\u0275providers,e):e(n)}function dn(t,e){t instanceof ns&&t.assertNotDestroyed();let n,r=Fn(t),i=it(void 0);try{return e()}finally{Fn(r),it(i)}}function qT(){return b_()!==void 0||hT()!=null}function YT(t){return typeof t=="function"}var fn=0,Y=1,k=2,He=3,Et=4,wt=5,Pc=6,Fc=7,Ct=8,Ni=9,Vt=10,Te=11,rs=12,$y=13,Ui=14,jt=15,Ri=16,Ei=17,xi=18,il=19,z_=20,Ln=21,lf=22,st=23,rn=25,G_=1;var Cr=7,Lc=8,Vc=9,at=10,jc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(jc||{});function Vn(t){return Array.isArray(t)&&typeof t[G_]=="object"}function hn(t){return Array.isArray(t)&&t[G_]===!0}function ph(t){return(t.flags&4)!==0}function ol(t){return t.componentOffset>-1}function sl(t){return(t.flags&1)===1}function Un(t){return!!t.template}function Af(t){return(t[k]&512)!==0}var Mf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function q_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function $t(){return Y_}function Y_(t){return t.type.prototype.ngOnChanges&&(t.setInput=ZT),KT}$t.ngInherit=!0;function KT(){let t=Z_(this),e=t?.current;if(e){let n=t.previous;if(n===Ti)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ZT(t,e,n,r,i){let o=this.declaredInputs[r],s=Z_(t)||QT(t,{previous:Ti,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Mf(l&&l.currentValue,n,c===Ti),q_(t,e,i,n)}var K_="__ngSimpleChanges__";function Z_(t){return t[K_]||null}function QT(t,e){return t[K_]=e}var Hy=null;var Pt=function(t,e,n){Hy?.(t,e,n)},JT="svg",XT="math";function Ut(t){for(;Array.isArray(t);)t=t[fn];return t}function Q_(t,e){return Ut(e[t])}function lt(t,e){return Ut(e[t.index])}function J_(t,e){return t.data[e]}function Hn(t,e){let n=e[t];return Vn(n)?n:n[fn]}function mh(t){return(t[k]&128)===128}function eA(t){return hn(t[He])}function ki(t,e){return e==null?null:t[e]}function X_(t){t[Ei]=0}function eI(t){t[k]&1024||(t[k]|=1024,mh(t)&&cl(t))}function tA(t,e){for(;t>0;)e=e[Ui],t--;return e}function al(t){return!!(t[k]&9216||t[st]?.dirty)}function Nf(t){t[Vt].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),al(t)&&cl(t)}function cl(t){t[Vt].changeDetectionScheduler?.notify(0);let e=wr(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!mh(e)));)e=wr(e)}function tI(t,e){if((t[k]&256)===256)throw new b(911,!1);t[Ln]===null&&(t[Ln]=[]),t[Ln].push(e)}function nA(t,e){if(t[Ln]===null)return;let n=t[Ln].indexOf(e);n!==-1&&t[Ln].splice(n,1)}function wr(t){let e=t[He];return hn(e)?e[He]:e}var W={lFrame:dI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nI=!1;function rA(){return W.lFrame.elementDepthCount}function iA(){W.lFrame.elementDepthCount++}function oA(){W.lFrame.elementDepthCount--}function rI(){return W.bindingsEnabled}function sA(){return W.skipHydrationRootTNode!==null}function aA(t){return W.skipHydrationRootTNode===t}function cA(){W.skipHydrationRootTNode=null}function ae(){return W.lFrame.lView}function et(){return W.lFrame.tView}function ls(t){return W.lFrame.contextLView=t,t[Ct]}function us(t){return W.lFrame.contextLView=null,t}function ze(){let t=iI();for(;t!==null&&t.type===64;)t=t.parent;return t}function iI(){return W.lFrame.currentTNode}function lA(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ar(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function gh(){return W.lFrame.isParent}function oI(){W.lFrame.isParent=!1}function sI(){return nI}function Wy(t){nI=t}function uA(){let t=W.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dA(){return W.lFrame.bindingIndex}function fA(t){return W.lFrame.bindingIndex=t}function vh(){return W.lFrame.bindingIndex++}function aI(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function hA(){return W.lFrame.inI18n}function pA(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rf(e)}function mA(){return W.lFrame.currentDirectiveIndex}function Rf(t){W.lFrame.currentDirectiveIndex=t}function gA(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cI(t){W.lFrame.currentQueryIndex=t}function vA(t){let e=t[Y];return e.type===2?e.declTNode:e.type===1?t[wt]:null}function lI(t,e,n){if(n&$.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=vA(o),i===null||(o=o[Ui],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=W.lFrame=uI();return r.currentTNode=e,r.lView=t,!0}function yh(t){let e=uI(),n=t[Y];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function uI(){let t=W.lFrame,e=t===null?null:t.child;return e===null?dI(t):e}function dI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fI(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hI=fI;function _h(){let t=fI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yA(t){return(W.lFrame.contextLView=tA(t,W.lFrame.contextLView))[Ct]}function Mr(){return W.lFrame.selectedIndex}function Dr(t){W.lFrame.selectedIndex=t}function pI(){let t=W.lFrame;return J_(t.tView,t.selectedIndex)}function _A(){return W.lFrame.currentNamespace}var mI=!0;function ll(){return mI}function ul(t){mI=t}function IA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Y_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function dl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Tc(t,e,n){gI(t,e,3,n)}function Ac(t,e,n,r){(t[k]&3)===n&&gI(t,e,n,r)}function uf(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function gI(t,e,n,r){let i=r!==void 0?t[Ei]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ei]+=65536),(a<o||o==-1)&&(EA(t,n,e,c),t[Ei]=(t[Ei]&4294901760)+c+2),c++}function zy(t,e){Pt(4,t,e);let n=K(null);try{e.call(t)}finally{K(n),Pt(5,t,e)}}function EA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[Ei]>>16&&(t[k]&3)===e&&(t[k]+=16384,zy(a,o)):zy(a,o)}var Di=-1,br=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function CA(t){return t instanceof br}function wA(t){return(t.flags&8)!==0}function DA(t){return(t.flags&16)!==0}var df={},xf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=nl(r);let i=this.injector.get(e,df,r);return i!==df||n===df?i:this.parentInjector.get(e,n,r)}};function vI(t){return t!==Di}function Uc(t){return t&32767}function bA(t){return t>>16}function Bc(t,e){let n=bA(t),r=e;for(;n>0;)r=r[Ui],n--;return r}var kf=!0;function Gy(t){let e=kf;return kf=t,e}var SA=256,yI=SA-1,_I=5,TA=0,Ft={};function AA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xo)&&(r=n[Xo]),r==null&&(r=n[Xo]=TA++);let i=r&yI,o=1<<i;e.data[t+(i>>_I)]|=o}function $c(t,e){let n=II(t,e);if(n!==-1)return n;let r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,ff(r.data,t),ff(e,null),ff(r.blueprint,null));let i=Ih(t,e),o=t.injectorIndex;if(vI(i)){let s=Uc(i),a=Bc(i,e),c=a[Y].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function ff(t,e){t.push(0,0,0,0,0,0,0,0,e)}function II(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ih(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=bI(i),r===null)return Di;if(n++,i=i[Ui],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Di}function Of(t,e,n){AA(t,e,n)}function MA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(k_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function EI(t,e,n){if(n&$.Optional||t!==void 0)return t;lh(e,"NodeInjector")}function CI(t,e,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=t[Ni],o=it(void 0);try{return i?i.get(e,r,n&$.Optional):S_(e,r,n&$.Optional)}finally{it(o)}}return EI(r,e,n)}function wI(t,e,n,r=$.Default,i){if(t!==null){if(e[k]&2048&&!(r&$.Self)){let s=OA(t,e,n,r,Ft);if(s!==Ft)return s}let o=DI(t,e,n,r,Ft);if(o!==Ft)return o}return CI(e,n,r,i)}function DI(t,e,n,r,i){let o=xA(n);if(typeof o=="function"){if(!lI(e,t,r))return r&$.Host?EI(i,n,r):CI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))lh(n);else return s}finally{hI()}}else if(typeof o=="number"){let s=null,a=II(t,e),c=Di,l=r&$.Host?e[jt][wt]:null;for((a===-1||r&$.SkipSelf)&&(c=a===-1?Ih(t,e):e[a+8],c===Di||!Yy(r,!1)?a=-1:(s=e[Y],a=Uc(c),e=Bc(c,e)));a!==-1;){let u=e[Y];if(qy(o,a,u.data)){let d=NA(a,e,n,s,r,l);if(d!==Ft)return d}c=e[a+8],c!==Di&&Yy(r,e[Y].data[a+8]===l)&&qy(o,a,e)?(s=u,a=Uc(c),e=Bc(c,e)):a=-1}}return i}function NA(t,e,n,r,i,o){let s=e[Y],a=s.data[t+8],c=r==null?ol(a)&&kf:r!=s&&(a.type&3)!==0,l=i&$.Host&&o===a,u=RA(a,s,n,c,l);return u!==null?Oi(e,s,u,a):Ft}function RA(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let m=s[h];if(h<c&&n===m||h>=c&&m.type===n)return h}if(i){let h=s[c];if(h&&Un(h)&&h.type===n)return c}return null}function Oi(t,e,n,r){let i=t[n],o=e.data;if(CA(i)){let s=i;s.resolving&&cT(aT(o[n]));let a=Gy(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?it(s.injectImpl):null,u=lI(t,r,$.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&IA(n,o[n],e)}finally{l!==null&&it(l),Gy(a),s.resolving=!1,hI()}}return i}function xA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xo)?t[Xo]:void 0;return typeof e=="number"?e>=0?e&yI:kA:e}function qy(t,e,n){let r=1<<t;return!!(n[e+(t>>_I)]&r)}function Yy(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var Ir=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return wI(this._tNode,this._lView,e,nl(r),n)}};function kA(){return new Ir(ze(),ae())}function Wn(t){return as(()=>{let e=t.prototype.constructor,n=e[Rc]||Pf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Rc]||Pf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pf(t){return I_(t)?()=>{let e=Pf(Be(t));return e&&e()}:Si(t)}function OA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=DI(o,s,n,r|$.Self,Ft);if(a!==Ft)return a;let c=o.parent;if(!c){let l=s[z_];if(l){let u=l.get(n,Ft,r);if(u!==Ft)return u}c=bI(s),s=s[Ui]}o=c}return i}function bI(t){let e=t[Y],n=e.type;return n===2?e.declTNode:n===1?t[wt]:null}function Eh(t){return MA(ze(),t)}function Ky(t,e=null,n=null,r){let i=SI(t,e,n,r);return i.resolveInjectorInitializers(),i}function SI(t,e=null,n=null,r,i=new Set){let o=[n||ot,FT(t)];return r=r||(typeof t=="object"?void 0:$e(t)),new ns(o,e||hh(),r||null,i)}var Ze=class t{static{this.THROW_IF_NOT_FOUND=es}static{this.NULL=new Oc}static create(e,n){if(Array.isArray(e))return Ky({name:""},n,e,"");{let r=e.name??"";return Ky({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=D({token:t,providedIn:"any",factory:()=>R(N_)})}static{this.__NG_ELEMENT_ID__=-1}};var PA=new S("");PA.__NG_ELEMENT_ID__=t=>{let e=ze();if(e===null)throw new b(204,!1);if(e.type&2)return e.value;if(t&$.Optional)return null;throw new b(204,!1)};var FA="ngOriginalError";function hf(t){return t[FA]}var TI=!0,AI=(()=>{class t{static{this.__NG_ELEMENT_ID__=LA}static{this.__NG_ENV_ID__=n=>n}}return t})(),Ff=class extends AI{constructor(e){super(),this._lView=e}onDestroy(e){return tI(this._lView,e),()=>nA(this._lView,e)}};function LA(){return new Ff(ae())}var Bi=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Lf=class extends Se{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,qT()&&(this.destroyRef=E(AI,{optional:!0})??void 0,this.pendingTasks=E(Bi,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof he&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},se=Lf;function Hc(...t){}function MI(t){let e,n;function r(){t=Hc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Zy(t){return queueMicrotask(()=>t()),()=>{t=Hc}}var Ch="isAngularZone",Wc=Ch+"_ID",VA=0,te=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=TI}=e;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,BA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ch)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jA,Hc,Hc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},jA={};function wh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function UA(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){MI(()=>{t.callbackScheduled=!1,Vf(t),t.isCheckStableRunning=!0,wh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vf(t)}function BA(t){let e=()=>{UA(t)},n=VA++;t._inner=t._inner.fork({name:"angular",properties:{[Ch]:!0,[Wc]:n,[Wc+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if($A(c))return r.invokeTask(o,s,a,c);try{return Qy(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Jy(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Qy(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!HA(c)&&e(),Jy(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Vf(t),wh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Vf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Qy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Jy(t){t._nesting--,wh(t)}var jf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function $A(t){return NI(t,"__ignore_ng_zone__")}function HA(t){return NI(t,"__scheduler_tick__")}function NI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var on=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&hf(e);for(;n&&hf(n);)n=hf(n);return n||null}},WA=new S("",{providedIn:"root",factory:()=>{let t=E(te),e=E(on);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function zA(){return fl(ze(),ae())}function fl(t,e){return new Dt(lt(t,e))}var Dt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=zA}}return t})();function RI(t){return(t.flags&128)===128}var xI=new Map,GA=0;function qA(){return GA++}function YA(t){xI.set(t[il],t)}function Uf(t){xI.delete(t[il])}var Xy="__ngContext__";function Bn(t,e){Vn(e)?(t[Xy]=e[il],YA(e)):t[Xy]=e}function kI(t){return PI(t[rs])}function OI(t){return PI(t[Et])}function PI(t){for(;t!==null&&!hn(t);)t=t[Et];return t}var Bf;function FI(t){Bf=t}function KA(){if(Bf!==void 0)return Bf;if(typeof document<"u")return document;throw new b(210,!1)}var Dh=new S("",{providedIn:"root",factory:()=>ZA}),ZA="ng",bh=new S(""),zn=new S("",{providedIn:"platform",factory:()=>"unknown"});var Sh=new S("",{providedIn:"root",factory:()=>KA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QA="h",JA="b";var XA=()=>null;function Th(t,e,n=!1){return XA(t,e,n)}var LI=!1,eM=new S("",{providedIn:"root",factory:()=>LI});var Cc;function tM(){if(Cc===void 0&&(Cc=null,If.trustedTypes))try{Cc=If.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cc}function e_(t){return tM()?.createScriptURL(t)||t}var zc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${y_})`}};function ds(t){return t instanceof zc?t.changingThisBreaksApplicationSecurity:t}function Ah(t,e){let n=nM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${y_})`)}return n===e}function nM(t){return t instanceof zc&&t.getTypeName()||null}var rM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function VI(t){return t=String(t),t.match(rM)?t:"unsafe:"+t}var hl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hl||{});function iM(t){let e=UI();return e?e.sanitize(hl.URL,t)||"":Ah(t,"URL")?ds(t):VI(bi(t))}function oM(t){let e=UI();if(e)return e_(e.sanitize(hl.RESOURCE_URL,t)||"");if(Ah(t,"ResourceURL"))return e_(ds(t));throw new b(904,!1)}function sM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oM:iM}function jI(t,e,n){return sM(e,n)(t)}function UI(){let t=ae();return t&&t[Vt].sanitizer}var aM=/^>|^->|<!--|-->|--!>|<!-$/g,cM=/(<|>)/g,lM="\u200B$1\u200B";function uM(t){return t.replace(aM,e=>e.replace(cM,lM))}function BI(t){return t instanceof Function?t():t}var sn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sn||{}),dM;function Mh(t,e){return dM(t,e)}function Ci(t,e,n,r,i){if(r!=null){let o,s=!1;hn(r)?o=r:Vn(r)&&(s=!0,r=r[fn]);let a=Ut(r);t===0&&n!==null?i==null?GI(e,n,a):Gc(e,n,a,i||null,!0):t===1&&n!==null?Gc(e,n,a,i||null,!0):t===2?TM(e,a,s):t===3&&e.destroyNode(a),o!=null&&MM(e,t,o,n,i)}}function fM(t,e){return t.createText(e)}function hM(t,e,n){t.setValue(e,n)}function pM(t,e){return t.createComment(uM(e))}function $I(t,e,n){return t.createElement(e,n)}function mM(t,e){HI(t,e),e[fn]=null,e[wt]=null}function gM(t,e,n,r,i,o){r[fn]=i,r[wt]=e,ml(t,r,n,1,i,o)}function HI(t,e){e[Vt].changeDetectionScheduler?.notify(9),ml(t,e,e[Te],2,null,null)}function vM(t){let e=t[rs];if(!e)return pf(t[Y],t);for(;e;){let n=null;if(Vn(e))n=e[rs];else{let r=e[at];r&&(n=r)}if(!n){for(;e&&!e[Et]&&e!==t;)Vn(e)&&pf(e[Y],e),e=e[He];e===null&&(e=t),Vn(e)&&pf(e[Y],e),n=e&&e[Et]}e=n}}function yM(t,e,n,r){let i=at+r,o=n.length;r>0&&(n[i-1][Et]=e),r<o-at?(e[Et]=n[i],M_(n,at+r,e)):(n.push(e),e[Et]=null),e[He]=n;let s=e[Ri];s!==null&&n!==s&&WI(s,e);let a=e[xi];a!==null&&a.insertView(t),Nf(e),e[k]|=128}function WI(t,e){let n=t[Vc],r=e[He];if(Vn(r))t[k]|=jc.HasTransplantedViews;else{let i=r[He][jt];e[jt]!==i&&(t[k]|=jc.HasTransplantedViews)}n===null?t[Vc]=[e]:n.push(e)}function Nh(t,e){let n=t[Vc],r=n.indexOf(e);n.splice(r,1)}function $f(t,e){if(t.length<=at)return;let n=at+e,r=t[n];if(r){let i=r[Ri];i!==null&&i!==t&&Nh(i,r),e>0&&(t[n-1][Et]=r[Et]);let o=kc(t,at+e);mM(r[Y],r);let s=o[xi];s!==null&&s.detachView(o[Y]),r[He]=null,r[Et]=null,r[k]&=-129}return r}function zI(t,e){if(!(e[k]&256)){let n=e[Te];n.destroyNode&&ml(t,e,n,3,null,null),vM(e)}}function pf(t,e){if(e[k]&256)return;let n=K(null);try{e[k]&=-129,e[k]|=256,e[st]&&Ld(e[st]),IM(t,e),_M(t,e),e[Y].type===1&&e[Te].destroy();let r=e[Ri];if(r!==null&&hn(e[He])){r!==e[He]&&Nh(r,e);let i=e[xi];i!==null&&i.detachView(t)}Uf(e)}finally{K(n)}}function _M(t,e){let n=t.cleanup,r=e[Fc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Fc]=null);let i=e[Ln];if(i!==null){e[Ln]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function IM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof br)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Pt(4,a,c);try{c.call(a)}finally{Pt(5,a,c)}}else{Pt(4,i,o);try{o.call(i)}finally{Pt(5,i,o)}}}}}function EM(t,e,n){return CM(t,e.parent,n)}function CM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[fn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Lt.None||o===Lt.Emulated)return null}return lt(r,n)}}function Gc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function GI(t,e,n){t.appendChild(e,n)}function t_(t,e,n,r,i){r!==null?Gc(t,e,n,r,i):GI(t,e,n)}function qI(t,e){return t.parentNode(e)}function wM(t,e){return t.nextSibling(e)}function DM(t,e,n){return SM(t,e,n)}function bM(t,e,n){return t.type&40?lt(t,n):null}var SM=bM,n_;function pl(t,e,n,r){let i=EM(t,r,e),o=e[Te],s=r.parent||e[wt],a=DM(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)t_(o,i,n[c],a,!1);else t_(o,i,n,a,!1);n_!==void 0&&n_(o,r,e,n,i)}function Qo(t,e){if(e!==null){let n=e.type;if(n&3)return lt(e,t);if(n&4)return Hf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Qo(t,r);{let i=t[e.index];return hn(i)?Hf(-1,i):Ut(i)}}else{if(n&128)return Qo(t,e.next);if(n&32)return Mh(e,t)()||Ut(t[e.index]);{let r=YI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=wr(t[jt]);return Qo(i,r)}else return Qo(t,e.next)}}}return null}function YI(t,e){if(e!==null){let r=t[jt][wt],i=e.projection;return r.projection[i]}return null}function Hf(t,e){let n=at+t+1;if(n<e.length){let r=e[n],i=r[Y].firstChild;if(i!==null)return Qo(r,i)}return e[Cr]}function TM(t,e,n){t.removeChild(null,e,n)}function Rh(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Bn(Ut(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Rh(t,e,n.child,r,i,o,!1),Ci(e,t,i,a,o);else if(c&32){let l=Mh(n,r),u;for(;u=l();)Ci(e,t,i,u,o);Ci(e,t,i,a,o)}else c&16?AM(t,e,r,n,i,o):Ci(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ml(t,e,n,r,i,o){Rh(n,r,t.firstChild,e,i,o,!1)}function AM(t,e,n,r,i,o){let s=n[jt],c=s[wt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ci(e,t,i,u,o)}else{let l=c,u=s[He];RI(r)&&(l.flags|=128),Rh(t,e,l,u,i,o,!0)}}function MM(t,e,n,r,i){let o=n[Cr],s=Ut(n);o!==s&&Ci(e,t,r,o,i);for(let a=at;a<n.length;a++){let c=n[a];ml(c[Y],c,t,e,r,o)}}function NM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:sn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sn.Important),t.setStyle(n,r,i,o))}}function RM(t,e,n){t.setAttribute(e,"style",n)}function KI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Df(t,e,r),i!==null&&KI(t,e,i),o!==null&&RM(t,e,o)}var pn={};function A(t=1){QI(et(),ae(),Mr()+t,!1)}function QI(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Tc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ac(e,o,0,n)}Dr(n)}function w(t,e=$.Default){let n=ae();if(n===null)return R(t,e);let r=ze();return wI(r,n,Be(t),e)}function JI(t,e,n,r,i,o){let s=K(null);try{let a=null;i&jn.SignalBased&&(a=e[r][Nn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&jn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):q_(e,a,r,o)}finally{K(s)}}function xM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Dr(~i);else{let o=i,s=n[++r],a=n[++r];pA(s,o);let c=e[o];a(2,c)}}}finally{Dr(-1)}}function gl(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[fn]=i,d[k]=r|4|128|8|64,(l!==null||t&&t[k]&2048)&&(d[k]|=2048),X_(d),d[He]=d[Ui]=t,d[Ct]=n,d[Vt]=s||t&&t[Vt],d[Te]=a||t&&t[Te],d[Ni]=c||t&&t[Ni]||null,d[wt]=o,d[il]=qA(),d[Pc]=u,d[z_]=l,d[jt]=e.type==2?t[jt]:d,d}function fs(t,e,n,r,i){let o=t.data[e];if(o===null)o=kM(t,e,n,r,i),hA()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=lA();o.injectorIndex=s===null?-1:s.injectorIndex}return Ar(o,!0),o}function kM(t,e,n,r,i){let o=iI(),s=gh(),a=s?o:o&&o.parent,c=t.data[e]=VM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function XI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function eE(t,e,n,r,i){let o=Mr(),s=r&2;try{Dr(-1),s&&e.length>rn&&QI(t,e,rn,!1),Pt(s?2:0,i),n(r,i)}finally{Dr(o),Pt(s?3:1,i)}}function xh(t,e,n){if(ph(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{K(r)}}}function kh(t,e,n){rI()&&(zM(t,e,n,lt(n,e)),(n.flags&64)===64&&rE(t,e,n))}function Oh(t,e,n=lt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function tE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ph(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ph(t,e,n,r,i,o,s,a,c,l,u){let d=rn+r,f=d+i,h=OM(d,f),m=typeof l=="function"?l():l;return h[Y]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function OM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:pn);return n}function PM(t,e,n,r){let o=r.get(eM,LI)||n===Lt.ShadowDom,s=t.selectRootElement(e,o);return FM(s),s}function FM(t){LM(t)}var LM=()=>null;function VM(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function r_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=jn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?i_(r,n,l,a,c):i_(r,n,l,a)}return r}function i_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function jM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,m=f?f.outputs:null;c=r_(0,d.inputs,u,c,h),l=r_(1,d.outputs,u,l,m);let C=c!==null&&s!==null&&!dh(e)?nN(c,u,s):null;a.push(C)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function UM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function BM(t,e,n,r,i,o,s,a){let c=lt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Lh(t,n,u,r,i),ol(e)&&$M(n,e.index)):e.type&3?(r=UM(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function $M(t,e){let n=Hn(e,t);n[k]&16||(n[k]|=64)}function Fh(t,e,n,r){if(rI()){let i=r===null?null:{"":-1},o=qM(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&nE(t,e,n,s,i,a),i&&YM(n,r,i)}n.mergedAttrs=ts(n.mergedAttrs,n.attrs)}function nE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Of($c(n,e),t,r[l].type);ZM(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=XI(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=ts(n.mergedAttrs,u.hostAttrs),QM(t,n,e,c,u),KM(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}jM(t,n,o)}function HM(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;WM(s)!=a&&s.push(a),s.push(n,r,o)}}function WM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zM(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ol(n)&&JM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$c(n,e),Bn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Oi(e,t,a,n);if(Bn(l,e),s!==null&&tN(e,a-i,l,c,n,s),Un(c)){let u=Hn(n.index,e);u[Ct]=Oi(e,t,a,n)}}}function rE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=mA();try{Dr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Rf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&GM(c,l)}}finally{Dr(-1),Rf(s)}}function GM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(TT(e,s.selectors,!1))if(r||(r=[]),Un(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Wf(t,e,c)}else r.unshift(s),Wf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Wf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new b(-301,!1);r.push(e[i],o)}}}function KM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Un(e)&&(n[""]=t)}}function ZM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function QM(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Si(i.type,!0)),s=new br(o,Un(i),w);t.blueprint[r]=s,n[r]=s,HM(t,e,r,XI(t,n,i.hostVars,pn),i)}function JM(t,e,n){let r=lt(e,t),i=tE(n),o=t[Vt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=vl(t,gl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function XM(t,e,n,r,i,o){let s=lt(t,e);eN(e[Te],s,o,t.value,n,r,i)}function eN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?bi(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function tN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];JI(r,n,c,l,u,d)}}function nN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function iE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function oE(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];cI(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function vl(t,e){return t[rs]?t[$y][Et]=e:t[rs]=e,t[$y]=e,e}function zf(t,e,n){cI(0);let r=K(null);try{e(t,n)}finally{K(r)}}function rN(t){return t[Fc]??=[]}function iN(t){return t.cleanup??=[]}function sE(t,e){let n=t[Ni],r=n?n.get(on,null):null;r&&r.handleError(e)}function Lh(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];JI(u,l,r,a,c,i)}}function aE(t,e,n){let r=Q_(e,t);hM(t[Te],r,n)}function oN(t,e){let n=Hn(e,t),r=n[Y];sN(r,n);let i=n[fn];i!==null&&n[Pc]===null&&(n[Pc]=Th(i,n[Ni])),Vh(r,n,n[Ct])}function sN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Vh(t,e,n){yh(e);try{let r=t.viewQuery;r!==null&&zf(1,r,n);let i=t.template;i!==null&&eE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xi]?.finishViewCreation(t),t.staticContentQueries&&oE(t,e),t.staticViewQueries&&zf(2,t.viewQuery,n);let o=t.components;o!==null&&aN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,_h()}}function aN(t,e){for(let n=0;n<e.length;n++)oN(t,e[n])}function cN(t,e,n,r){let i=K(null);try{let o=e.tView,a=t[k]&4096?4096:16,c=gl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ri]=l;let u=t[xi];return u!==null&&(c[xi]=u.createEmbeddedView(o)),Vh(o,c,n),c}finally{K(i)}}function o_(t,e){return!e||e.firstChild===null||RI(t)}function lN(t,e,n,r=!0){let i=e[Y];if(yM(i,e,t,n),r){let s=Hf(n,t),a=e[Te],c=qI(a,t[Cr]);c!==null&&gM(i,t[wt],a,e,c,s)}let o=e[Pc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Ut(o)),hn(o)&&uN(o,r);let s=n.type;if(s&8)qc(t,e,n.child,r);else if(s&32){let a=Mh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=YI(e,n);if(Array.isArray(a))r.push(...a);else{let c=wr(e[jt]);qc(c[Y],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uN(t,e){for(let n=at;n<t.length;n++){let r=t[n],i=r[Y].firstChild;i!==null&&qc(r[Y],r,i,e)}t[Cr]!==t[fn]&&e.push(t[Cr])}var cE=[];function dN(t){return t[st]??fN(t)}function fN(t){let e=cE.pop()??Object.create(pN);return e.lView=t,e}function hN(t){t.lView[st]!==t&&(t.lView=null,cE.push(t))}var pN=j(_({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{cl(t.lView)},consumerOnSignalRead(){this.lView[st]=this}});function mN(t){let e=t[st]??Object.create(gN);return e.lView=t,e}var gN=j(_({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=wr(t.lView);for(;e&&!lE(e[Y]);)e=wr(e);e&&eI(e)},consumerOnSignalRead(){this.lView[st]=this}});function lE(t){return t.type!==2}var vN=100;function uE(t,e=!0,n=0){let r=t[Vt],i=r.rendererFactory,o=!1;o||i.begin?.();try{yN(t,n)}catch(s){throw e&&sE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function yN(t,e){let n=sI();try{Wy(!0),Gf(t,e);let r=0;for(;al(t);){if(r===vN)throw new b(103,!1);r++,Gf(t,1)}}finally{Wy(n)}}function _N(t,e,n,r){let i=e[k];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Vt].inlineEffectRunner?.flush(),yh(e);let a=!0,c=null,l=null;o||(lE(t)?(l=dN(e),c=za(l)):Gv()===null?(a=!1,l=mN(e),c=za(l)):e[st]&&(Ld(e[st]),e[st]=null));try{X_(e),fA(t.bindingStartIndex),n!==null&&eE(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Tc(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Ac(e,h,0,null),uf(e,0)}if(s||IN(e),dE(e,0),t.contentQueries!==null&&oE(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&Tc(e,h)}else{let h=t.contentHooks;h!==null&&Ac(e,h,1),uf(e,1)}xM(t,e);let d=t.components;d!==null&&hE(e,d,0);let f=t.viewQuery;if(f!==null&&zf(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Tc(e,h)}else{let h=t.viewHooks;h!==null&&Ac(e,h,2),uf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[lf]){for(let h of e[lf])h();e[lf]=null}o||(e[k]&=-73)}catch(u){throw o||cl(e),u}finally{l!==null&&(Pd(l,c),a&&hN(l)),_h()}}function dE(t,e){for(let n=kI(t);n!==null;n=OI(n))for(let r=at;r<n.length;r++){let i=n[r];fE(i,e)}}function IN(t){for(let e=kI(t);e!==null;e=OI(e)){if(!(e[k]&jc.HasTransplantedViews))continue;let n=e[Vc];for(let r=0;r<n.length;r++){let i=n[r];eI(i)}}}function EN(t,e,n){let r=Hn(e,t);fE(r,n)}function fE(t,e){mh(t)&&Gf(t,e)}function Gf(t,e){let r=t[Y],i=t[k],o=t[st],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Fd(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)_N(r,t,r.template,t[Ct]);else if(i&8192){dE(t,1);let a=r.components;a!==null&&hE(t,a,1)}}function hE(t,e,n){for(let r=0;r<e.length;r++)EN(t,e[r],n)}function jh(t,e){let n=sI()?64:1088;for(t[Vt].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=wr(t);if(Af(t)&&!r)return t;t=r}return null}var Sr=class{get rootNodes(){let e=this._lView,n=e[Y];return qc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(hn(e)){let n=e[Lc],r=n?n.indexOf(this):-1;r>-1&&($f(e,r),kc(n,r))}this._attachedToViewContainer=!1}zI(this._lView[Y],this._lView)}onDestroy(e){tI(this._lView,e)}markForCheck(){jh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){Nf(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,uE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Af(this._lView),n=this._lView[Ri];n!==null&&!e&&Nh(n,this._lView),HI(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e;let n=Af(this._lView),r=this._lView[Ri];r!==null&&!n&&WI(r,this._lView),Nf(this._lView)}},yl=(()=>{class t{static{this.__NG_ELEMENT_ID__=DN}}return t})(),CN=yl,wN=class extends CN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=cN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Sr(i)}};function DN(){return bN(ze(),ae())}function bN(t,e){return t.type&4?new wN(e,t,fl(t,e)):null}var v3=new RegExp(`^(\\d+)*(${JA}|${QA})*(.*)`);var SN=()=>null;function s_(t,e){return SN(t,e)}var Pi=class{},_l=new S("",{providedIn:"root",factory:()=>!1});var pE=new S(""),mE=new S(""),qf=class{},Yc=class{};function TN(t){let e=Error(`No component factory found for ${$e(t)}.`);return e[AN]=t,e}var AN="ngComponent";var Yf=class{resolveComponentFactory(e){throw TN(e)}},Fi=class{static{this.NULL=new Yf}},Li=class{},Ht=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>MN()}}return t})();function MN(){let t=ae(),e=ze(),n=Hn(e.index,t);return(Vn(n)?n:t)[Te]}var NN=(()=>{class t{static{this.\u0275prov=D({token:t,providedIn:"root",factory:()=>null})}}return t})();function Kc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=xy(i,a);else if(o==2){let c=a,l=e[++s];r=xy(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Zc=class extends Fi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Er(e);return new is(n,this.ngModule)}};function a_(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:jn.None;e?n.push({propName:s,templateName:r,isSignal:(a&jn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function RN(t){let e=t.toLowerCase();return e==="svg"?JT:e==="math"?XT:null}var is=class extends Yc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=a_(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return a_(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=RT(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=K(null);try{i=i||this.ngModule;let s=i instanceof ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new xf(e,s):e,c=a.get(Li,null);if(c===null)throw new b(407,!1);let l=a.get(NN,null),u=a.get(Pi,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=r?PM(f,r,this.componentDef.encapsulation,a):$I(f,h,RN(h)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let T=null;m!==null&&(T=Th(m,a,!0));let V=Ph(0,null,null,1,0,null,null,null,null,null,null),de=gl(null,V,null,C,null,null,d,f,a,null,T);yh(de);let fe,Fe,en=null;try{let Re=this.componentDef,tn,Bo=null;Re.findHostDirectiveDefs?(tn=[],Bo=new Map,Re.findHostDirectiveDefs(Re,tn,Bo),tn.push(Re)):tn=[Re];let $o=xN(de,m);en=kN($o,m,Re,tn,de,d,f),Fe=J_(V,rn),m&&FN(f,Re,m,r),n!==void 0&&LN(Fe,this.ngContentSelectors,n),fe=PN(en,Re,tn,Bo,de,[VN]),Vh(V,de,null)}catch(Re){throw en!==null&&Uf(en),Uf(de),Re}finally{_h()}return new Kf(this.componentType,fe,fl(Fe,de),de,Fe)}finally{K(o)}}},Kf=class extends qf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Sr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Lh(o[Y],o,i,e,n),this.previousInputValues.set(e,n);let s=Hn(this._tNode.index,o);jh(s,1)}}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xN(t,e){let n=t[Y],r=rn;return t[r]=e,fs(n,r,2,"#host",null)}function kN(t,e,n,r,i,o,s){let a=i[Y];ON(r,t,e,s);let c=null;e!==null&&(c=Th(e,i[Ni]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=gl(i,tE(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Wf(a,t,r.length-1),vl(i,d),i[t.index]=d}function ON(t,e,n,r){for(let i of t)e.mergedAttrs=ts(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Kc(e,e.mergedAttrs,!0),n!==null&&ZI(r,n,e))}function PN(t,e,n,r,i,o){let s=ze(),a=i[Y],c=lt(s,i);nE(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=Oi(i,a,d,s);Bn(f,i)}rE(a,i,s),c&&Bn(c,i);let l=Oi(i,a,s.directiveStart+s.componentOffset,s);if(t[Ct]=i[Ct]=l,o!==null)for(let u of o)u(l,e);return xh(a,s,i),l}function FN(t,e,n,r){if(r)Df(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=xT(e.selectors[0]);i&&Df(t,n,i),o&&o.length>0&&KI(t,n,o.join(" "))}}function LN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function VN(){let t=ze();dl(ae()[Y],t)}var $i=(()=>{class t{static{this.__NG_ELEMENT_ID__=jN}}return t})();function jN(){let t=ze();return BN(t,ae())}var UN=$i,gE=class extends UN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fl(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ih(this._hostTNode,this._hostLView);if(vI(e)){let n=Bc(e,this._hostLView),r=Uc(e),i=n[Y].data[r+8];return new Ir(i,n)}else return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=c_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=s_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,o_(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!YT(e),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let c=s?e:new is(Er(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let C=(s?l:this.parentInjector).get(ct,null);C&&(o=C)}let u=Er(c.componentType??{}),d=s_(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,o_(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(eA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[He],l=new gE(c,c[wt],c[He]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return lN(s,i,o,r),e.attachToViewContainerRef(),M_(mf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=c_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=$f(this._lContainer,n);r&&(kc(mf(this._lContainer),n),zI(r[Y],r))}detach(e){let n=this._adjustIndex(e,-1),r=$f(this._lContainer,n);return r&&kc(mf(this._lContainer),n)!=null?new Sr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function c_(t){return t[Lc]}function mf(t){return t[Lc]||(t[Lc]=[])}function BN(t,e){let n,r=e[t.index];return hn(r)?n=r:(n=iE(r,e,null,t),e[t.index]=n,vl(e,n)),HN(n,e,t,r),new gE(n,t,e)}function $N(t,e){let n=t[Te],r=n.createComment(""),i=lt(e,t),o=qI(n,i);return Gc(n,o,r,wM(n,i),!1),r}var HN=GN,WN=()=>!1;function zN(t,e,n){return WN(t,e,n)}function GN(t,e,n,r){if(t[Cr])return;let i;n.type&8?i=Ut(r):i=$N(e,n),t[Cr]=i}var l_=new Set;function hs(t){l_.has(t)||(l_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ps(t,e){hs("NgSignals");let n=ry(t),r=n[Nn];return e?.equal&&(r.equal=e.equal),n.set=i=>Vd(r,i),n.update=i=>iy(r,i),n.asReadonly=qN.bind(n),n}function qN(){let t=this[Nn];if(t.readonlyFn===void 0){let e=()=>this();e[Nn]=t,t.readonlyFn=e}return t.readonlyFn}function YN(t){return Object.getPrototypeOf(t.prototype).constructor}function bt(t){let e=YN(t.type),n=!0,r=[t];for(;e;){let i;if(Un(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=wc(t.inputs),s.inputTransforms=wc(t.inputTransforms),s.declaredInputs=wc(t.declaredInputs),s.outputs=wc(t.outputs);let a=i.hostBindings;a&&XN(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&QN(t,c),l&&JN(t,l),KN(t,i),XS(t.outputs,i.outputs),Un(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===bt&&(n=!1)}}e=Object.getPrototypeOf(e)}ZN(r)}function KN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ZN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ts(i.hostAttrs,n=ts(n,i.hostAttrs))}}function wc(t){return t===Ti?{}:t===ot?[]:t}function QN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function JN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function XN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Uh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var $n=class{},os=class{};var Zf=class extends $n{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zc(this);let o=V_(e);this._bootstrapComponents=BI(o.bootstrap),this._r3Injector=SI(e,n,[{provide:$n,useValue:this},{provide:Fi,useValue:this.componentFactoryResolver},...r],$e(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qf=class extends os{constructor(e){super(),this.moduleType=e}create(e){return new Zf(this.moduleType,e,[])}};var Qc=class extends $n{constructor(e){super(),this.componentFactoryResolver=new Zc(this),this.instance=null;let n=new ns([...e.providers,{provide:$n,useValue:this},{provide:Fi,useValue:this.componentFactoryResolver}],e.parent||hh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Bh(t,e,n=null){return new Qc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function vE(t){return tR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function eR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function tR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function nR(t,e,n){return t[e]=n}function Vi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function yE(t,e,n,r){let i=Vi(t,e,n);return Vi(t,e+1,r)||i}function rR(t){return(t.flags&32)===32}function iR(t,e,n,r,i,o,s,a,c){let l=e.consts,u=fs(e,t,4,s||null,a||null);Fh(e,n,u,ki(l,c)),dl(e,u);let d=u.tView=Ph(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function oR(t,e,n,r,i,o,s,a,c,l){let u=n+rn,d=e.firstCreatePass?iR(u,e,t,r,i,o,s,a,c):e.data[u];Ar(d,!1);let f=sR(e,t,d,n);ll()&&pl(e,t,f,d),Bn(f,t);let h=iE(f,t,f,d);return t[u]=h,vl(t,h),zN(h,d,t),sl(d)&&kh(e,t,d),c!=null&&Oh(t,d,l),d}function ue(t,e,n,r,i,o,s,a){let c=ae(),l=et(),u=ki(l.consts,o);return oR(c,l,t,e,n,r,i,u,s,a),ue}var sR=aR;function aR(t,e,n,r){return ul(!0),e[Te].createComment("")}var Jo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Jo||{}),cR=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}}return t})(),u_=class t{constructor(){this.ngZone=E(te),this.scheduler=E(Pi),this.errorHandler=E(on,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Jo.EarlyRead,Jo.Write,Jo.MixedReadWrite,Jo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}};function Il(t,e,n,r){let i=ae(),o=vh();if(Vi(i,o,e)){let s=et(),a=pI();XM(a,i,t,e,n,r)}return Il}function lR(t,e,n,r){return Vi(t,vh(),n)?e+bi(n)+r:pn}function uR(t,e,n,r,i,o){let s=dA(),a=yE(t,s,n,i);return aI(2),a?e+bi(n)+r+bi(i)+o:pn}function Dc(t,e){return t<<17|e<<2}function Tr(t){return t>>17&32767}function dR(t){return(t&2)==2}function fR(t,e){return t&131071|e<<17}function Jf(t){return t|2}function ji(t){return(t&131068)>>2}function gf(t,e){return t&-131069|e<<2}function hR(t){return(t&1)===1}function Xf(t){return t|1}function pR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Tr(s),c=ji(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||cs(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Tr(t[a+1]);t[r+1]=Dc(f,a),f!==0&&(t[f+1]=gf(t[f+1],r)),t[a+1]=fR(t[a+1],r)}else t[r+1]=Dc(a,0),a!==0&&(t[a+1]=gf(t[a+1],r)),a=r;else t[r+1]=Dc(c,0),a===0?a=r:t[c+1]=gf(t[c+1],r),c=r;l&&(t[r+1]=Jf(t[r+1])),d_(t,u,r,!0),d_(t,u,r,!1),mR(e,u,t,r,o),s=Dc(a,c),o?e.classBindings=s:e.styleBindings=s}function mR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&cs(o,e)>=0&&(n[r+1]=Xf(n[r+1]))}function d_(t,e,n,r){let i=t[n+1],o=e===null,s=r?Tr(i):ji(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];gR(c,e)&&(a=!0,t[s+1]=r?Xf(l):Jf(l)),s=r?Tr(l):ji(l)}a&&(t[n+1]=r?Jf(i):Xf(i))}function gR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?cs(t,e)>=0:!1}function x(t,e,n){let r=ae(),i=vh();if(Vi(r,i,e)){let o=et(),s=pI();BM(o,s,r,t,e,r[Te],n,!1)}return x}function f_(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Lh(t,n,o[s],s,r)}function El(t,e){return vR(t,e,null,!0),El}function vR(t,e,n,r){let i=ae(),o=et(),s=aI(2);if(o.firstUpdatePass&&_R(o,t,s,r),e!==pn&&Vi(i,s,e)){let a=o.data[Mr()];DR(o,a,i,i[Te],t,i[s+1]=bR(e,n),r,s)}}function yR(t,e){return e>=t.expandoStartIndex}function _R(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Mr()],s=yR(t,n);SR(o,r)&&e===null&&!s&&(e=!1),e=IR(i,o,e,r),pR(i,o,e,n,s,r)}}function IR(t,e,n,r){let i=gA(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=vf(null,t,e,n,r),n=ss(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=vf(i,t,e,n,r),o===null){let c=ER(t,e,r);c!==void 0&&Array.isArray(c)&&(c=vf(null,t,e,c[1],r),c=ss(c,e.attrs,r),CR(t,e,r,c))}else o=wR(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function ER(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ji(r)!==0)return t[Tr(r)]}function CR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Tr(i)]=r}function wR(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ss(r,s,n)}return ss(r,e.attrs,n)}function vf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ss(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ss(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_T(t,s,n?!0:e[++o]))}return t===void 0?null:t}function DR(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=hR(l)?h_(c,e,n,i,ji(l),s):void 0;if(!Jc(u)){Jc(o)||dR(l)&&(o=h_(c,null,n,i,a,s));let d=Q_(Mr(),n);NM(r,s,d,i,o)}}function h_(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===pn&&(f=d?ot:void 0);let h=d?af(f,r):u===r?f:void 0;if(l&&!Jc(h)&&(h=af(c,r)),Jc(h)&&(a=h,s))return a;let m=t[i+1];i=s?Tr(m):ji(m)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=af(c,r))}return a}function Jc(t){return t!==void 0}function bR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$e(ds(t)))),t}function SR(t,e){return(t.flags&(e?8:16))!==0}function TR(t,e,n,r,i,o){let s=e.consts,a=ki(s,i),c=fs(e,t,2,r,a);return Fh(e,n,c,ki(s,o)),c.attrs!==null&&Kc(c,c.attrs,!1),c.mergedAttrs!==null&&Kc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function g(t,e,n,r){let i=ae(),o=et(),s=rn+t,a=i[Te],c=o.firstCreatePass?TR(s,o,i,e,n,r):o.data[s],l=AR(o,i,c,a,e,t);i[s]=l;let u=sl(c);return Ar(c,!0),ZI(a,l,c),!rR(c)&&ll()&&pl(o,i,l,c),rA()===0&&Bn(l,i),iA(),u&&(kh(o,i,c),xh(o,c,i)),r!==null&&Oh(i,c),g}function v(){let t=ze();gh()?oI():(t=t.parent,Ar(t,!1));let e=t;aA(e)&&cA(),oA();let n=et();return n.firstCreatePass&&(dl(n,t),ph(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&wA(e)&&f_(n,e,ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DA(e)&&f_(n,e,ae(),e.stylesWithoutHost,!1),v}function Q(t,e,n,r){return g(t,e,n,r),v(),Q}var AR=(t,e,n,r,i,o)=>(ul(!0),$I(r,i,_A()));function MR(t,e,n,r,i){let o=e.consts,s=ki(o,r),a=fs(e,t,8,"ng-container",s);s!==null&&Kc(a,s,!0);let c=ki(o,i);return Fh(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function $h(t,e,n){let r=ae(),i=et(),o=t+rn,s=i.firstCreatePass?MR(o,i,r,e,n):i.data[o];Ar(s,!0);let a=NR(i,r,s,t);return r[o]=a,ll()&&pl(i,r,a,s),Bn(a,r),sl(s)&&(kh(i,r,s),xh(i,s,r)),n!=null&&Oh(r,s),$h}function Hh(){let t=ze(),e=et();return gh()?oI():(t=t.parent,Ar(t,!1)),e.firstCreatePass&&(dl(e,t),ph(t)&&e.queries.elementEnd(t)),Hh}var NR=(t,e,n,r)=>(ul(!0),pM(e[Te],""));function Cl(){return ae()}var Xc="en-US";var RR=Xc;function xR(t){typeof t=="string"&&(RR=t.toLowerCase().replace(/_/g,"-"))}var kR=(t,e,n)=>{};function ye(t,e,n,r){let i=ae(),o=et(),s=ze();return PR(o,i,i[Te],s,t,e,r),ye}function OR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Fc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function PR(t,e,n,r,i,o,s){let a=sl(r),l=t.firstCreatePass&&iN(t),u=e[Ct],d=rN(e),f=!0;if(r.type&3||s){let C=lt(r,e),T=s?s(C):C,V=d.length,de=s?Fe=>s(Ut(Fe[r.index])):r.index,fe=null;if(!s&&a&&(fe=OR(t,e,i,r.index)),fe!==null){let Fe=fe.__ngLastListenerFn__||fe;Fe.__ngNextListenerFn__=o,fe.__ngLastListenerFn__=o,f=!1}else{o=m_(r,e,u,o),kR(C,i,o);let Fe=n.listen(T,i,o);d.push(o,Fe),l&&l.push(i,de,V,V+1)}}else o=m_(r,e,u,o);let h=r.outputs,m;if(f&&h!==null&&(m=h[i])){let C=m.length;if(C)for(let T=0;T<C;T+=2){let V=m[T],de=m[T+1],en=e[V][de].subscribe(o),Re=d.length;d.push(o,en),l&&l.push(i,r.index,Re,-(Re+1))}}}function p_(t,e,n,r){let i=K(null);try{return Pt(6,e,n),n(r)!==!1}catch(o){return sE(t,o),!1}finally{Pt(7,e,n),K(i)}}function m_(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Hn(t.index,e):e;jh(s,5);let a=p_(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=p_(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function ms(t=1){return yA(t)}function I(t,e=""){let n=ae(),r=et(),i=t+rn,o=r.firstCreatePass?fs(r,i,1,e,null):r.data[i],s=FR(r,n,o,e,t);n[i]=s,ll()&&pl(r,n,s,o),Ar(o,!1)}var FR=(t,e,n,r,i)=>(ul(!0),fM(e[Te],r));function gs(t){return vs("",t,""),gs}function vs(t,e,n){let r=ae(),i=lR(r,t,e,n);return i!==pn&&aE(r,Mr(),i),vs}function Wh(t,e,n,r,i){let o=ae(),s=uR(o,t,e,n,r,i);return s!==pn&&aE(o,Mr(),s),Wh}function LR(t,e,n){let r=et();if(r.firstCreatePass){let i=Un(t);eh(n,r.data,r.blueprint,i,!0),eh(e,r.data,r.blueprint,i,!1)}}function eh(t,e,n,r,i){if(t=Be(t),Array.isArray(t))for(let o=0;o<t.length;o++)eh(t[o],e,n,r,i);else{let o=et(),s=ae(),a=ze(),c=Mi(t)?t:Be(t.provide),l=W_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Mi(t)||!t.multi){let h=new br(l,i,w),m=_f(c,e,i?u:u+f,d);m===-1?(Of($c(a,s),o,c),yf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[m]=h,s[m]=h)}else{let h=_f(c,e,u+f,d),m=_f(c,e,u,u+f),C=h>=0&&n[h],T=m>=0&&n[m];if(i&&!T||!i&&!C){Of($c(a,s),o,c);let V=UR(i?jR:VR,n.length,i,r,l);!i&&T&&(n[m].providerFactory=V),yf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),s.push(V)}else{let V=_E(n[i?m:h],l,!i&&r);yf(o,t,h>-1?h:m,V)}!i&&r&&T&&n[m].componentProviders++}}}function yf(t,e,n,r){let i=Mi(e),o=UT(e);if(i||o){let c=(o?Be(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function _E(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _f(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function VR(t,e,n,r){return th(this.multi,[])}function jR(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Oi(n,n[Y],this.providerFactory.index,r);o=a.slice(0,s),th(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],th(i,o);return o}function th(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function UR(t,e,n,r,i){let o=new br(t,n,w);return o.multi=[],o.index=e,o.componentProviders=0,_E(o,i,r&&!n),o}function Nr(t,e=[]){return n=>{n.providersResolver=(r,i)=>LR(r,i?i(t):t,e)}}var BR=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=B_(!1,n.type),i=r.length>0?Bh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=D({token:t,providedIn:"environment",factory:()=>new t(R(ct))})}}return t})();function re(t){hs("NgStandalone"),t.getStandaloneInjector=e=>e.get(BR).getOrCreateStandaloneInjector(t)}function tt(t,e,n,r,i){return HR(ae(),uA(),t,e,n,r,i)}function $R(t,e){let n=t[e];return n===pn?void 0:n}function HR(t,e,n,r,i,o,s){let a=e+n;return yE(t,a,i,o)?nR(t,a+2,s?r.call(s,i,o):r(i,o)):$R(t,a+2)}var an=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},IE=new an("18.2.10");var wl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var EE=new S("");function Rr(t){return!!t&&typeof t.then=="function"}function CE(t){return!!t&&typeof t.subscribe=="function"}var wE=new S(""),DE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=E(wE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Rr(o))n.push(o);else if(CE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zh=new S("");function WR(){ny(()=>{throw new b(600,!1)})}function zR(t){return t.isBoundToModule}var GR=10;function qR(t,e,n){try{let r=n();return Rr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(WA),this.afterRenderManager=E(cR),this.zonelessEnabled=E(_l),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Se,this.afterTick=new Se,this.componentTypes=[],this.components=[],this.isStable=E(Bi).hasPendingTasks.pipe(O(n=>!n)),this._injector=E(ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Yc;if(!this._injector.get(DE).done){let f=!i&&L_(n),h=!1;throw new b(405,h)}let s;i?s=n:s=this._injector.get(Fi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=zR(s)?void 0:this._injector.get($n),c=r||s.selector,l=s.create(Ze.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(EE,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Mc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new b(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,K(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Li,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<GR;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)YR(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>al(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Mc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(zh,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Mc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Mc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function YR(t,e,n,r){if(!n&&!al(t))return;uE(t,e,n&&!r?0:1)}var nh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gh=(()=>{class t{compileModuleSync(n){return new Qf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=V_(n),o=BI(i.declarations).reduce((s,a)=>{let c=Er(a);return c&&s.push(new is(c)),s},[]);return new nh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var KR=(()=>{class t{constructor(){this.zone=E(te),this.changeDetectionScheduler=E(Pi),this.applicationRef=E(xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZR=new S("",{factory:()=>!1});function bE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new te(j(_({},TE()),{scheduleInRootZone:n})),[{provide:te,useFactory:t},{provide:Ai,multi:!0,useFactory:()=>{let r=E(KR,{optional:!0});return()=>r.initialize()}},{provide:Ai,multi:!0,useFactory:()=>{let r=E(QR);return()=>{r.initialize()}}},e===!0?{provide:pE,useValue:!0}:[],{provide:mE,useValue:n??TI}]}function SE(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=bE({ngZoneFactory:()=>{let i=TE(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&hs("NgZone_CoalesceEvent"),new te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Bt([{provide:ZR,useValue:!0},{provide:_l,useValue:!1},r])}function TE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var QR=(()=>{class t{constructor(){this.subscription=new he,this.initialized=!1,this.zone=E(te),this.pendingTasks=E(Bi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var JR=(()=>{class t{constructor(){this.appRef=E(xr),this.taskService=E(Bi),this.ngZone=E(te),this.zonelessEnabled=E(_l),this.disableScheduling=E(pE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new he,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(mE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Zy:MI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Zy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XR(){return typeof $localize<"u"&&$localize.locale||Xc}var qh=new S("",{providedIn:"root",factory:()=>E(qh,$.Optional|$.SkipSelf)||XR()});var rh=new S("");function bc(t){return!t.moduleRef}function ex(t){let e=bc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(te);return n.run(()=>{bc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(on,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),bc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(rh);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(rh);s.add(o),t.moduleRef.onDestroy(()=>{Mc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return qR(r,n,()=>{let o=e.get(DE);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(qh,Xc);if(xR(s||Xc),bc(t)){let a=e.get(xr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return tx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function tx(t,e){let n=t.injector.get(xr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new b(-403,!1);e.push(t)}var Nc=null;function nx(t=[],e){return Ze.create({name:e,providers:[{provide:rl,useValue:"platform"},{provide:rh,useValue:new Set([()=>Nc=null])},...t]})}function rx(t=[]){if(Nc)return Nc;let e=nx(t);return Nc=e,WR(),ix(e),e}function ix(t){t.get(bh,null)?.forEach(n=>n())}var Hi=(()=>{class t{static{this.__NG_ELEMENT_ID__=ox}}return t})();function ox(t){return sx(ze(),ae(),(t&16)===16)}function sx(t,e,n){if(ol(t)&&!n){let r=Hn(t.index,e);return new Sr(r,r)}else if(t.type&175){let r=e[jt];return new Sr(r,e)}return null}var ih=class{constructor(){}supports(e){return vE(e)}create(e){return new oh(e)}},ax=(t,e)=>e,oh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ax}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<g_(r,i,o)?n:r,a=g_(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,m=h+f;u<=m&&m<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!vE(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,eR(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new sh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new el),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new el),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ah=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},el=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ah,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function g_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function v_(){return new Yh([new ih])}var Yh=(()=>{class t{static{this.\u0275prov=D({token:t,providedIn:"root",factory:v_})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||v_()),deps:[[t,new A_,new We]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new b(901,!1)}}return t})();function AE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=rx(r),o=[bE({}),{provide:Pi,useExisting:JR},...n||[]],s=new Qc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return ex({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Wi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ys(t,e){hs("NgSignals");let n=Xv(t);return e?.equal&&(n[Nn].equal=e.equal),n}function mn(t){let e=K(null);try{return t()}finally{K(e)}}var OE=null;function gn(){return OE}function PE(t){OE??=t}var Dl=class{};var ut=new S(""),FE=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:()=>E(cx),providedIn:"platform"})}}return t})();var cx=(()=>{class t extends FE{constructor(){super(),this._doc=E(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gn().getBaseHref(this._doc)}onPopState(n){let r=gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function LE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ME(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kr(t){return t&&t[0]!=="?"?"?"+t:t}var zi=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:()=>E(VE),providedIn:"root"})}}return t})(),lx=new S(""),VE=(()=>{class t extends zi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return LE(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(R(FE),R(lx,8))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _s=(()=>{class t{constructor(n){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=fx(ME(NE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+kr(r))}normalize(n){return t.stripTrailingSlash(dx(this._basePath,NE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=kr}static{this.joinWithSlash=LE}static{this.stripTrailingSlash=ME}static{this.\u0275fac=function(r){return new(r||t)(R(zi))}}static{this.\u0275prov=D({token:t,factory:()=>ux(),providedIn:"root"})}}return t})();function ux(){return new _s(R(zi))}function dx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function NE(t){return t.replace(/\/index.html$/,"")}function fx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function jE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Kh=/\s+/,RE=[],Gi=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=RE,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Kh):RE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Kh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Kh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(w(Dt),w(Ht))}}static{this.\u0275dir=ve({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Zh=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},UE=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Zh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),xE(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);xE(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(w($i),w(yl),w(Yh))}}static{this.\u0275dir=ve({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function xE(t,e){t.context.$implicit=e.item}var Gn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Qh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){kE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){kE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(w($i),w(yl))}}static{this.\u0275dir=ve({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Qh=class{constructor(){this.$implicit=null,this.ngIf=null}};function kE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${$e(e)}'.`)}var we=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=un({type:t})}static{this.\u0275inj=ln({})}}return t})(),BE="browser",hx="server";function Jh(t){return t===hx}var bl=class{};var tp=class extends Dl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},np=class t extends tp{static makeCurrent(){PE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=px();return n==null?null:mx(n)}resetBaseElement(){Is=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jE(document.cookie,e)}},Is=null;function px(){return Is=Is||document.querySelector("base"),Is?Is.getAttribute("href"):null}function mx(t){return new URL(t,document.baseURI).pathname}var gx=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac})}}return t})(),rp=new S(""),zE=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(R(rp),R(te))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac})}}return t})(),Sl=class{constructor(e){this._doc=e}},Xh="ng-app-id",GE=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jh(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Xh}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Xh),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Xh,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(R(ut),R(Dh),R(Sh,8),R(zn))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac})}}return t})(),ep={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},op=/%COMP%/g,qE="%COMP%",vx=`_nghost-${qE}`,yx=`_ngcontent-${qE}`,_x=!0,Ix=new S("",{providedIn:"root",factory:()=>_x});function Ex(t){return yx.replace(op,t)}function Cx(t){return vx.replace(op,t)}function YE(t,e){return e.map(n=>n.replace(op,t))}var $E=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Jh(a),this.defaultRenderer=new Es(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Lt.ShadowDom&&(r=j(_({},r),{encapsulation:Lt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Tl?i.applyToHost(n):i instanceof Cs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Lt.Emulated:o=new Tl(c,l,r,this.appId,u,s,a,d);break;case Lt.ShadowDom:return new ip(c,l,n,r,s,a,this.nonce,d);default:o=new Cs(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(R(zE),R(GE),R(Dh),R(Ix),R(ut),R(zn),R(te),R(Sh))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac})}}return t})(),Es=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ep[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(HE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(HE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=ep[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ep[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sn.DashCase|sn.Important)?e.style.setProperty(n,r,i&sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function HE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ip=class extends Es{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=YE(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cs=class extends Es{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?YE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tl=class extends Cs{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=Ex(l),this.hostAttr=Cx(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},wx=(()=>{class t extends Sl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(R(ut))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac})}}return t})(),WE=["alt","control","meta","shift"],Dx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Sx=(()=>{class t extends Sl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),WE.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=Dx[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),WE.forEach(s=>{if(s!==i){let a=bx[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(R(ut))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac})}}return t})();function KE(t,e){return AE(_({rootComponent:t},Tx(e)))}function Tx(t){return{appProviders:[...xx,...t?.providers??[]],platformProviders:Rx}}function Ax(){np.makeCurrent()}function Mx(){return new on}function Nx(){return FI(document),document}var Rx=[{provide:zn,useValue:BE},{provide:bh,useValue:Ax,multi:!0},{provide:ut,useFactory:Nx,deps:[]}];var xx=[{provide:rl,useValue:"root"},{provide:on,useFactory:Mx,deps:[]},{provide:rp,useClass:wx,multi:!0,deps:[ut,te,zn]},{provide:rp,useClass:Sx,multi:!0,deps:[ut]},$E,GE,zE,{provide:Li,useExisting:$E},{provide:bl,useClass:gx,deps:[]},[]];var ZE=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(R(ut))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var U="primary",Vs=Symbol("RouteTitle"),up=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xi(t){return new up(t)}function Ox(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Px(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wt(t[n],e[n]))return!1;return!0}function Wt(t,e){let n=t?dp(t):void 0,r=e?dp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!iC(t[i],e[i]))return!1;return!0}function dp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function iC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function oC(t){return t.length>0?t[t.length-1]:null}function Yn(t){return Qd(t)?t:Rr(t)?oe(Promise.resolve(t)):N(t)}var Fx={exact:aC,subset:cC},sC={exact:Lx,subset:Vx,ignored:()=>!0};function QE(t,e,n){return Fx[n.paths](t.root,e.root,n.matrixParams)&&sC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Lx(t,e){return Wt(t,e)}function aC(t,e,n){if(!Pr(t.segments,e.segments)||!Nl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!aC(t.children[r],e.children[r],n))return!1;return!0}function Vx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>iC(t[n],e[n]))}function cC(t,e,n){return lC(t,e,e.segments,n)}function lC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Pr(i,n)||e.hasChildren()||!Nl(i,n,r))}else if(t.segments.length===n.length){if(!Pr(t.segments,n)||!Nl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!cC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Pr(t.segments,i)||!Nl(t.segments,i,r)||!t.children[U]?!1:lC(t.children[U],e,o,r)}}function Nl(t,e,n){return e.every((r,i)=>sC[n](t[i].parameters,r.parameters))}var yn=class{constructor(e=new J([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xi(this.queryParams),this._queryParamMap}toString(){return Bx.serialize(this)}},J=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rl(this)}},Or=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Xi(this.parameters),this._parameterMap}toString(){return dC(this)}};function jx(t,e){return Pr(t,e)&&t.every((n,r)=>Wt(n.parameters,e[r].parameters))}function Pr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Ux(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var Lp=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:()=>new Ms,providedIn:"root"})}}return t})(),Ms=class{parse(e){let n=new hp(e);return new yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ws(e.root,!0)}`,r=Wx(e.queryParams),i=typeof e.fragment=="string"?`#${$x(e.fragment)}`:"";return`${n}${r}${i}`}},Bx=new Ms;function Rl(t){return t.segments.map(e=>dC(e)).join("/")}function ws(t,e){if(!t.hasChildren())return Rl(t);if(e){let n=t.children[U]?ws(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${ws(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Ux(t,(r,i)=>i===U?[ws(t.children[U],!1)]:[`${i}:${ws(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${Rl(t)}/${n[0]}`:`${Rl(t)}/(${n.join("//")})`}}function uC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Al(t){return uC(t).replace(/%3B/gi,";")}function $x(t){return encodeURI(t)}function fp(t){return uC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xl(t){return decodeURIComponent(t)}function JE(t){return xl(t.replace(/\+/g,"%20"))}function dC(t){return`${fp(t.path)}${Hx(t.parameters)}`}function Hx(t){return Object.entries(t).map(([e,n])=>`;${fp(e)}=${fp(n)}`).join("")}function Wx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Al(n)}=${Al(i)}`).join("&"):`${Al(n)}=${Al(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var zx=/^[^\/()?;#]+/;function sp(t){let e=t.match(zx);return e?e[0]:""}var Gx=/^[^\/()?;=#]+/;function qx(t){let e=t.match(Gx);return e?e[0]:""}var Yx=/^[^=?&#]+/;function Kx(t){let e=t.match(Yx);return e?e[0]:""}var Zx=/^[^&#]+/;function Qx(t){let e=t.match(Zx);return e?e[0]:""}var hp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new J([],{}):new J([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new J(e,n)),r}parseSegment(){let e=sp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Or(xl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=qx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=sp(this.remaining);i&&(r=i,this.capture(r))}e[xl(n)]=xl(r)}parseQueryParam(e){let n=Kx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Qx(this.remaining);s&&(r=s,this.capture(r))}let i=JE(n),o=JE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=U);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[U]:new J([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function fC(t){return t.segments.length>0?new J([],{[U]:t}):t}function hC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=hC(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new J(t.segments,e);return Jx(n)}function Jx(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new J(t.segments.concat(e.segments),e.children)}return t}function Fr(t){return t instanceof yn}function Xx(t,e,n=null,r=null){let i=pC(t);return mC(i,e,n,r)}function pC(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new J(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=fC(r);return e??i}function mC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ap(i,i,i,n,r);let o=ek(e);if(o.toRoot())return ap(i,i,new J([],{}),n,r);let s=tk(o,i,t),a=s.processChildren?Ss(s.segmentGroup,s.index,o.commands):vC(s.segmentGroup,s.index,o.commands);return ap(i,s.segmentGroup,a,n,r)}function kl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ns(t){return typeof t=="object"&&t!=null&&t.outlets}function ap(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=gC(t,e,n);let a=fC(hC(s));return new yn(a,o,i)}function gC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=gC(o,e,n)}),new J(t.segments,r)}var Ol=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kl(r[0]))throw new b(4003,!1);let i=r.find(Ns);if(i&&i!==oC(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ek(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ol(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ol(n,e,r)}var Zi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function tk(t,e,n){if(t.isAbsolute)return new Zi(e,!0,0);if(!n)return new Zi(e,!1,NaN);if(n.parent===null)return new Zi(n,!0,0);let r=kl(t.commands[0])?0:1,i=n.segments.length-1+r;return nk(n,i,t.numberOfDoubleDots)}function nk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Zi(r,!1,i-o)}function rk(t){return Ns(t[0])?t[0].outlets:{[U]:t}}function vC(t,e,n){if(t??=new J([],{}),t.segments.length===0&&t.hasChildren())return Ss(t,e,n);let r=ik(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new J(t.segments.slice(0,r.pathIndex),{});return o.children[U]=new J(t.segments.slice(r.pathIndex),t.children),Ss(o,0,i)}else return r.match&&i.length===0?new J(t.segments,{}):r.match&&!t.hasChildren()?pp(t,e,n):r.match?Ss(t,0,i):pp(t,e,n)}function Ss(t,e,n){if(n.length===0)return new J(t.segments,{});{let r=rk(n),i={};if(Object.keys(r).some(o=>o!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let o=Ss(t.children[U],e,n);return new J(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=vC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new J(t.segments,i)}}function ik(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ns(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!eC(c,l,s))return o;r+=2}else{if(!eC(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ns(o)){let c=ok(o.outlets);return new J(r,c)}if(i===0&&kl(n[0])){let c=t.segments[e];r.push(new Or(c.path,XE(n[0]))),i++;continue}let s=Ns(o)?o.outlets[U]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&kl(a)?(r.push(new Or(s,XE(a))),i+=2):(r.push(new Or(s,{})),i++)}return new J(r,{})}function ok(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=pp(new J([],{}),0,r))}),e}function XE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function eC(t,e,n){return t==n.path&&Wt(e,n.parameters)}var Ts="imperative",ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ke||{}),dt=class{constructor(e,n){this.id=e,this.url=n}},Rs=class extends dt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qn=class extends dt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(rt||{}),mp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(mp||{}),vn=class extends dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Lr=class extends dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationSkipped}},xs=class extends dt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pl=class extends dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gp=class extends dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vp=class extends dt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yp=class extends dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_p=class extends dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ip=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ep=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cp=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wp=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dp=class{constructor(e){this.snapshot=e,this.type=ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{constructor(e){this.snapshot=e,this.type=ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ks=class{},eo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function sk(t,e){return t.providers&&!t._injector&&(t._injector=Bh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function St(t){return t.outlet||U}function ak(t,e){let n=t.filter(r=>St(r)===e);return n.push(...t.filter(r=>St(r)!==e)),n}function js(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Sp=class{get injector(){return js(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new $l(this.rootInjector),this.attachRef=null}},$l=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Sp(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(R(ct))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Tp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Tp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ap(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ap(e,this._root).map(n=>n.value)}};function Tp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Tp(t,n);if(r)return r}return null}function Ap(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ap(t,n);if(r.length)return r.unshift(e),r}return[]}var nt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ki(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ll=class extends Fl{constructor(e,n){super(e),this.snapshot=n,Vp(this,e)}toString(){return this.snapshot.toString()}};function yC(t){let e=ck(t),n=new xe([new Or("",{})]),r=new xe({}),i=new xe({}),o=new xe({}),s=new xe(""),a=new _n(n,r,o,s,i,U,t,e.root);return a.snapshot=e.root,new Ll(new nt(a,[]),e)}function ck(t){let e={},n={},r={},i="",o=new Qi([],e,r,i,n,U,t,null,{});return new jl("",new nt(o,[]))}var _n=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(O(l=>l[Vs]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(O(e=>Xi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(O(e=>Xi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:_(_({},e.params),t.params),data:_(_({},e.data),t.data),resolve:_(_(_(_({},t.data),e.data),i?.data),t._resolvedData)}:r={params:_({},t.params),data:_({},t.data),resolve:_(_({},t.data),t._resolvedData??{})},i&&IC(i)&&(r.resolve[Vs]=i.title),r}var Qi=class{get title(){return this.data?.[Vs]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jl=class extends Fl{constructor(e,n){super(n),this.url=e,Vp(this,n)}toString(){return _C(this._root)}};function Vp(t,e){e.value._routerState=t,e.children.forEach(n=>Vp(t,n))}function _C(t){let e=t.children.length>0?` { ${t.children.map(_C).join(", ")} } `:"";return`${t.value}${e}`}function cp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wt(e.params,n.params)||t.paramsSubject.next(n.params),Px(e.url,n.url)||t.urlSubject.next(n.url),Wt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Mp(t,e){let n=Wt(t.params,e.params)&&jx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Mp(t.parent,e.parent))}function IC(t){return typeof t.title=="string"||t.title===null}var Us=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=E($l),this.location=E($i),this.changeDetector=E(Hi),this.inputBinder=E(jp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Np(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$t]})}}return t})(),Np=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===_n?this.route:e===$l?this.childContexts:this.parent.get(e,n)}},jp=new S("");function lk(t,e,n){let r=Os(t,e._root,n?n._root:void 0);return new Ll(r,e)}function Os(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=uk(t,e,n);return new nt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Os(t,a)),s}}let r=dk(e.value),i=e.children.map(o=>Os(t,o));return new nt(r,i)}}function uk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Os(t,r,i);return Os(t,r)})}function dk(t){return new _n(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var Ps=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},EC="ngNavigationCancelingError";function Ul(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Fr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=CC(!1,rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function CC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[EC]=!0,n.cancellationCode=e,n}function fk(t){return wC(t)&&Fr(t.url)}function wC(t){return!!t&&t[EC]}var hk=(t,e,n,r)=>O(i=>(new Rp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Rp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ki(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ki(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ki(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ki(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(cp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Bl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ji=class{constructor(e,n){this.component=e,this.route=n}};function pk(t,e,n){let r=t._root,i=e?e._root:null;return Ds(r,i,n,[r.value])}function mk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function no(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!E_(t)?t:e.get(t):r}function Ds(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ki(e);return t.children.forEach(s=>{gk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>As(a,n.getContext(s),i)),i}function gk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=vk(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ds(t,e,a?a.children:null,r,i):Ds(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ji(a.outlet.component,s))}else s&&As(e,a,i),i.canActivateChecks.push(new Bl(r)),o.component?Ds(t,null,a?a.children:null,r,i):Ds(t,null,n,r,i);return i}function vk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Pr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pr(t.url,e.url)||!Wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mp(t,e)||!Wt(t.queryParams,e.queryParams);case"paramsChange":default:return!Mp(t,e)}}function As(t,e,n){let r=Ki(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?As(s,e.children.getContext(o),n):As(s,null,n):As(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ji(e.outlet.component,i)):n.canDeactivateChecks.push(new Ji(null,i)):n.canDeactivateChecks.push(new Ji(null,i))}function Bs(t){return typeof t=="function"}function yk(t){return typeof t=="boolean"}function _k(t){return t&&Bs(t.canLoad)}function Ik(t){return t&&Bs(t.canActivate)}function Ek(t){return t&&Bs(t.canActivateChild)}function Ck(t){return t&&Bs(t.canDeactivate)}function wk(t){return t&&Bs(t.canMatch)}function DC(t){return t instanceof nn||t?.name==="EmptyError"}var Ml=Symbol("INITIAL_VALUE");function to(){return Ke(t=>yc(t.map(e=>e.pipe(Ye(1),of(Ml)))).pipe(O(e=>{for(let n of e)if(n!==!0){if(n===Ml)return Ml;if(n===!1||Dk(n))return n}return!0}),_t(e=>e!==Ml),Ye(1)))}function Dk(t){return Fr(t)||t instanceof Ps}function bk(t,e){return ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?N(j(_({},n),{guardsResult:!0})):Sk(s,r,i,t).pipe(ge(a=>a&&yk(a)?Tk(r,o,t,e):N(a)),O(a=>j(_({},n),{guardsResult:a})))})}function Sk(t,e,n,r){return oe(t).pipe(ge(i=>xk(i.component,i.route,n,e,r)),Ot(i=>i!==!0,!0))}function Tk(t,e,n,r){return oe(e).pipe(yi(i=>kn(Mk(i.route.parent,r),Ak(i.route,r),Rk(t,i.path,n),Nk(t,i.route,n))),Ot(i=>i!==!0,!0))}function Ak(t,e){return t!==null&&e&&e(new Dp(t)),N(!0)}function Mk(t,e){return t!==null&&e&&e(new Cp(t)),N(!0)}function Nk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>_c(()=>{let s=js(e)??n,a=no(o,s),c=Ik(a)?a.canActivate(e,t):dn(s,()=>a(e,t));return Yn(c).pipe(Ot())}));return N(i).pipe(to())}function Rk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>mk(s)).filter(s=>s!==null).map(s=>_c(()=>{let a=s.guards.map(c=>{let l=js(s.node)??n,u=no(c,l),d=Ek(u)?u.canActivateChild(r,t):dn(l,()=>u(r,t));return Yn(d).pipe(Ot())});return N(a).pipe(to())}));return N(o).pipe(to())}function xk(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let c=js(e)??i,l=no(a,c),u=Ck(l)?l.canDeactivate(t,e,n,r):dn(c,()=>l(t,e,n,r));return Yn(u).pipe(Ot())});return N(s).pipe(to())}function kk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=no(s,t),c=_k(a)?a.canLoad(e,n):dn(t,()=>a(e,n));return Yn(c)});return N(o).pipe(to(),bC(r))}function bC(t){return zo(Ce(e=>{if(typeof e!="boolean")throw Ul(t,e)}),O(e=>e===!0))}function Ok(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=no(s,t),c=wk(a)?a.canMatch(e,n):dn(t,()=>a(e,n));return Yn(c)});return N(o).pipe(to(),bC(r))}var Fs=class{constructor(e){this.segmentGroup=e||null}},Ls=class extends Error{constructor(e){super(),this.urlTree=e}};function Yi(t){return vi(new Fs(t))}function Pk(t){return vi(new b(4e3,!1))}function Fk(t){return vi(CC(!1,rt.GuardRejected))}var xp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[U])return Pk(`${e.redirectTo}`);i=i.children[U]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:m,title:C}=i,T=dn(o,()=>a({params:h,data:m,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:C}));if(T instanceof yn)throw new Ls(T);n=T}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ls(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new yn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new J(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},kp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lk(t,e,n,r,i){let o=SC(t,e,n);return o.matched?(r=sk(e,r),Ok(r,e,n,i).pipe(O(s=>s===!0?o:_({},kp)))):N(o)}function SC(t,e,n){if(e.path==="**")return Vk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?_({},kp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ox)(n,t,e);if(!i)return _({},kp);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Vk(t){return{matched:!0,parameters:t.length>0?oC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function tC(t,e,n,r){return n.length>0&&Bk(t,n,r)?{segmentGroup:new J(e,Uk(r,new J(n,t.children))),slicedSegments:[]}:n.length===0&&$k(t,n,r)?{segmentGroup:new J(t.segments,jk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new J(t.segments,t.children),slicedSegments:n}}function jk(t,e,n,r){let i={};for(let o of n)if(Hl(t,e,o)&&!r[St(o)]){let s=new J([],{});i[St(o)]=s}return _(_({},r),i)}function Uk(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&St(r)!==U){let i=new J([],{});n[St(r)]=i}return n}function Bk(t,e,n){return n.some(r=>Hl(t,e,r)&&St(r)!==U)}function $k(t,e,n){return n.some(r=>Hl(t,e,r))}function Hl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Hk(t,e,n){return e.length===0&&!t.children[n]}var Op=class{};function Wk(t,e,n,r,i,o,s="emptyOnly"){return new Pp(t,e,n,r,i,s,o).recognize()}var zk=31,Pp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=tC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(O(({children:n,rootSnapshot:r})=>{let i=new nt(r,n),o=new jl("",i),s=Xx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Qi([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,n).pipe(O(r=>({children:r,rootSnapshot:n})),On(r=>{if(r instanceof Ls)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fs?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(O(s=>s instanceof nt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return oe(o).pipe(yi(s=>{let a=r.children[s],c=ak(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Zo((s,a)=>(s.push(...a),s)),Pn(null),rf(),ge(s=>{if(s===null)return Yi(r);let a=TC(s);return Gk(a),N(a)}))}processSegment(e,n,r,i,o,s,a){return oe(n).pipe(yi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(On(l=>{if(l instanceof Fs)return N(null);throw l}))),Ot(c=>!!c),On(c=>{if(DC(c))return Hk(r,i,o)?N(new Op):Yi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return St(r)!==s&&(s===U||!Hl(i,o,r))?Yi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Yi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=SC(n,i,o);if(!c)return Yi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zk&&(this.allowRedirects=!1));let h=new Qi(o,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,nC(i),St(i),i.component??i._loadedComponent??null,i,rC(i)),m=Vl(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let C=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,C).pipe(ge(T=>this.processSegment(e,r,n,T.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Lk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ke(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ke(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,m=new Qi(f,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,nC(r),St(r),r.component??r._loadedComponent??null,r,rC(r)),C=Vl(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data);let{segmentGroup:T,slicedSegments:V}=tC(n,f,h,l);if(V.length===0&&T.hasChildren())return this.processChildren(u,l,T,m).pipe(O(fe=>new nt(m,fe)));if(l.length===0&&V.length===0)return N(new nt(m,[]));let de=St(r)===o;return this.processSegment(u,l,T,V,de?U:o,!0,m).pipe(O(fe=>new nt(m,fe instanceof nt?[fe]:[])))}))):Yi(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):kk(e,n,r,this.urlSerializer).pipe(ge(i=>i?this.configLoader.loadChildren(e,n).pipe(Ce(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Fk(n))):N({routes:[],injector:e})}};function Gk(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function qk(t){let e=t.value.routeConfig;return e&&e.path===""}function TC(t){let e=[],n=new Set;for(let r of t){if(!qk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=TC(r.children);e.push(new nt(r.value,i))}return e.filter(r=>!n.has(r))}function nC(t){return t.data||{}}function rC(t){return t.resolve||{}}function Yk(t,e,n,r,i,o){return ge(s=>Wk(t,e,n,r,s.extractedUrl,i,o).pipe(O(({state:a,tree:c})=>j(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Kk(t,e){return ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of AC(c))s.add(l);let a=0;return oe(s).pipe(yi(c=>o.has(c)?Zk(c,r,t,e):(c.data=Vl(c,c.parent,t).resolve,N(void 0))),Ce(()=>a++),_i(1),ge(c=>a===s.size?N(n):Ue))})}function AC(t){let e=t.children.map(n=>AC(n)).flat();return[t,...e]}function Zk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!IC(i)&&(o[Vs]=i.title),Qk(o,t,e,r).pipe(O(s=>(t._resolvedData=s,t.data=Vl(t,t.parent,n).resolve,null)))}function Qk(t,e,n,r){let i=dp(t);if(i.length===0)return N({});let o={};return oe(i).pipe(ge(s=>Jk(t[s],e,n,r).pipe(Ot(),Ce(a=>{if(a instanceof Ps)throw Ul(new Ms,a);o[s]=a}))),_i(1),Yo(o),On(s=>DC(s)?Ue:vi(s)))}function Jk(t,e,n,r){let i=js(e)??r,o=no(t,i),s=o.resolve?o.resolve(e,n):dn(i,()=>o(e,n));return Yn(s)}function lp(t){return Ke(e=>{let n=t(e);return n?oe(n).pipe(O(()=>e)):N(e)})}var MC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===U);return r}getResolvedTitleForRoute(n){return n.data[Vs]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:()=>E(Xk),providedIn:"root"})}}return t})(),Xk=(()=>{class t extends MC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(R(ZE))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Up=new S("",{providedIn:"root",factory:()=>({})}),eO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=ne({type:t,selectors:[["ng-component"]],standalone:!0,features:[re],decls:1,vars:0,template:function(r,i){r&1&&Q(0,"router-outlet")},dependencies:[Us],encapsulation:2})}}return t})();function Bp(t){let e=t.children&&t.children.map(Bp),n=e?j(_({},t),{children:e}):_({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=eO),n}var $p=new S(""),tO=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(Gh)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return N(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Yn(n.loadComponent()).pipe(O(NC),Ce(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ko(()=>{this.componentLoaders.delete(n)})),i=new fi(r,()=>new Se).pipe(di());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=nO(r,this.compiler,n,this.onLoadEndListener).pipe(Ko(()=>{this.childrenLoaders.delete(r)})),s=new fi(o,()=>new Se).pipe(di());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nO(t,e,n,r){return Yn(t.loadChildren()).pipe(O(NC),ge(i=>i instanceof os||Array.isArray(i)?N(i):oe(e.compileModuleAsync(i))),O(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get($p,[],{optional:!0,self:!0}).flat()),{routes:s.map(Bp),injector:o}}))}function rO(t){return t&&typeof t=="object"&&"default"in t}function NC(t){return rO(t)?t.default:t}var Hp=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:()=>E(iO),providedIn:"root"})}}return t})(),iO=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oO=new S("");var sO=new S(""),aO=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se,this.transitionAbortSubject=new Se,this.configLoader=E(tO),this.environmentInjector=E(ct),this.urlSerializer=E(Lp),this.rootContexts=E($l),this.location=E(_s),this.inputBindingEnabled=E(jp,{optional:!0})!==null,this.titleStrategy=E(MC),this.options=E(Up,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Hp),this.createViewTransition=E(oO,{optional:!0}),this.navigationErrorHandler=E(sO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Ip(i)),r=i=>this.events.next(new Ep(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(j(_(_({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new xe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ts,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_t(o=>o.id!==0),O(o=>j(_({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ke(o=>{let s=!1,a=!1;return N(o).pipe(Ke(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",rt.SupersededByNewNavigation),Ue;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?j(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Lr(c.id,this.urlSerializer.serialize(c.rawUrl),d,mp.IgnoredSameUrlNavigation)),c.resolve(!1),Ue}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return N(c).pipe(Ke(d=>{let f=this.transitions?.getValue();return this.events.next(new Rs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Ue:Promise.resolve(d)}),Yk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ce(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=j(_({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Pl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:m,extras:C}=c,T=new Rs(d,this.urlSerializer.serialize(f),h,m);this.events.next(T);let V=yC(this.rootComponentType).snapshot;return this.currentTransition=o=j(_({},c),{targetSnapshot:V,urlAfterRedirects:f,extras:j(_({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,N(o)}else{let d="";return this.events.next(new Lr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,mp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ue}}),Ce(c=>{let l=new gp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),O(c=>(this.currentTransition=o=j(_({},c),{guards:pk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),bk(this.environmentInjector,c=>this.events.next(c)),Ce(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Ul(this.urlSerializer,c.guardsResult);let l=new vp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),_t(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",rt.GuardRejected),!1)),lp(c=>{if(c.guards.canActivateChecks.length)return N(c).pipe(Ce(l=>{let u=new yp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ke(l=>{let u=!1;return N(l).pipe(Kk(this.paramsInheritanceStrategy,this.environmentInjector),Ce({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",rt.NoDataFromResolver)}}))}),Ce(l=>{let u=new _p(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),lp(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ce(f=>{u.component=f}),O(()=>{})));for(let f of u.children)d.push(...l(f));return d};return yc(l(c.targetSnapshot.root)).pipe(Pn(null),Ye(1))}),lp(()=>this.afterPreactivation()),Ke(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?oe(u).pipe(O(()=>o)):N(o)}),O(c=>{let l=lk(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=j(_({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ce(()=>{this.events.next(new ks)}),hk(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ye(1),Ce({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),sf(this.transitionAbortSubject.pipe(Ce(c=>{throw c}))),Ko(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",rt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),On(c=>{if(a=!0,wC(c))this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),fk(c)?this.events.next(new eo(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new xs(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ps){let{message:d,cancellationCode:f}=Ul(this.urlSerializer,u);this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new eo(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ue}))}))}cancelNavigationTransition(n,r,i){let o=new vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cO(t){return t!==Ts}var lO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:()=>E(uO),providedIn:"root"})}}return t})(),Fp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},uO=(()=>{class t extends Fp{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:()=>E(dO),providedIn:"root"})}}return t})(),dO=(()=>{class t extends RC{constructor(){super(...arguments),this.location=E(_s),this.urlSerializer=E(Lp),this.options=E(Up,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Hp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=yC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Rs)this.stateMemento=this.createStateMemento();else if(n instanceof Lr)this.rawUrlTree=r.initialUrl;else if(n instanceof Pl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ks?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof vn&&(n.code===rt.GuardRejected||n.code===rt.NoDataFromResolver)?this.restoreHistory(r):n instanceof xs?this.restoreHistory(r,!0):n instanceof qn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof yn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=_(_({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=_(_({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bs||{});function fO(t,e){t.events.pipe(_t(n=>n instanceof qn||n instanceof vn||n instanceof xs||n instanceof Lr),O(n=>n instanceof qn||n instanceof Lr?bs.COMPLETE:(n instanceof vn?n.code===rt.Redirect||n.code===rt.SupersededByNewNavigation:!1)?bs.REDIRECTING:bs.FAILED),_t(n=>n!==bs.REDIRECTING),Ye(1)).subscribe(()=>{e()})}function hO(t){throw t}var pO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=E(wl),this.stateManager=E(RC),this.options=E(Up,{optional:!0})||{},this.pendingTasks=E(Bi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(aO),this.urlSerializer=E(Lp),this.location=E(_s),this.urlHandlingStrategy=E(Hp),this._events=new Se,this.errorHandler=this.options.errorHandler||hO,this.navigated=!1,this.routeReuseStrategy=E(lO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E($p,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(jp,{optional:!0}),this.eventsSubscription=new he,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vn&&r.code!==rt.Redirect&&r.code!==rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qn)this.navigated=!0;else if(r instanceof eo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=_({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cO(i.source)},s);this.scheduleNavigation(a,Ts,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ts,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=_({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Bp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=pC(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return mC(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Fr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ts,null,r)}navigate(n,r={skipLocationChange:!1}){return gO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=_({},pO):r===!1?i=_({},mO):i=r,Fr(n))return QE(this.currentUrlTree,n,i);let o=this.parseUrl(n);return QE(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return fO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function gO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function vO(t){return!(t instanceof ks)&&!(t instanceof eo)}var Wl=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof qn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:jI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Fr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(w(Tt),w(_n),Eh("tabindex"),w(Ht),w(Dt),w(zi))}}static{this.\u0275dir=ve({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ye("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Il("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wi],replaceUrl:[2,"replaceUrl","replaceUrl",Wi],routerLink:"routerLink"},standalone:!0,features:[Uh,$t]})}}return t})();var yO=new S("");function xC(t,...e){return Bt([{provide:$p,multi:!0,useValue:t},[],{provide:_n,useFactory:_O,deps:[Tt]},{provide:zh,multi:!0,useFactory:IO},e.map(n=>n.\u0275providers)])}function _O(t){return t.routerState.root}function IO(){let t=E(Ze);return e=>{let n=t.get(xr);if(e!==n.components[0])return;let r=t.get(Tt),i=t.get(EO);t.get(CO)===1&&r.initialNavigation(),t.get(wO,null,$.Optional)?.setUpPreloading(),t.get(yO,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var EO=new S("",{factory:()=>new Se}),CO=new S("",{providedIn:"root",factory:()=>1});var wO=new S("");var zp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(t,e){if(!t)throw Vr(e)},Vr=function(t){return new Error("Firebase Database ("+zp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var OC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Gl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Gp;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let m=l<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Yp=function(t){let e=OC(t);return Gl.encodeByteArray(e,!0)},Hs=function(t){return Yp(t).replace(/\./g,"")},Ws=function(t){try{return Gl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PC(t){return FC(void 0,t)}function FC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!bO(n)||(t[n]=FC(t[n],e[n]));return t}function bO(t){return t!=="__proto__"}function SO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var TO=()=>SO().__FIREBASE_DEFAULTS__,AO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ws(t[1]);return e&&JSON.parse(e)},Kp=()=>{try{return TO()||AO()||MO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zp=t=>{var e,n;return(n=(e=Kp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LC=t=>{let e=Zp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qp=()=>{var t;return(t=Kp())===null||t===void 0?void 0:t.config},Jp=t=>{var e;return(e=Kp())===null||e===void 0?void 0:e[`_${t}`]};var Kn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function VC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hs(JSON.stringify(n)),Hs(JSON.stringify(s)),""].join(".")}function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zs(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function jC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ql(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BC(){let t=Le();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zt(){return zp.NODE_CLIENT===!0||zp.NODE_ADMIN===!0}function $C(){try{return typeof indexedDB=="object"}catch{return!1}}function HC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var NO="FirebaseError",At=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}},In=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?RO(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new At(i,a,r)}};function RO(t,e){return t.replace(xO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var xO=/\{\$([^}]+)}/g;function ro(t){return JSON.parse(t)}function _e(t){return JSON.stringify(t)}var WC=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=ro(Ws(o[0])||""),n=ro(Ws(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var zC=function(t){let e=WC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},GC=function(t){let e=WC(t).claims;return typeof e=="object"&&e.admin===!0};function Gt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gs(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qs(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function io(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(kC(o)&&kC(s)){if(!io(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function kC(t){return t!==null&&typeof t=="object"}function Zn(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function so(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var zl=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function qC(t,e){let n=new qp(t,e);return n.subscribe.bind(n)}var qp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wp),i.error===void 0&&(i.error=Wp),i.complete===void 0&&(i.complete=Wp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wp(){}function Yl(t,e){return`${t} failed: ${e} argument `}var YC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,y(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ys=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var $q=4*60*60*1e3;function Ae(t){return t&&t._delegate?t._delegate:t}var ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ur="[DEFAULT]";var Kl=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Kn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PO(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OO(t){return t===Ur?void 0:t}function PO(t){return t.instantiationMode==="EAGER"}var Ks=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Kl(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var FO=[],X=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(X||{}),LO={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},VO=X.INFO,jO={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},UO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=jO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qn=class{constructor(e){this.name=e,this._logLevel=VO,this._logHandler=UO,this._userLogHandler=null,FO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}};var BO=(t,e)=>e.some(n=>t instanceof n),KC,ZC;function $O(){return KC||(KC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HO(){return ZC||(ZC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var QC=new WeakMap,em=new WeakMap,JC=new WeakMap,Xp=new WeakMap,nm=new WeakMap;function WO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&QC.set(n,t)}).catch(()=>{}),nm.set(e,t),e}function zO(t){if(em.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});em.set(t,e)}var tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XC(t){tm=t(tm)}function GO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Zl(this),e,...n);return JC.set(r,e.sort?e.sort():[e]),qt(r)}:HO().includes(t)?function(...e){return t.apply(Zl(this),e),qt(QC.get(this))}:function(...e){return qt(t.apply(Zl(this),e))}}function qO(t){return typeof t=="function"?GO(t):(t instanceof IDBTransaction&&zO(t),BO(t,$O())?new Proxy(t,tm):t)}function qt(t){if(t instanceof IDBRequest)return WO(t);if(Xp.has(t))return Xp.get(t);let e=qO(t);return e!==t&&(Xp.set(t,e),nm.set(e,t)),e}var Zl=t=>nm.get(t);function tw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=qt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(qt(s.result),c.oldVersion,c.newVersion,qt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var YO=["get","getKey","getAll","getAllKeys","count"],KO=["put","add","delete","clear"],rm=new Map;function ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=KO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YO.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return rm.set(e,o),o}XC(t=>j(_({},t),{get:(e,n,r)=>ew(e,n)||t.get(e,n,r),has:(e,n)=>!!ew(e,n)||t.has(e,n)}));var om=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ZO(t){let e=t.getComponent();return e?.type==="VERSION"}var sm="@firebase/app",nw="0.10.13";var En=new Qn("@firebase/app"),QO="@firebase/app-compat",JO="@firebase/analytics-compat",XO="@firebase/analytics",eP="@firebase/app-check-compat",tP="@firebase/app-check",nP="@firebase/auth",rP="@firebase/auth-compat",iP="@firebase/database",oP="@firebase/data-connect",sP="@firebase/database-compat",aP="@firebase/functions",cP="@firebase/functions-compat",lP="@firebase/installations",uP="@firebase/installations-compat",dP="@firebase/messaging",fP="@firebase/messaging-compat",hP="@firebase/performance",pP="@firebase/performance-compat",mP="@firebase/remote-config",gP="@firebase/remote-config-compat",vP="@firebase/storage",yP="@firebase/storage-compat",_P="@firebase/firestore",IP="@firebase/vertexai-preview",EP="@firebase/firestore-compat",CP="firebase",wP="10.14.1";var am="[DEFAULT]",DP={[sm]:"fire-core",[QO]:"fire-core-compat",[XO]:"fire-analytics",[JO]:"fire-analytics-compat",[tP]:"fire-app-check",[eP]:"fire-app-check-compat",[nP]:"fire-auth",[rP]:"fire-auth-compat",[iP]:"fire-rtdb",[oP]:"fire-data-connect",[sP]:"fire-rtdb-compat",[aP]:"fire-fn",[cP]:"fire-fn-compat",[lP]:"fire-iid",[uP]:"fire-iid-compat",[dP]:"fire-fcm",[fP]:"fire-fcm-compat",[hP]:"fire-perf",[pP]:"fire-perf-compat",[mP]:"fire-rc",[gP]:"fire-rc-compat",[vP]:"fire-gcs",[yP]:"fire-gcs-compat",[_P]:"fire-fst",[EP]:"fire-fst-compat",[IP]:"fire-vertex","fire-js":"fire-js",[CP]:"fire-js-all"};var Zs=new Map,bP=new Map,cm=new Map;function rw(t,e){try{t.container.addComponent(e)}catch(n){En.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xn(t){let e=t.name;if(cm.has(e))return En.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,t);for(let n of Zs.values())rw(n,t);for(let n of bP.values())rw(n,t);return!0}function Js(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ht(t){return t.settings!==void 0}var SP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new In("app","Firebase",SP);var lm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}};var er=wP;function fm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:am,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=Qp()),!n)throw Jn.create("no-options");let o=Zs.get(i);if(o){if(io(n,o.options)&&io(r,o.config))return o;throw Jn.create("duplicate-app",{appName:i})}let s=new Ks(i);for(let c of cm.values())s.addComponent(c);let a=new lm(n,r,s);return Zs.set(i,a),a}function ao(t=am){let e=Zs.get(t);if(!e&&t===am&&Qp())return fm();if(!e)throw Jn.create("no-app",{appName:t});return e}function Ql(){return Array.from(Zs.values())}function Ie(t,e,n){var r;let i=(r=DP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),En.warn(a.join(" "));return}Xn(new ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var TP="firebase-heartbeat-database",AP=1,Qs="firebase-heartbeat-store",im=null;function aw(){return im||(im=tw(TP,AP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jn.create("idb-open",{originalErrorMessage:t.message})})),im}function MP(t){return p(this,null,function*(){try{let n=(yield aw()).transaction(Qs),r=yield n.objectStore(Qs).get(cw(t));return yield n.done,r}catch(e){if(e instanceof At)En.warn(e.message);else{let n=Jn.create("idb-get",{originalErrorMessage:e?.message});En.warn(n.message)}}})}function iw(t,e){return p(this,null,function*(){try{let r=(yield aw()).transaction(Qs,"readwrite");yield r.objectStore(Qs).put(e,cw(t)),yield r.done}catch(n){if(n instanceof At)En.warn(n.message);else{let r=Jn.create("idb-set",{originalErrorMessage:n?.message});En.warn(r.message)}}})}function cw(t){return`${t.name}!${t.options.appId}`}var NP=1024,RP=30*24*60*60*1e3,um=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new dm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ow();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=RP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){En.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ow(),{heartbeatsToSend:r,unsentEntries:i}=xP(this._heartbeatsCache.heartbeats),o=Hs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return En.warn(n),""}})}};function ow(){return new Date().toISOString().substring(0,10)}function xP(t,e=NP){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var dm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return $C()?HC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield MP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function sw(t){return Hs(JSON.stringify({version:2,heartbeats:t})).length}function kP(t){Xn(new ft("platform-logger",e=>new om(e),"PRIVATE")),Xn(new ft("heartbeat",e=>new um(e),"PRIVATE")),Ie(sm,nw,t),Ie(sm,nw,"esm2017"),Ie("fire-js","")}kP("");var OP="firebase",PP="10.14.1";Ie(OP,PP,"app");var $r=new an("ANGULARFIRE2_VERSION");function Xl(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xs=(t,e)=>{let n=e?[e]:Ql(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},lo=class{constructor(){return Xs(FP)}},FP="app-check";function co(){}var Jl=class{zone;delegate;constructor(e,n=Kd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},hm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)),n.pipe(Ce({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},uo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Jl(Zone.current)),this.insideAngular=n.run(()=>new Jl(Zone.current,gi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(te))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function LP(t){return eu().ngZone.runOutsideAngular(()=>t())}function Br(t){return eu().ngZone.run(()=>t())}function VP(t){return jP(eu())(t)}function jP(t){return function(n){return n=n.lift(new hm(t.ngZone)),n.pipe(xn(t.outsideAngular),Rn(t.insideAngular))}}var UP=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Br(()=>t.apply(void 0,r))},Me=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co))),r[o]=UP(r[o],n));let i=LP(()=>t.apply(this,r));if(!e)if(i instanceof F){let o=eu();return i.pipe(xn(o.outsideAngular),Rn(o.insideAngular))}else return Br(()=>i);return i instanceof F?i.pipe(VP):i instanceof Promise?Br(()=>new Promise((o,s)=>i.then(a=>Br(()=>o(a)),a=>Br(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Br(()=>i)};var Cn=class{constructor(e){return e}},Hr=class{constructor(){return Ql()}};function BP(t){return t&&t.length===1?t[0]:new Cn(ao())}var pm=new S("angularfire2._apps"),$P={provide:Cn,useFactory:BP,deps:[[new We,pm]]},HP={provide:Hr,deps:[[new We,pm]]};function WP(t){return(e,n)=>{let r=n.get(zn);Ie("angularfire",$r.full,"core"),Ie("angularfire",$r.full,"app"),Ie("angular",IE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Cn(i)}}function lw(t,...e){return Bt([$P,HP,{provide:pm,useFactory:WP(t),multi:!0,deps:[te,Ze,uo,...e]}])}var uw=Me(fm,!0);function Tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Aw=Tw,Mw=new In("auth","Firebase",Tw());var su=new Qn("@firebase/auth");function zP(t,...e){su.logLevel<=X.WARN&&su.warn(`Auth (${er}): ${t}`,...e)}function nu(t,...e){su.logLevel<=X.ERROR&&su.error(`Auth (${er}): ${t}`,...e)}function pt(t,...e){throw Pm(t,...e)}function Mt(t,...e){return Pm(t,...e)}function Om(t,e,n){let r=Object.assign(Object.assign({},Aw()),{[e]:n});return new In("auth","Firebase",r).create(e,{appName:t.name})}function bn(t){return Om(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GP(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pt(t,"argument-error"),Om(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Mw.create(t,...e)}function M(t,e,...n){if(!t)throw Pm(e,...n)}function wn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw nu(e),new Error(e)}function Sn(t,e){t||wn(e)}function vm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qP(){return dw()==="http:"||dw()==="https:"}function dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function YP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qP()||UC()||"connection"in navigator)?navigator.onLine:!0}function KP(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Wr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sn(n>e,"Short delay should be less than long delay!"),this.isMobile=zs()||ql()}get(){return YP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Fm(t,e){Sn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var au=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ZP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var QP=new Wr(3e4,6e4);function nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function rr(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return Nw(t,i,()=>p(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Zn(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return jC()||(h.referrerPolicy="no-referrer"),au.fetch()(Rw(t,t.config.apiHost,n,d),h)}))})}function Nw(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},ZP),e);try{let i=new ym(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw tu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tu(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw tu(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw tu(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Om(t,u,l);pt(t,u)}}catch(i){if(i instanceof At)throw i;pt(t,"network-request-failed",{message:String(i)})}})}function aa(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let l=yield rr(t,e,n,r,i);return"mfaPendingCredential"in l&&pt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Rw(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Fm(t.config,i):`${t.config.apiScheme}://${i}`}function JP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ym=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mt(this.auth,"network-request-failed")),QP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function tu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Mt(t,e,r);return i.customData._tokenResponse=n,i}function fw(t){return t!==void 0&&t.enterprise!==void 0}var _m=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function XP(t,e){return p(this,null,function*(){return rr(t,"GET","/v2/recaptchaConfig",nr(t,e))})}function eF(t,e){return p(this,null,function*(){return rr(t,"POST","/v1/accounts:delete",e)})}function xw(t,e){return p(this,null,function*(){return rr(t,"POST","/v1/accounts:lookup",e)})}function ea(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Lm(t,e=!1){return p(this,null,function*(){let n=Ae(t),r=yield n.getIdToken(e),i=Vm(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ea(mm(i.auth_time)),issuedAtTime:ea(mm(i.iat)),expirationTime:ea(mm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function mm(t){return Number(t)*1e3}function Vm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ws(n);return i?JSON.parse(i):(nu("Failed to decode base64 JWT payload"),null)}catch(i){return nu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hw(t){let e=Vm(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function na(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof At&&tF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function tF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Im=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ra=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function cu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield na(t,xw(n,{idToken:r}));M(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?kw(o.providerUserInfo):[],a=nF(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ra(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function jm(t){return p(this,null,function*(){let e=Ae(t);yield cu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function nF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kw(t){return t.map(e=>{var{providerId:n}=e,r=ic(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function rF(t,e){return p(this,null,function*(){let n=yield Nw(t,{},()=>p(this,null,function*(){let r=Zn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Rw(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",au.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function iF(t,e){return p(this,null,function*(){return rr(t,"POST","/v2/accounts:revokeToken",nr(t,e))})}var ta=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){M(e.length!==0,"internal-error");let n=hw(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(M(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield rF(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(M(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(M(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(M(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return wn("not implemented")}};function tr(t,e){M(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ho=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ic(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Im(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ra(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield na(this,this.stsTokenManager.getToken(this.auth,e));return M(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Lm(this,e)}reload(){return jm(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield cu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(ht(this.auth.app))return Promise.reject(bn(this.auth));let e=yield this.getIdToken();return yield na(this,eF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,de=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:fe,emailVerified:Fe,isAnonymous:en,providerData:Re,stsTokenManager:tn}=n;M(fe&&tn,e,"internal-error");let Bo=ta.fromJSON(this.name,tn);M(typeof fe=="string",e,"internal-error"),tr(d,e.name),tr(f,e.name),M(typeof Fe=="boolean",e,"internal-error"),M(typeof en=="boolean",e,"internal-error"),tr(h,e.name),tr(m,e.name),tr(C,e.name),tr(T,e.name),tr(V,e.name),tr(de,e.name);let $o=new t({uid:fe,auth:e,email:f,emailVerified:Fe,displayName:d,isAnonymous:en,photoURL:m,phoneNumber:h,tenantId:C,stsTokenManager:Bo,createdAt:V,lastLoginAt:de});return Re&&Array.isArray(Re)&&($o.providerData=Re.map(gS=>Object.assign({},gS))),T&&($o._redirectEventId=T),$o}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new ta;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield cu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];M(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?kw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ta;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ra(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var pw=new Map;function Dn(t){Sn(t instanceof Function,"Expected a class definition");let e=pw.get(t);return e?(Sn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pw.set(t,e),e)}var oF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Em=oF;function ru(t,e,n){return`firebase:${t}:${e}:${n}`}var lu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ru(this.userKey,i.apiKey,o),this.fullPersistenceKey=ru("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ho._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Dn(Em),e,r);let i=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Dn(Em),s=ru(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=ho._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function mw(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ow(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jw(e))return"Blackberry";if(Uw(e))return"Webos";if(Pw(e))return"Safari";if((e.includes("chrome/")||Fw(e))&&!e.includes("edge/"))return"Chrome";if(Vw(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Ow(t=Le()){return/firefox\//i.test(t)}function Pw(t=Le()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fw(t=Le()){return/crios\//i.test(t)}function Lw(t=Le()){return/iemobile/i.test(t)}function Vw(t=Le()){return/android/i.test(t)}function jw(t=Le()){return/blackberry/i.test(t)}function Uw(t=Le()){return/webos/i.test(t)}function Um(t=Le()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sF(t=Le()){var e;return Um(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aF(){return BC()&&document.documentMode===10}function Bw(t=Le()){return Um(t)||Vw(t)||Uw(t)||jw(t)||/windows phone/i.test(t)||Lw(t)}function $w(t,e=[]){let n;switch(t){case"Browser":n=mw(Le());break;case"Worker":n=`${mw(Le())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${er}/${r}`}var Cm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function cF(n){return p(this,arguments,function*(t,e={}){return rr(t,"GET","/v2/passwordPolicy",nr(t,e))})}var lF=6,wm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:lF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Dm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uu(this),this.idTokenSubscription=new uu(this),this.beforeStateQueue=new Cm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield lu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield xw(this,{idToken:e}),r=yield ho._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(ht(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield cu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=KP()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(ht(this.app))return Promise.reject(bn(this));let n=e?Ae(e):null;return n&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&M(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return ht(this.app)?Promise.reject(bn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ht(this.app)?Promise.reject(bn(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Dn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield cF(this),n=new wm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new In("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield iF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Dn(e)||this._popupRedirectResolver;M(n,this,"argument-error"),this.redirectPersistenceManager=yield lu.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(M(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&zP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ir(t){return Ae(t)}var uu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qC(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var _u={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uF(t){_u=t}function Hw(t){return _u.loadJS(t)}function dF(){return _u.recaptchaEnterpriseScript}function fF(){return _u.gapiScript}function Ww(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var hF="recaptcha-enterprise",pF="NO_RECAPTCHA",bm=class{constructor(e){this.type=hF,this.auth=ir(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(this,null,function*(){XP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new _m(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;fw(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(pF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&fw(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=dF();c.length!==0&&(c+=a),Hw(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function gw(t,e,n,r=!1){return p(this,null,function*(){let i=new bm(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Sm(t,e,n,r){return p(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield gw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>p(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield gw(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Bm(t,e){let n=Js(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(io(o,e??{}))return i;pt(i,"already-initialized")}return n.initialize({options:e})}function mF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Dn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $m(t,e,n){let r=ir(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=zw(e),{host:s,port:a}=gF(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||vF()}function zw(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gF(t){let e=zw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:vw(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:vw(s)}}}function vw(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function vF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var po=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wn("not implemented")}_getIdTokenResponse(e){return wn("not implemented")}_linkToIdToken(e,n){return wn("not implemented")}_getReauthenticationResolver(e){return wn("not implemented")}};function yF(t,e){return p(this,null,function*(){return rr(t,"POST","/v1/accounts:signUp",e)})}function _F(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signInWithPassword",nr(t,e))})}function IF(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))})}function EF(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))})}var ia=class t extends po{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,n,"signInWithPassword",_F);case"emailLink":return IF(e,{email:this._email,oobCode:this._password});default:pt(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,r,"signUpPassword",yF);case"emailLink":return EF(e,{idToken:n,email:this._email,oobCode:this._password});default:pt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function fo(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signInWithIdp",nr(t,e))})}var CF="http://localhost",du=class t extends po{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=ic(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,fo(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){let e={requestUri:CF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zn(n)}return e}};function wF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DF(t){let e=oo(so(t)).link,n=e?oo(so(e)).deep_link_id:null,r=oo(so(t)).deep_link_id;return(r?oo(so(r)).link:null)||r||n||e||t}var fu=class t{constructor(e){var n,r,i,o,s,a;let c=oo(so(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=wF((i=c.mode)!==null&&i!==void 0?i:null);M(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=DF(e);try{return new t(n)}catch{return null}}};var Gw=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ia._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=fu.parseLink(r);return M(i,"argument-error"),ia._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),oa=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var hu=class extends oa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Hm=(()=>{class t extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return du._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function bF(t,e){return p(this,null,function*(){return aa(t,"POST","/v1/accounts:signUp",nr(t,e))})}var mo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let o=yield ho._fromIdTokenResponse(e,r,i),s=yw(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=yw(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function yw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Tm=class t extends At{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function qw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tm._fromErrorAndOperation(t,o,e,r):o})}function SF(t,e,n=!1){return p(this,null,function*(){let r=yield na(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return mo._forOperation(t,"link",r)})}function TF(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(ht(r.app))return Promise.reject(bn(r));let i="reauthenticate";try{let o=yield na(t,qw(r,i,e,t),n);M(o.idToken,r,"internal-error");let s=Vm(o.idToken);M(s,r,"internal-error");let{sub:a}=s;return M(t.uid===a,r,"user-mismatch"),mo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&pt(r,"user-mismatch"),o}})}function Yw(t,e,n=!1){return p(this,null,function*(){if(ht(t.app))return Promise.reject(bn(t));let r="signIn",i=yield qw(t,r,e),o=yield mo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Wm(t,e){return p(this,null,function*(){return Yw(ir(t),e)})}function Kw(t){return p(this,null,function*(){let e=ir(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function zm(t,e,n){return p(this,null,function*(){if(ht(t.app))return Promise.reject(bn(t));let r=ir(t),s=yield Sm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Kw(t),c}),a=yield mo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Gm(t,e,n){return ht(t.app)?Promise.reject(bn(t)):Wm(Ae(t),Gw.credential(e,n)).catch(r=>p(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Kw(t),r}))}function ca(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function qm(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function Iu(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function Ym(t){return Ae(t).signOut()}var pu="__sak";var mu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pu,"1"),this.storage.removeItem(pu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var AF=1e3,MF=10,NF=(()=>{class t extends mu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bw(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);aF()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,MF):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},AF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield pr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield pr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield pr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Zw=NF;var RF=(()=>{class t extends mu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Km=RF;function xF(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var kF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield xF(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Zm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Am=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=Zm("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Yt(){return window}function OF(t){Yt().location.href=t}function Qw(){return typeof Yt().WorkerGlobalScope<"u"&&typeof Yt().importScripts=="function"}function PF(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function FF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LF(){return Qw()?self:null}var Jw="firebaseLocalStorageDb",VF=1,gu="firebaseLocalStorage",Xw="fbase_key",zr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Eu(t,e){return t.transaction([gu],e?"readwrite":"readonly").objectStore(gu)}function jF(){let t=indexedDB.deleteDatabase(Jw);return new zr(t).toPromise()}function Mm(){let t=indexedDB.open(Jw,VF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(gu,{keyPath:Xw})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(gu)?e(r):(r.close(),yield jF(),e(yield Mm()))}))})}function _w(t,e,n){return p(this,null,function*(){let r=Eu(t,!0).put({[Xw]:e,value:n});return new zr(r).toPromise()})}function UF(t,e){return p(this,null,function*(){let n=Eu(t,!1).get(e),r=yield new zr(n).toPromise();return r===void 0?null:r.value})}function Iw(t,e){let n=Eu(t,!0).delete(e);return new zr(n).toPromise()}var BF=800,$F=3,HF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Mm(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>$F)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return Qw()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=kF._getInstance(LF()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield PF(),!this.activeServiceWorker)return;this.sender=new Am(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||FF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Mm();return yield _w(n,pu,"1"),yield Iw(n,pu),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>_w(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>UF(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>Iw(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=Eu(o,!1).getAll();return new zr(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),BF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),eD=HF;var P8=Ww("rcb"),F8=new Wr(3e4,6e4);function tD(t,e){return e?Dn(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var sa=class extends po{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function WF(t){return Yw(t.auth,new sa(t),t.bypassAuthState)}function zF(t){let{auth:e,user:n}=t;return M(n,e,"internal-error"),TF(n,new sa(t),t.bypassAuthState)}function GF(t){return p(this,null,function*(){let{auth:e,user:n}=t;return M(n,e,"internal-error"),SF(n,new sa(t),t.bypassAuthState)})}var vu=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WF;case"linkViaPopup":case"linkViaRedirect":return GF;case"reauthViaPopup":case"reauthViaRedirect":return zF;default:pt(this.auth,"internal-error")}}resolve(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var qF=new Wr(2e3,1e4);function Qm(t,e,n){return p(this,null,function*(){if(ht(t.app))return Promise.reject(Mt(t,"operation-not-supported-in-this-environment"));let r=ir(t);GP(t,e,oa);let i=tD(r,n);return new YF(r,"signInViaPopup",e,i).executeNotNull()})}var YF=(()=>{class t extends vu{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return p(this,null,function*(){let n=yield this.execute();return M(n,this.auth,"internal-error"),n})}onExecution(){return p(this,null,function*(){Sn(this.filter.length===1,"Popup operations only handle one event");let n=Zm();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Mt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,qF.get())};n()}}t.currentPopupAction=null;return t})(),KF="pendingRedirect",iu=new Map,Nm=class t extends vu{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=iu.get(this.auth._key());if(!e){try{let r=(yield ZF(this.resolver,this.auth))?yield pr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}iu.set(this.auth._key(),e)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return pr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,pr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function ZF(t,e){return p(this,null,function*(){let n=XF(e),r=JF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function QF(t,e){iu.set(t._key(),e)}function JF(t){return Dn(t._redirectPersistence)}function XF(t){return ru(KF,t.config.apiKey,t.name)}function e1(t,e,n=!1){return p(this,null,function*(){if(ht(t.app))return Promise.reject(bn(t));let r=ir(t),i=tD(r,e),s=yield new Nm(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var t1=10*60*1e3,Rm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ew(e))}saveEventToCache(e){this.cachedEventUids.add(Ew(e)),this.lastProcessedEventTime=Date.now()}};function Ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function n1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nD(t);default:return!1}}function r1(n){return p(this,arguments,function*(t,e={}){return rr(t,"GET","/v1/projects",e)})}var i1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o1=/^https?/;function s1(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield r1(t);for(let n of e)try{if(a1(n))return}catch{}pt(t,"unauthorized-domain")})}function a1(t){let e=vm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!o1.test(n))return!1;if(i1.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var c1=new Wr(3e4,6e4);function Cw(){let t=Yt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l1(t){return new Promise((e,n)=>{var r,i,o;function s(){Cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cw(),n(Mt(t,"network-request-failed"))},timeout:c1.get()})}if(!((i=(r=Yt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yt().gapi)===null||o===void 0)&&o.load)s();else{let a=Ww("iframefcb");return Yt()[a]=()=>{gapi.load?s():n(Mt(t,"network-request-failed"))},Hw(`${fF()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ou=null,e})}var ou=null;function u1(t){return ou=ou||l1(t),ou}var d1=new Wr(5e3,15e3),f1="__/auth/iframe",h1="emulator/auth/iframe",p1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g1(t){let e=t.config;M(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Fm(e,h1):`https://${t.config.authDomain}/${f1}`,r={apiKey:e.apiKey,appName:t.name,v:er},i=m1.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zn(r).slice(1)}`}function v1(t){return p(this,null,function*(){let e=yield u1(t),n=Yt().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:g1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p1,dontclear:!0},r=>new Promise((i,o)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Mt(t,"network-request-failed"),a=Yt().setTimeout(()=>{o(s)},d1.get());function c(){Yt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var y1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_1=500,I1=600,E1="_blank",C1="http://localhost",yu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function w1(t,e,n,r=_1,i=I1){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},y1),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Le().toLowerCase();n&&(a=Fw(l)?E1:n),Ow(l)&&(e=e||C1,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,m])=>`${f}${h}=${m},`,"");if(sF(l)&&a!=="_self")return D1(e||"",a),new yu(null);let d=window.open(e||"",a,u);M(d,t,"popup-blocked");try{d.focus()}catch{}return new yu(d)}function D1(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var b1="__/auth/handler",S1="emulator/auth/handler",T1=encodeURIComponent("fac");function ww(t,e,n,r,i,o){return p(this,null,function*(){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:er,eventId:i};if(e instanceof oa){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Gs(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof hu){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${T1}=${encodeURIComponent(c)}`:"";return`${A1(t)}?${Zn(a).slice(1)}${l}`})}function A1({config:t}){return t.emulator?Fm(t,S1):`https://${t.authDomain}/${b1}`}var gm="webStorageSupport",xm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Km,this._completeRedirectFn=e1,this._overrideRedirectResult=QF}_openPopup(e,n,r,i){return p(this,null,function*(){var o;Sn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield ww(e,n,r,vm(),i);return w1(e,s,Zm())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let o=yield ww(e,n,r,vm(),i);return OF(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Sn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield v1(e),r=new Rm(e);return n.register("authEvent",i=>(M(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[gm];s!==void 0&&n(!!s),pt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Bw()||Pw()||Um()}},rD=xm;var Dw="@firebase/auth",bw="1.7.9";var km=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function M1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N1(t){Xn(new ft("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;M(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$w(t)},l=new Dm(r,i,o,c);return mF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xn(new ft("auth-internal",e=>{let n=ir(e.getProvider("auth").getImmediate());return(r=>new km(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ie(Dw,bw,M1(t)),Ie(Dw,bw,"esm2017")}var R1=5*60,x1=Jp("authIdTokenMaxAge")||R1,Sw=null,k1=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>x1)return;let i=n?.token;Sw!==i&&(Sw=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Jm(t=ao()){let e=Js(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Bm(t,{popupRedirectResolver:rD,persistence:[eD,Zw,Km]}),r=Jp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=k1(o.toString());qm(n,s,()=>s(n.currentUser)),ca(n,a=>s(a))}}let i=Zp("auth");return i&&$m(n,`http://${i}`),n}function O1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Mt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",O1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N1("Browser");function oD(t){return new F(function(e){var n=ca(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var sD="auth",Tn=class{constructor(e){return e}},la=class{constructor(){return Xs(sD)}};var Xm=new S("angularfire2.auth-instances");function EL(t,e){let n=Xl(sD,t,e);return n&&new Tn(n)}function CL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Tn(r)}}var wL={provide:la,deps:[[new We,Xm]]},DL={provide:Tn,useFactory:EL,deps:[[new We,Xm],Cn]};function aD(t,...e){return Ie("angularfire",$r.full,"auth"),Bt([DL,wL,{provide:Xm,useFactory:CL(t),multi:!0,deps:[te,Ze,uo,Hr,[new We,lo],...e]}])}var cD=Me(oD,!0);var lD=Me(zm,!0);var uD=Me(Jm,!0);var dD=Me(Iu,!0);var fD=Me(Gm,!0);var hD=Me(Qm,!0);var pD=Me(Ym,!0);var Kt=class t{constructor(e){this.auth=e}register({email:e,password:n}){return lD(this.auth,e,n)}login({email:e,password:n}){return fD(this.auth,e,n)}loginGoogle(){return hD(this.auth,new Hm)}logout(){return pD(this.auth)}isAuthenticated(){return new F(e=>{dD(this.auth,n=>{e.next(!!n),e.complete()},n=>{e.error(n)})})}getCurrentUser(){return this.auth.currentUser}static \u0275fac=function(n){return new(n||t)(R(Tn))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function bL(t,e){t&1&&(g(0,"li",11)(1,"a",20),I(2,"Login"),v()())}function SL(t,e){t&1&&(g(0,"li",11)(1,"a",21),I(2,"Singin"),v()())}function TL(t,e){t&1&&(g(0,"a",22),I(1,"Inicio"),v())}function AL(t,e){t&1&&(g(0,"a",23),I(1,"Tareas"),v())}function ML(t,e){t&1&&(g(0,"a",24),I(1," Dashboard "),v())}function NL(t,e){t&1&&(g(0,"a",25),I(1,"Stats"),v())}function RL(t,e){t&1&&(g(0,"a",26),I(1,"Profile"),v())}function xL(t,e){if(t&1){let n=Cl();g(0,"a",27),ye("click",function(){ls(n);let i=ms();return us(i.onClick())}),I(1,"Sign Out"),v()}}var mt=class t{constructor(e,n){this.authService=e;this.router=n}isAuthenticated=!1;ngOnInit(){this.authService.isAuthenticated().subscribe(e=>{this.isAuthenticated=e})}onClick(){this.authService.logout().then(e=>{console.log(e),this.router.navigate(["/login"])}).catch(e=>console)}static \u0275fac=function(n){return new(n||t)(w(Kt),w(Tt))};static \u0275cmp=ne({type:t,selectors:[["app-navbar"]],standalone:!0,features:[re],decls:26,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["routerLink","/tasks",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["class","nav-link","routerLink","/home",4,"ngIf"],["class","nav-link","routerLink","/tasks",4,"ngIf"],[1,"nav-item","dropdown"],["class","nav-link dropdown-toggle","routerLink","/dashboard","role","button","data-bs-toggle","dropdown","aria-expanded","false",4,"ngIf"],[1,"dropdown-menu"],["class","dropdown-item","routerLink","/dashboard/stats",4,"ngIf"],["class","dropdown-item","routerLink","/dashboard/profile",4,"ngIf"],["class","nav-link",3,"click",4,"ngIf"],["routerLink","/login",1,"nav-link"],["routerLink","/singin",1,"nav-link"],["routerLink","/home",1,"nav-link"],["routerLink","/tasks",1,"nav-link"],["routerLink","/dashboard","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["routerLink","/dashboard/stats",1,"dropdown-item"],["routerLink","/dashboard/profile",1,"dropdown-item"],[1,"nav-link",3,"click"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"div",4)(5,"a",5),I(6,"TaskManager"),v(),g(7,"button",6),Q(8,"span",7),v(),g(9,"div",8)(10,"ul",9),ue(11,bL,3,0,"li",10)(12,SL,3,0,"li",10),g(13,"li",11),ue(14,TL,2,0,"a",12),v(),g(15,"li",11),ue(16,AL,2,0,"a",13),v(),g(17,"li",14),ue(18,ML,2,0,"a",15),g(19,"ul",16)(20,"li"),ue(21,NL,2,0,"a",17),v(),g(22,"li"),ue(23,RL,2,0,"a",18),v()()(),g(24,"li",11),ue(25,xL,2,0,"a",19),v()()()()()()()()),n&2&&(A(11),x("ngIf",!r.isAuthenticated),A(),x("ngIf",!r.isAuthenticated),A(2),x("ngIf",r.isAuthenticated),A(2),x("ngIf",r.isAuthenticated),A(2),x("ngIf",r.isAuthenticated),A(3),x("ngIf",r.isAuthenticated),A(2),x("ngIf",r.isAuthenticated),A(2),x("ngIf",r.isAuthenticated))},dependencies:[we,Gn,Wl]})};var or=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-footer"]],standalone:!0,features:[re],decls:22,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"py-3","my-4"],[1,"nav","justify-content-center","border-bottom","pb-3","mb-3"],[1,"nav-item"],["href","#",1,"nav-link","px-2","text-body-secondary"],[1,"text-center","text-body-secondary"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"footer",3)(4,"ul",4)(5,"li",5)(6,"a",6),I(7,"Home"),v()(),g(8,"li",5)(9,"a",6),I(10,"Features"),v()(),g(11,"li",5)(12,"a",6),I(13,"Pricing"),v()(),g(14,"li",5)(15,"a",6),I(16,"FAQs"),v()(),g(17,"li",5)(18,"a",6),I(19,"About"),v()()(),g(20,"p",7),I(21,"\xA9 2024 Company, Inc"),v()()()()())}})};var gD="@firebase/database",vD="1.0.8";var ev="";function kL(t){ev=t}var ag=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_e(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ro(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var cg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Gt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var KD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ag(e)}}catch{}return new cg},qr=KD("localStorage"),lg=KD("sessionStorage");var yo=new Qn("@firebase/database"),OL=function(){let t=1;return function(){return t++}}(),ZD=function(t){let e=YC(t),n=new zl;n.update(e);let r=n.digest();return Gl.encodeByteArray(r)},Ma=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ma.apply(null,r):typeof r=="object"?e+=_e(r):e+=r,e+=" "}return e},Kr=null,yD=!0,PL=function(t,e){y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(yo.logLevel=X.VERBOSE,Kr=yo.log.bind(yo),e&&lg.set("logging_enabled",!0)):typeof t=="function"?Kr=t:(Kr=null,lg.remove("logging_enabled"))},Ve=function(...t){if(yD===!0&&(yD=!1,Kr===null&&lg.get("logging_enabled")===!0&&PL(!0)),Kr){let e=Ma.apply(null,t);Kr(e)}},Na=function(t){return function(...e){Ve(t,...e)}},ug=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ma(...t);yo.error(e)},An=function(...t){let e=`FIREBASE FATAL ERROR: ${Ma(...t)}`;throw yo.error(e),new Error(e)},Qe=function(...t){let e="FIREBASE WARNING: "+Ma(...t);yo.warn(e)},FL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},QD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},LL=function(t){if(zt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Io="[MIN_NAME]",Zr="[MAX_NAME]",To=function(t,e){if(t===e)return 0;if(t===Io||e===Zr)return-1;if(e===Io||t===Zr)return 1;{let n=_D(t),r=_D(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},VL=function(t,e){return t===e?0:t<e?-1:1},ua=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_e(e))},tv=function(t){if(typeof t!="object"||t===null)return _e(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=_e(e[r]),n+=":",n+=tv(t[e[r]]);return n+="}",n},JD=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Je(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var XD=function(t){y(!QD(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},jL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},UL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function BL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var $L=new RegExp("^-?(0*)\\d{1,10}$"),HL=-2147483648,WL=2147483647,_D=function(t){if($L.test(t)){let e=Number(t);if(e>=HL&&e<=WL)return e}return null},Ao=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Qe("Exception was thrown by user callback.",n),e},Math.floor(0))}},zL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ma=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var dg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var fg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qe(e)}},ga=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Du="5",eb="v",tb="s",nb="r",rb="f",ib=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ob="ls",sb="p",hg="ac",ab="websocket",cb="long_polling";var bu=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function GL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function lb(t,e,n){y(typeof e=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(e===ab)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===cb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);GL(t)&&(n.ns=t.namespace);let i=[];return Je(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var pg=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Gt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return PC(this.counters_)}};var eg={},tg={};function nv(t){let e=t.toString();return eg[e]||(eg[e]=new pg),eg[e]}function qL(t,e){let n=t.toString();return tg[n]||(tg[n]=e()),tg[n]}var mg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ao(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var ID="start",YL="close",KL="pLPCommand",ZL="pRTLPCB",ub="id",db="pw",fb="ser",QL="cb",JL="seg",XL="ts",eV="d",tV="dframe",hb=1870,pb=30,nV=hb-pb,rV=25e3,iV=3e4,gg=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Na(e),this.stats_=nv(n),this.urlFn=c=>(this.appCheckToken&&(c[hg]=this.appCheckToken),lb(n,cb,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(iV)),LL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vg((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===ID)this.id=a,this.password=c;else if(s===YL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[ID]="t",r[fb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[QL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eb]=Du,this.transportSessionId&&(r[tb]=this.transportSessionId),this.lastSessionId&&(r[ob]=this.lastSessionId),this.applicationId&&(r[sb]=this.applicationId),this.appCheckToken&&(r[hg]=this.appCheckToken),typeof location<"u"&&location.hostname&&ib.test(location.hostname)&&(r[nb]=rb);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return zt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jL()&&!UL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Yp(n),i=JD(r,nV);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(zt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[tV]="t",r[ub]=e,r[db]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=_e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},vg=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,zt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=OL(),window[KL+this.uniqueCallbackIdentifier]=e,window[ZL+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ve("frame writing exception"),a.stack&&Ve(a.stack),Ve(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ve("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[ub]=this.myID,e[db]=this.myPW,e[fb]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pb+r.length<=hb;){let s=this.pendingSegs.shift();r=r+"&"+JL+i+"="+s.seg+"&"+XL+i+"="+s.ts+"&"+eV+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(rV)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){zt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ve("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var oV=16384,sV=45e3,Su=null;typeof MozWebSocket<"u"?Su=MozWebSocket:typeof WebSocket<"u"&&(Su=WebSocket);var da=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Na(this.connId),this.stats_=nv(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[eb]=Du,!zt()&&typeof location<"u"&&location.hostname&&ib.test(location.hostname)&&(a[nb]=rb),r&&(a[tb]=r),i&&(a[ob]=i),o&&(a[hg]=o),s&&(a[sb]=s),lb(n,ab,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qr.set("previous_websocket_failure",!0);try{let i;if(zt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Du}/${ev}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Su(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Su!==null&&!t.forceDisallow_}static previouslyFailed(){return qr.isInMemoryStorage||qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){qr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ro(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=_e(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=JD(r,oV);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sV))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),aV=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[gg,da]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=da&&da.isAvailable(),i=r&&!da.previouslyFailed();if(n.webSocketOnly&&(r||Qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[da];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),cV=6e4,lV=5e3,uV=10*1024,dV=100*1024,ng="t",ED="d",fV="s",CD="r",hV="e",wD="o",DD="a",bD="n",SD="p",pV="h",yg=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Na("c:"+this.id+":"),this.transportManager_=new aV(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ma(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ng in e){let n=e[ng];n===DD?this.upgradeIfSecondaryHealthy_():n===CD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===wD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ua("t",e),r=ua("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:SD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ua("t",e),r=ua("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ua(ng,e);if(ED in e){let r=e[ED];if(n===pV){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===bD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fV?this.onConnectionShutdown_(r):n===CD?this.onReset_(r):n===hV?ug("Server Error: "+r):n===wD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ug("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Du!==r&&Qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ma(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ma(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:SD,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Tu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Au=class{constructor(e){this.allowedEvents_=e,this.listeners_={},y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Mu=class t extends Au{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zs()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var TD=32,AD=768,ee=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Z(){return new ee("")}function z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function cr(t){return t.pieces_.length-t.pieceNum_}function ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ee(t.pieces_,e)}function mb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function mV(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function gb(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vb(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ee(e,0)}function De(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ee)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ee(n,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function Ge(t,e){let n=z(t),r=z(e);if(n===null)return e;if(n===r)return Ge(ce(t),ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function rv(t,e){if(cr(t)!==cr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Rt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(cr(t)>cr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var _g=class{constructor(e,n){this.errorPrefix_=n,this.parts_=gb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ys(this.parts_[r]);yb(this)}};function gV(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ys(e),yb(t)}function vV(t){let e=t.parts_.pop();t.byteLength_-=Ys(e),t.parts_.length>0&&(t.byteLength_-=1)}function yb(t){if(t.byteLength_>AD)throw new Error(t.errorPrefix_+"has a key path longer than "+AD+" bytes ("+t.byteLength_+").");if(t.parts_.length>TD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+TD+") or object contains a cycle "+Gr(t))}function Gr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Ig=class t extends Au{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return y(e==="visible","Unknown event type: "+e),[this.visible_]}};var fa=1e3,yV=60*5*1e3,MD=30*1e3,_V=1.3,IV=3e4,EV="server_kill",ND=3,iv=(()=>{class t extends Tu{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Na("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fa,this.maxReconnectDelay_=yV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!zt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ig.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Mu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(_e(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Kn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Gt(n,"w")){let i=jr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||GC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=MD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=zC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+_e(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ug("Unrecognized action received from server: "+_e(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=fa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>IV&&(this.reconnectDelay_=fa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_V)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){y(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new yg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,m=>{Qe(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(EV)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Qe(f),l())}}})}interrupt(n){Ve("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ve("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Gs(this.interruptReasons_)&&(this.reconnectDelay_=fa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>tv(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ee(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ve("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ND&&(this.reconnectDelay_=MD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ve("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ND&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";zt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+ev.replace(/\./g,"-")]=1,zs()?n["framework.cordova"]=1:ql()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Mu.getInstance().currentlyOnline();return Gs(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),G=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Eo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new G(Io,e),i=new G(Io,n);return this.compare(r,i)!==0}minPost(){return G.MIN}};var wu,Nu=class extends Eo{static get __EMPTY_NODE(){return wu}static set __EMPTY_NODE(e){wu=e}compare(e,n){return To(e.name,n.name)}isDefinedOn(e){throw Vr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return G.MIN}maxPost(){return new G(Zr,wu)}makePost(e,n){return y(typeof e=="string","KeyIndex indexValue must always be a string."),new G(e,wu)}toString(){return".key"}},_o=new Nu;var vo=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Nt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??vt.EMPTY_NODE,this.right=s??vt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return vt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Eg=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},vt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new vo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new vo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new vo(this.root_,null,this.comparator_,!0,e)}};vt.EMPTY_NODE=new Eg;function CV(t,e){return To(t.name,e.name)}function ov(t,e){return To(t,e)}var Cg;function wV(t){Cg=t}var _b=function(t){return typeof t=="number"?"number:"+XD(t):"string:"+t},Ib=function(t){if(t.isLeafNode()){let e=t.val();y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gt(e,".sv"),"Priority must be a string or number.")}else y(t===Cg||t.isEmpty(),"priority of unexpected type.");y(t===Cg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var RD,Co=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ib(this.priorityNode_)}static set __childrenNodeConstructor(n){RD=n}static get __childrenNodeConstructor(){return RD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return q(n)?this:z(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=z(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||cr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ce(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+_b(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=XD(this.value_):n+=this.value_,this.lazyHash_=ZD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return y(o>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),Eb,Cb;function DV(t){Eb=t}function bV(t){Cb=t}var wg=class extends Eo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?To(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return G.MIN}maxPost(){return new G(Zr,new Co("[PRIORITY-POST]",Cb))}makePost(e,n){let r=Eb(e);return new G(n,new Co("[PRIORITY-POST]",r))}toString(){return".priority"}},me=new wg;var SV=Math.log(2),Dg=class{constructor(e){let n=o=>parseInt(Math.log(o)/SV,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Ru=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new Nt(f,d.node,Nt.BLACK,null,null);{let h=parseInt(u/2,10)+c,m=i(c,h),C=i(h+1,l);return d=t[h],f=n?n(d):d,new Nt(f,d.node,Nt.BLACK,m,C)}},o=function(c){let l=null,u=null,d=t.length,f=function(m,C){let T=d-m,V=d;d-=m;let de=i(T+1,V),fe=t[T],Fe=n?n(fe):fe;h(new Nt(Fe,fe.node,C,null,de))},h=function(m){l?(l.left=m,l=m):(u=m,l=m)};for(let m=0;m<c.count;++m){let C=c.nextBitIsOne(),T=Math.pow(2,c.count-(m+1));C?f(T,Nt.BLACK):(f(T,Nt.BLACK),f(T,Nt.RED))}return u},s=new Dg(t.length),a=o(s);return new vt(r||e,a)};var rg,go={},wo=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return y(go&&me,"ChildrenNode.ts has not been loaded"),rg=rg||new t({".priority":go},{".priority":me}),rg}get(e){let n=jr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vt?n:null}hasIndex(e){return Gt(this.indexSet_,e.toString())}addIndex(e,n){y(e!==_o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(G.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Ru(r,e.getCompare()):a=go;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=qs(this.indexes_,(i,o)=>{let s=jr(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),i===go)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(G.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Ru(a,s.getCompare())}else return go;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new G(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=qs(this.indexes_,i=>{if(i===go)return i;{let o=n.get(e.name);return o?i.remove(new G(e.name,o)):i}});return new t(r,this.indexSet_)}};var ha,L=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Ib(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ha||(ha=new t(new vt(ov),null,wo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ha}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ha:r}}getChild(n){let r=z(n);return r===null?this:this.getImmediateChild(r).getChild(ce(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new G(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ha:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=z(n);if(i===null)return r;{y(z(n)!==".priority"||cr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ce(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(me,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+_b(this.getPriority().val())+":"),this.forEachChild(me,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":ZD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new G(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new G(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new G(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ra?-1:0}withIndex(n){if(n===_o||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===_o||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(me),o=r.getIterator(me),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===_o?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),bg=class extends L{constructor(){super(new vt(ov),L.EMPTY_NODE,wo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return L.EMPTY_NODE}isEmpty(){return!1}},Ra=new bg;Object.defineProperties(G,{MIN:{value:new G(Io,L.EMPTY_NODE)},MAX:{value:new G(Zr,Ra)}});Nu.__EMPTY_NODE=L.EMPTY_NODE;Co.__childrenNodeConstructor=L;wV(Ra);bV(Ra);var TV=!0;function Ne(t,e=null){if(t===null)return L.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Co(n,Ne(e))}if(!(t instanceof Array)&&TV){let n=[],r=!1;if(Je(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Ne(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new G(s,c)))}}),n.length===0)return L.EMPTY_NODE;let o=Ru(n,CV,s=>s.name,ov);if(r){let s=Ru(n,me.getCompare());return new L(o,Ne(e),new wo({".priority":s},{".priority":me}))}else return new L(o,Ne(e),wo.Default)}else{let n=L.EMPTY_NODE;return Je(t,(r,i)=>{if(Gt(t,r)&&r.substring(0,1)!=="."){let o=Ne(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ne(e))}}DV(Ne);var Sg=class extends Eo{constructor(e){super(),this.indexPath_=e,y(!q(e)&&z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?To(e.name,n.name):o}makePost(e,n){let r=Ne(e),i=L.EMPTY_NODE.updateChild(this.indexPath_,r);return new G(n,i)}maxPost(){let e=L.EMPTY_NODE.updateChild(this.indexPath_,Ra);return new G(Zr,e)}toString(){return gb(this.indexPath_,0).join("/")}};var Tg=class extends Eo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?To(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(e,n){let r=Ne(e);return new G(n,r)}toString(){return".value"}},AV=new Tg;function wb(t){return{type:"value",snapshotNode:t}}function Do(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ia(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ea(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function MV(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Ca=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Ia(n,a)):y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Do(n,r)):s.trackChildChange(Ea(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(me,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ia(i,o))}),n.isLeafNode()||n.forEachChild(me,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ea(i,o,s))}else r.trackChildChange(Do(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?L.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var xu=class t{constructor(e){this.indexedFilter_=new Ca(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new G(n,r))||(r=L.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=L.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(L.EMPTY_NODE);let o=this;return n.forEachChild(me,(s,a)=>{o.matches(new G(s,a))||(i=i.updateImmediateChild(s,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Ag=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new xu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new G(n,r))||(r=L.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=L.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(L.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;y(a.numChildren()===this.limit_,"");let c=new G(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ea(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Ia(n,d));let C=a.updateImmediateChild(n,L.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Do(f.name,f.node)),C.updateImmediateChild(f.name,f.node)):C}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Ia(l.name,l.node)),o.trackChildChange(Do(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,L.EMPTY_NODE)):e}};var Mg=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Io}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===me}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function NV(t){return t.loadsAllData()?new Ca(t.getIndex()):t.hasLimit()?new Ag(t):new xu(t)}function xD(t){let e={};if(t.isDefault())return e;let n;if(t.index_===me?n="$priority":t.index_===AV?n="$value":t.index_===_o?n="$key":(y(t.index_ instanceof Sg,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_e(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=_e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_e(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==me&&(e.i=t.index_.toString()),e}var Ng=class t extends Tu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Na("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=xD(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),jr(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=xD(e._queryParams),r=e._path.toString(),i=new Kn;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zn(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ro(a.responseText)}catch{Qe("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Qe("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Rg=class{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function ku(){return{value:null,children:new Map}}function Db(t,e,n){if(q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=z(e);t.children.has(r)||t.children.set(r,ku());let i=t.children.get(r);e=ce(e),Db(i,e,n)}}function xg(t,e,n){t.value!==null?n(e,t.value):RV(t,(r,i)=>{let o=new ee(e.toString()+"/"+r);xg(i,o,n)})}function RV(t,e){t.children.forEach((n,r)=>{e(r,n)})}var kg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Je(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var OD=10*1e3,xV=30*1e3,kV=5*60*1e3,Og=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new kg(e);let r=OD+(xV-OD)*Math.random();ma(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Je(e,(i,o)=>{o>0&&Gt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ma(this.reportStats_.bind(this),Math.floor(Math.random()*2*kV))}};var Zt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Zt||{});function bb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function av(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Pg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Zt.ACK_USER_WRITE,this.source=bb()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ee(e));return new t(Z(),n,this.revert)}}else return y(z(this.path)===e,"operationForChild called for unrelated child."),new t(ce(this.path),this.affectedTree,this.revert)}};var Ou=class t{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new t(this.source,Z()):new t(this.source,ce(this.path))}};var bo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Zt.OVERWRITE}operationForChild(e){return q(this.path)?new t(this.source,Z(),this.snap.getImmediateChild(e)):new t(this.source,ce(this.path),this.snap)}};var Pu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Zt.MERGE}operationForChild(e){if(q(this.path)){let n=this.children.subtree(new ee(e));return n.isEmpty()?null:n.value?new bo(this.source,Z(),n.value):new t(this.source,Z(),n)}else return y(z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Qt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;let n=z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Fg=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function OV(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(MV(s.childName,s.snapshotNode))}),pa(t,i,"child_removed",e,r,n),pa(t,i,"child_added",e,r,n),pa(t,i,"child_moved",o,r,n),pa(t,i,"child_changed",e,r,n),pa(t,i,"value",e,r,n),i}function pa(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>FV(t,a,c)),s.forEach(a=>{let c=PV(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function PV(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function FV(t,e,n){if(e.childName==null||n.childName==null)throw Vr("Should only compare child_ events.");let r=new G(e.childName,e.snapshotNode),i=new G(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Yu(t,e){return{eventCache:t,serverCache:e}}function va(t,e,n,r){return Yu(new Qt(e,n,r),t.serverCache)}function Sb(t,e,n,r){return Yu(t.eventCache,new Qt(e,n,r))}function Fu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var ig,LV=()=>(ig||(ig=new vt(VL)),ig),Xe=class t{constructor(e,n=LV()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Je(e,(r,i)=>{n=n.set(new ee(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(q(e))return null;{let r=z(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ce(e),n);return o!=null?{path:De(new ee(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{let n=z(e),r=this.children.get(n);return r!==null?r.subtree(ce(e)):new t(null)}}set(e,n){if(q(e))return new t(n,this.children);{let r=z(e),o=(this.children.get(r)||new t(null)).set(ce(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(q(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=z(e),r=this.children.get(n);if(r){let i=r.remove(ce(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(q(e))return this.value;{let n=z(e),r=this.children.get(n);return r?r.get(ce(e)):null}}setTree(e,n){if(q(e))return n;{let r=z(e),o=(this.children.get(r)||new t(null)).setTree(ce(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(Z(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(De(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Z(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(q(e))return null;{let o=z(e),s=this.children.get(o);return s?s.findOnPath_(ce(e),De(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Z(),n)}foreachOnPath_(e,n,r){if(q(e))return this;{this.value&&r(n,this.value);let i=z(e),o=this.children.get(i);return o?o.foreachOnPath_(ce(e),De(n,i),r):new t(null)}}foreach(e){this.foreach_(Z(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var xt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Xe(null))}};function ya(t,e,n){if(q(e))return new xt(new Xe(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Ge(i,e);return o=o.updateChild(s,n),new xt(t.writeTree_.set(i,o))}else{let i=new Xe(n),o=t.writeTree_.setTree(e,i);return new xt(o)}}}function PD(t,e,n){let r=t;return Je(n,(i,o)=>{r=ya(r,De(e,i),o)}),r}function FD(t,e){if(q(e))return xt.empty();{let n=t.writeTree_.setTree(e,new Xe(null));return new xt(n)}}function Lg(t,e){return Xr(t,e)!=null}function Xr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ge(n.path,e)):null}function LD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(me,(r,i)=>{e.push(new G(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new G(r,i.value))}),e}function sr(t,e){if(q(e))return t;{let n=Xr(t,e);return n!=null?new xt(new Xe(n)):new xt(t.writeTree_.subtree(e))}}function Vg(t){return t.writeTree_.isEmpty()}function So(t,e){return Tb(Z(),t.writeTree_,e)}function Tb(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Tb(De(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(De(t,".priority"),r)),n}}function Ku(t,e){return Rb(e,t)}function VV(t,e,n,r,i){y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ya(t.visibleWrites,e,n)),t.lastWriteId=r}function jV(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function UV(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);y(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&BV(a,r.path)?i=!1:Rt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return $V(t),!0;if(r.snap)t.visibleWrites=FD(t.visibleWrites,r.path);else{let a=r.children;Je(a,c=>{t.visibleWrites=FD(t.visibleWrites,De(r.path,c))})}return!0}else return!1}function BV(t,e){if(t.snap)return Rt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Rt(De(t.path,n),e))return!0;return!1}function $V(t){t.visibleWrites=Ab(t.allWrites,HV,Z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function HV(t){return t.visible}function Ab(t,e,n){let r=xt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Rt(n,s)?(a=Ge(n,s),r=ya(r,a,o.snap)):Rt(s,n)&&(a=Ge(s,n),r=ya(r,Z(),o.snap.getChild(a)));else if(o.children){if(Rt(n,s))a=Ge(n,s),r=PD(r,a,o.children);else if(Rt(s,n))if(a=Ge(s,n),q(a))r=PD(r,Z(),o.children);else{let c=jr(o.children,z(a));if(c){let l=c.getChild(ce(a));r=ya(r,Z(),l)}}}else throw Vr("WriteRecord should have .snap or .children")}}return r}function Mb(t,e,n,r,i){if(!r&&!i){let o=Xr(t.visibleWrites,e);if(o!=null)return o;{let s=sr(t.visibleWrites,e);if(Vg(s))return n;if(n==null&&!Lg(s,Z()))return null;{let a=n||L.EMPTY_NODE;return So(s,a)}}}else{let o=sr(t.visibleWrites,e);if(!i&&Vg(o))return n;if(!i&&n==null&&!Lg(o,Z()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Rt(l.path,e)||Rt(e,l.path))},a=Ab(t.allWrites,s,e),c=n||L.EMPTY_NODE;return So(a,c)}}}function WV(t,e,n){let r=L.EMPTY_NODE,i=Xr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(me,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=sr(t.visibleWrites,e);return n.forEachChild(me,(s,a)=>{let c=So(sr(o,new ee(s)),a);r=r.updateImmediateChild(s,c)}),LD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=sr(t.visibleWrites,e);return LD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function zV(t,e,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=De(e,n);if(Lg(t.visibleWrites,o))return null;{let s=sr(t.visibleWrites,o);return Vg(s)?i.getChild(n):So(s,i.getChild(n))}}function GV(t,e,n,r){let i=De(e,n),o=Xr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=sr(t.visibleWrites,i);return So(s,r.getNode().getImmediateChild(n))}else return null}function qV(t,e){return Xr(t.visibleWrites,e)}function YV(t,e,n,r,i,o,s){let a,c=sr(t.visibleWrites,e),l=Xr(c,Z());if(l!=null)a=l;else if(n!=null)a=So(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function KV(){return{visibleWrites:xt.empty(),allWrites:[],lastWriteId:-1}}function Lu(t,e,n,r){return Mb(t.writeTree,t.treePath,e,n,r)}function cv(t,e){return WV(t.writeTree,t.treePath,e)}function VD(t,e,n,r){return zV(t.writeTree,t.treePath,e,n,r)}function Vu(t,e){return qV(t.writeTree,De(t.treePath,e))}function ZV(t,e,n,r,i,o){return YV(t.writeTree,t.treePath,e,n,r,i,o)}function lv(t,e,n){return GV(t.writeTree,t.treePath,e,n)}function Nb(t,e){return Rb(De(t.treePath,e),t.writeTree)}function Rb(t,e){return{treePath:t,writeTree:e}}var jg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ea(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ia(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Do(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ea(r,e.snapshotNode,i.oldSnap));else throw Vr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Ug=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},xb=new Ug,wa=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lv(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qr(this.viewCache_),o=ZV(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function QV(t){return{filter:t}}function JV(t,e){y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function XV(t,e,n,r,i){let o=new jg,s,a;if(n.type===Zt.OVERWRITE){let l=n;l.source.fromUser?s=Bg(t,e,l.path,l.snap,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!q(l.path),s=ju(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Zt.MERGE){let l=n;l.source.fromUser?s=tj(t,e,l.path,l.children,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=$g(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Zt.ACK_USER_WRITE){let l=n;l.revert?s=ij(t,e,l.path,r,i,o):s=nj(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Zt.LISTEN_COMPLETE)s=rj(t,e,n.path,r,o);else throw Vr("Unknown operation type: "+n.type);let c=o.getChanges();return ej(e,s,c),{viewCache:s,changes:c}}function ej(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Fu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(wb(Fu(e)))}}function kb(t,e,n,r,i,o){let s=e.eventCache;if(Vu(r,n)!=null)return e;{let a,c;if(q(n))if(y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Qr(e),u=l instanceof L?l:L.EMPTY_NODE,d=cv(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Lu(r,Qr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=z(n);if(l===".priority"){y(cr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=VD(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ce(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=VD(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=lv(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return va(e,a,s.isFullyInitialized()||q(n),t.filter.filtersNodes())}}function ju(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(q(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=z(n);if(!c.isCompleteForPath(n)&&cr(n)>1)return e;let m=ce(n),T=c.getNode().getImmediateChild(h).updateChild(m,r);h===".priority"?l=u.updatePriority(c.getNode(),T):l=u.updateChild(c.getNode(),h,T,m,xb,null)}let d=Sb(e,l,c.isFullyInitialized()||q(n),u.filtersNodes()),f=new wa(i,d,o);return kb(t,d,n,i,f,a)}function Bg(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new wa(i,e,o);if(q(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=va(e,l,!0,t.filter.filtersNodes());else{let d=z(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=va(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ce(n),h=a.getNode().getImmediateChild(d),m;if(q(f))m=r;else{let C=u.getCompleteChild(d);C!=null?mb(f)===".priority"&&C.getChild(vb(f)).isEmpty()?m=C:m=C.updateChild(f,r):m=L.EMPTY_NODE}if(h.equals(m))c=e;else{let C=t.filter.updateChild(a.getNode(),d,m,f,u,s);c=va(e,C,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function jD(t,e){return t.eventCache.isCompleteForChild(e)}function tj(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=De(n,c);jD(e,z(u))&&(a=Bg(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=De(n,c);jD(e,z(u))||(a=Bg(t,a,u,l,i,o,s))}),a}function UD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $g(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;q(n)?l=r:l=new Xe(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),m=UD(t,h,f);c=ju(t,c,new ee(d),m,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let m=e.serverCache.getNode().getImmediateChild(d),C=UD(t,m,f);c=ju(t,c,new ee(d),C,i,o,s,a)}}),c}function nj(t,e,n,r,i,o,s){if(Vu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(q(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ju(t,e,n,c.getNode().getChild(n),i,o,a,s);if(q(n)){let l=new Xe(null);return c.getNode().forEachChild(_o,(u,d)=>{l=l.set(new ee(u),d)}),$g(t,e,n,l,i,o,a,s)}else return e}else{let l=new Xe(null);return r.foreach((u,d)=>{let f=De(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),$g(t,e,n,l,i,o,a,s)}}function rj(t,e,n,r,i){let o=e.serverCache,s=Sb(e,o.getNode(),o.isFullyInitialized()||q(n),o.isFiltered());return kb(t,s,n,r,xb,i)}function ij(t,e,n,r,i,o){let s;if(Vu(r,n)!=null)return e;{let a=new wa(r,e,i),c=e.eventCache.getNode(),l;if(q(n)||z(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Lu(r,Qr(e));else{let d=e.serverCache.getNode();y(d instanceof L,"serverChildren would be complete if leaf node"),u=cv(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=z(n),d=lv(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ce(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,L.EMPTY_NODE,ce(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Lu(r,Qr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Vu(r,Z())!=null,va(e,l,s,t.filter.filtersNodes())}}var Hg=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Ca(r.getIndex()),o=NV(r);this.processor_=QV(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(L.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(L.EMPTY_NODE,a.getNode(),null),u=new Qt(c,s.isFullyInitialized(),i.filtersNodes()),d=new Qt(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Yu(d,u),this.eventGenerator_=new Fg(this.query_)}get query(){return this.query_}};function oj(t){return t.viewCache_.serverCache.getNode()}function sj(t){return Fu(t.viewCache_)}function aj(t,e){let n=Qr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!q(e)&&!n.getImmediateChild(z(e)).isEmpty())?n.getChild(e):null}function BD(t){return t.eventRegistrations_.length===0}function cj(t,e){t.eventRegistrations_.push(e)}function $D(t,e,n){let r=[];if(n){y(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function HD(t,e,n,r){e.type===Zt.MERGE&&e.source.queryId!==null&&(y(Qr(t.viewCache_),"We should always have a full cache before handling merges"),y(Fu(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=XV(t.processor_,i,e,n,r);return JV(t.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Ob(t,o.changes,o.viewCache.eventCache.getNode(),null)}function lj(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(me,(o,s)=>{r.push(Do(o,s))}),n.isFullyInitialized()&&r.push(wb(n.getNode())),Ob(t,r,n.getNode(),e)}function Ob(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return OV(t.eventGenerator_,e,n,i)}var Uu,Bu=class{constructor(){this.views=new Map}};function uj(t){y(!Uu,"__referenceConstructor has already been defined"),Uu=t}function dj(){return y(Uu,"Reference.ts has not been loaded"),Uu}function fj(t){return t.views.size===0}function uv(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return y(o!=null,"SyncTree gave us an op for an invalid query."),HD(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(HD(s,e,n,r));return o}}function Pb(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Lu(n,i?r:null),c=!1;a?c=!0:r instanceof L?(a=cv(n,r),c=!1):(a=L.EMPTY_NODE,c=!1);let l=Yu(new Qt(a,c,!1),new Qt(r,i,!1));return new Hg(e,l)}return s}function hj(t,e,n,r,i,o){let s=Pb(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),cj(s,n),lj(s,n)}function pj(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=lr(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat($D(l,n,r)),BD(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat($D(c,n,r)),BD(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!lr(t)&&o.push(new(dj())(e._repo,e._path)),{removed:o,events:s}}function Fb(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ar(t,e){let n=null;for(let r of t.views.values())n=n||aj(r,e);return n}function Lb(t,e){if(e._queryParams.loadsAllData())return Zu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function Vb(t,e){return Lb(t,e)!=null}function lr(t){return Zu(t)!=null}function Zu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var $u;function mj(t){y(!$u,"__referenceConstructor has already been defined"),$u=t}function gj(){return y($u,"Reference.ts has not been loaded"),$u}var vj=1,Hu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xe(null),this.pendingWriteTree_=KV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function jb(t,e,n,r,i){return VV(t.pendingWriteTree_,e,n,r,i),i?ka(t,new bo(bb(),e,n)):[]}function Yr(t,e,n=!1){let r=jV(t.pendingWriteTree_,e);if(UV(t.pendingWriteTree_,e)){let o=new Xe(null);return r.snap!=null?o=o.set(Z(),!0):Je(r.children,s=>{o=o.set(new ee(s),!0)}),ka(t,new Pg(r.path,o,n))}else return[]}function xa(t,e,n){return ka(t,new bo(sv(),e,n))}function yj(t,e,n){let r=Xe.fromObject(n);return ka(t,new Pu(sv(),e,r))}function _j(t,e){return ka(t,new Ou(sv(),e))}function Ij(t,e,n){let r=fv(t,n);if(r){let i=hv(r),o=i.path,s=i.queryId,a=Ge(o,e),c=new Ou(av(s),a);return pv(t,o,c)}else return[]}function Wu(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||Vb(s,e))){let c=pj(s,e,n,r);fj(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>lr(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=wj(f);for(let m=0;m<h.length;++m){let C=h[m],T=C.query,V=Hb(t,C);t.listenProvider_.startListening(_a(T),Da(t,T),V.hashFn,V.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(_a(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(Qu(f));t.listenProvider_.stopListening(_a(f),h)}))}Dj(t,l)}return a}function Ub(t,e,n,r){let i=fv(t,r);if(i!=null){let o=hv(i),s=o.path,a=o.queryId,c=Ge(s,e),l=new bo(av(a),c,n);return pv(t,s,l)}else return[]}function Ej(t,e,n,r){let i=fv(t,r);if(i){let o=hv(i),s=o.path,a=o.queryId,c=Ge(s,e),l=Xe.fromObject(n),u=new Pu(av(a),c,l);return pv(t,s,u)}else return[]}function Wg(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let m=Ge(f,i);o=o||ar(h,m),s=s||lr(h)});let a=t.syncPointTree_.get(i);a?(s=s||lr(a),o=o||ar(a,Z())):(a=new Bu,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=L.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,m)=>{let C=ar(m,Z());C&&(o=o.updateImmediateChild(h,C))}));let l=Vb(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=Qu(e);y(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=bj();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Ku(t.pendingWriteTree_,i),d=hj(a,e,n,u,o,c);if(!l&&!s&&!r){let f=Lb(a,e);d=d.concat(Sj(t,e,f))}return d}function dv(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Ge(s,e),l=ar(a,c);if(l)return l});return Mb(i,e,o,n,!0)}function Cj(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Ge(l,n);r=r||ar(u,d)});let i=t.syncPointTree_.get(n);i?r=r||ar(i,Z()):(i=new Bu,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Qt(r,!0,!1):null,a=Ku(t.pendingWriteTree_,e._path),c=Pb(i,e,a,o?s.getNode():L.EMPTY_NODE,o);return sj(c)}function ka(t,e){return Bb(e,t.syncPointTree_,null,Ku(t.pendingWriteTree_,Z()))}function Bb(t,e,n,r){if(q(t.path))return $b(t,e,n,r);{let i=e.get(Z());n==null&&i!=null&&(n=ar(i,Z()));let o=[],s=z(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=Nb(r,s);o=o.concat(Bb(a,c,l,u))}return i&&(o=o.concat(uv(i,t,r,n))),o}}function $b(t,e,n,r){let i=e.get(Z());n==null&&i!=null&&(n=ar(i,Z()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=Nb(r,s),u=t.operationForChild(s);u&&(o=o.concat($b(u,a,c,l)))}),i&&(o=o.concat(uv(i,t,r,n))),o}function Hb(t,e){let n=e.query,r=Da(t,n);return{hashFn:()=>(oj(e)||L.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Ij(t,n._path,r):_j(t,n._path);{let o=BL(i,n);return Wu(t,n,null,o)}}}}function Da(t,e){let n=Qu(e);return t.queryToTagMap.get(n)}function Qu(t){return t._path.toString()+"$"+t._queryIdentifier}function fv(t,e){return t.tagToQueryMap.get(e)}function hv(t){let e=t.indexOf("$");return y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ee(t.substr(0,e))}}function pv(t,e,n){let r=t.syncPointTree_.get(e);y(r,"Missing sync point for query tag that we're tracking");let i=Ku(t.pendingWriteTree_,e);return uv(r,n,i,null)}function wj(t){return t.fold((e,n,r)=>{if(n&&lr(n))return[Zu(n)];{let i=[];return n&&(i=Fb(n)),Je(r,(o,s)=>{i=i.concat(s)}),i}})}function _a(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(gj())(t._repo,t._path):t}function Dj(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Qu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function bj(){return vj++}function Sj(t,e,n){let r=e._path,i=Da(t,e),o=Hb(t,n),s=t.listenProvider_.startListening(_a(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)y(!lr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!q(l)&&u&&lr(u))return[Zu(u).query];{let f=[];return u&&(f=f.concat(Fb(u).map(h=>h.query))),Je(d,(h,m)=>{f=f.concat(m)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(_a(u),Da(t,u))}}return s}var zg=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Gg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=De(this.path_,e);return new t(this.syncTree_,n)}node(){return dv(this.syncTree_,this.path_)}},Tj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},WD=function(t,e,n){if(!t||typeof t!="object")return t;if(y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Aj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Mj(t[".sv"],e);y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Aj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+t)}},Mj=function(t,e,n){t.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=e.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},Nj=function(t,e,n,r){return mv(e,new Gg(n,t),r)},Wb=function(t,e,n){return mv(t,new zg(e),n)};function mv(t,e,n){let r=t.getPriority().val(),i=WD(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=WD(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Co(a,Ne(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Co(i))),s.forEachChild(me,(a,c)=>{let l=mv(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var ba=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function gv(t,e){let n=e instanceof ee?e:new ee(e),r=t,i=z(n);for(;i!==null;){let o=jr(r.node.children,i)||{children:{},childCount:0};r=new ba(i,r,o),n=ce(n),i=z(n)}return r}function Mo(t){return t.node.value}function zb(t,e){t.node.value=e,qg(t)}function Gb(t){return t.node.childCount>0}function Rj(t){return Mo(t)===void 0&&!Gb(t)}function Ju(t,e){Je(t.node.children,(n,r)=>{e(new ba(n,t,r))})}function qb(t,e,n,r){n&&!r&&e(t),Ju(t,i=>{qb(i,e,!0,r)}),n&&r&&e(t)}function xj(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Oa(t){return new ee(t.parent===null?t.name:Oa(t.parent)+"/"+t.name)}function qg(t){t.parent!==null&&kj(t.parent,t.name,t)}function kj(t,e,n){let r=Rj(n),i=Gt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qg(t))}var Oj=/[\[\].#$\/\u0000-\u001F\u007F]/,Pj=/[\[\].#$\u0000-\u001F\u007F]/,og=10*1024*1024,Yb=function(t){return typeof t=="string"&&t.length!==0&&!Oj.test(t)},Kb=function(t){return typeof t=="string"&&t.length!==0&&!Pj.test(t)},Fj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Kb(t)};var Zb=function(t,e,n,r){r&&e===void 0||vv(Yl(t,"value"),e,n)},vv=function(t,e,n){let r=n instanceof ee?new _g(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Gr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Gr(r)+" with contents = "+e.toString());if(QD(e))throw new Error(t+"contains "+e.toString()+" "+Gr(r));if(typeof e=="string"&&e.length>og/3&&Ys(e)>og)throw new Error(t+"contains a string greater than "+og+" utf8 bytes "+Gr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Je(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Yb(s)))throw new Error(t+" contains an invalid key ("+s+") "+Gr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);gV(r,s),vv(t,a,r),vV(r)}),i&&o)throw new Error(t+' contains ".value" child '+Gr(r)+" in addition to actual children.")}};var Qb=function(t,e,n,r){if(!(r&&n===void 0)&&!Kb(n))throw new Error(Yl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Lj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Qb(t,e,n,r)},yv=function(t,e){if(z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Vj=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Yb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Fj(n))throw new Error(Yl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Yg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function _v(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!rv(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Jb(t,e,n){_v(t,n),Xb(t,r=>rv(r,e))}function Jt(t,e,n){_v(t,n),Xb(t,r=>Rt(r,e)||Rt(e,r))}function Xb(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(jj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jj(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Kr&&Ve("event: "+n.toString()),Ao(r)}}}var Uj="repo_interrupt",Bj=25,Kg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ku(),this.transactionQueueTree_=new ba,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function $j(t,e,n){if(t.stats_=nv(t.repoInfo_),t.forceRestClient_||zL())t.server_=new Ng(t.repoInfo_,(r,i,o,s)=>{zD(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new iv(t.repoInfo_,e,(r,i,o,s)=>{zD(t,r,i,o,s)},r=>{GD(t,r)},r=>{Hj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=qL(t.repoInfo_,()=>new Og(t.stats_,t.server_)),t.infoData_=new Rg,t.infoSyncTree_=new Hu({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=xa(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Ev(t,"connected",!1),t.serverSyncTree_=new Hu({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Jt(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function e0(t){let n=t.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Iv(t){return Tj({timestamp:e0(t)})}function zD(t,e,n,r,i){t.dataUpdateCount++;let o=new ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=qs(n,l=>Ne(l));s=Ej(t.serverSyncTree_,o,c,i)}else{let c=Ne(n);s=Ub(t.serverSyncTree_,o,c,i)}else if(r){let c=qs(n,l=>Ne(l));s=yj(t.serverSyncTree_,o,c)}else{let c=Ne(n);s=xa(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=ed(t,o)),Jt(t.eventQueue_,a,s)}function GD(t,e){Ev(t,"connected",e),e===!1&&Gj(t)}function Hj(t,e){Je(e,(n,r)=>{Ev(t,n,r)})}function Ev(t,e,n){let r=new ee("/.info/"+e),i=Ne(n);t.infoData_.updateSnapshot(r,i);let o=xa(t.infoSyncTree_,r,i);Jt(t.eventQueue_,r,o)}function t0(t){return t.nextWriteId_++}function Wj(t,e,n){let r=Cj(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Ne(i).withIndex(e._queryParams.getIndex());Wg(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=xa(t.serverSyncTree_,e._path,o);else{let a=Da(t.serverSyncTree_,e);s=Ub(t.serverSyncTree_,e._path,o,a)}return Jt(t.eventQueue_,e._path,s),Wu(t.serverSyncTree_,e,n,null,!0),o},i=>(Xu(t,"get for query "+_e(e)+" failed: "+i),Promise.reject(new Error(i))))}function zj(t,e,n,r,i){Xu(t,"set",{path:e.toString(),value:n,priority:r});let o=Iv(t),s=Ne(n,r),a=dv(t.serverSyncTree_,e),c=Wb(s,a,o),l=t0(t),u=jb(t.serverSyncTree_,e,c,l,!0);_v(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let m=f==="ok";m||Qe("set at "+e+" failed: "+f);let C=Yr(t.serverSyncTree_,l,!m);Jt(t.eventQueue_,e,C),Kj(t,i,f,h)});let d=s0(t,e);ed(t,d),Jt(t.eventQueue_,d,[])}function Gj(t){Xu(t,"onDisconnectEvents");let e=Iv(t),n=ku();xg(t.onDisconnect_,Z(),(i,o)=>{let s=Nj(i,o,t.serverSyncTree_,e);Db(n,i,s)});let r=[];xg(n,Z(),(i,o)=>{r=r.concat(xa(t.serverSyncTree_,i,o));let s=s0(t,i);ed(t,s)}),t.onDisconnect_=ku(),Jt(t.eventQueue_,Z(),r)}function qj(t,e,n){let r;z(e._path)===".info"?r=Wg(t.infoSyncTree_,e,n):r=Wg(t.serverSyncTree_,e,n),Jb(t.eventQueue_,e._path,r)}function Zg(t,e,n){let r;z(e._path)===".info"?r=Wu(t.infoSyncTree_,e,n):r=Wu(t.serverSyncTree_,e,n),Jb(t.eventQueue_,e._path,r)}function Yj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Uj)}function Xu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ve(n,...e)}function Kj(t,e,n,r){e&&Ao(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function n0(t,e,n){return dv(t.serverSyncTree_,e,n)||L.EMPTY_NODE}function Cv(t,e=t.transactionQueueTree_){if(e||td(t,e),Mo(e)){let n=i0(t,e);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Zj(t,Oa(e),n)}else Gb(e)&&Ju(e,n=>{Cv(t,n)})}function Zj(t,e,n){let r=n.map(l=>l.currentWriteId),i=n0(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ge(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Xu(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Yr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();td(t,gv(t.transactionQueueTree_,e)),Cv(t,t.transactionQueueTree_),Jt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Ao(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Qe("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}ed(t,e)}},s)}function ed(t,e){let n=r0(t,e),r=Oa(n),i=i0(t,n);return Qj(t,i,r),r}function Qj(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Ge(n,c.path),u=!1,d;if(y(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Yr(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Bj)u=!0,d="maxretry",i=i.concat(Yr(t.serverSyncTree_,c.currentWriteId,!0));else{let f=n0(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){vv("transaction failed: Data returned ",h,c.path);let m=Ne(h);typeof h=="object"&&h!=null&&Gt(h,".priority")||(m=m.updatePriority(f.getPriority()));let T=c.currentWriteId,V=Iv(t),de=Wb(m,f,V);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=de,c.currentWriteId=t0(t),s.splice(s.indexOf(T),1),i=i.concat(jb(t.serverSyncTree_,c.path,de,c.currentWriteId,c.applyLocally)),i=i.concat(Yr(t.serverSyncTree_,T,!0))}else u=!0,d="nodata",i=i.concat(Yr(t.serverSyncTree_,c.currentWriteId,!0))}Jt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}td(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ao(r[a]);Cv(t,t.transactionQueueTree_)}function r0(t,e){let n,r=t.transactionQueueTree_;for(n=z(e);n!==null&&Mo(r)===void 0;)r=gv(r,n),e=ce(e),n=z(e);return r}function i0(t,e){let n=[];return o0(t,e,n),n.sort((r,i)=>r.order-i.order),n}function o0(t,e,n){let r=Mo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ju(e,i=>{o0(t,i,n)})}function td(t,e){let n=Mo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zb(e,n.length>0?n:void 0)}Ju(e,r=>{td(t,r)})}function s0(t,e){let n=Oa(r0(t,e)),r=gv(t.transactionQueueTree_,e);return xj(r,i=>{sg(t,i)}),sg(t,r),qb(r,i=>{sg(t,i)}),n}function sg(t,e){let n=Mo(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Yr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?zb(e,void 0):n.length=o+1,Jt(t.eventQueue_,Oa(e),i);for(let s=0;s<r.length;s++)Ao(r[s])}}function Jj(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Xj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Qe(`Invalid query segment '${n}' in query '${t}'`)}return e}var qD=function(t,e){let n=eU(t),r=n.namespace;n.domain==="firebase.com"&&An(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&An("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||FL();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new bu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ee(n.pathString)}},eU=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Jj(t.substring(u,d)));let f=Xj(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var YD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tU=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=YD.charAt(n%64),n=Math.floor(n/64);y(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=YD.charAt(e[i]);return y(s.length===20,"nextPushId: Length should be 20."),s}}();var zu=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}},Gu=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Sa=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Qg=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return q(this._path)?null:mb(this._path)}get ref(){return new Xt(this._repo,this._path)}get _queryIdentifier(){let e=kD(this._queryParams),n=tv(e);return n==="{}"?"default":n}get _queryObject(){return kD(this._queryParams)}isEqual(e){if(e=Ae(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=rv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+mV(this._path)}};var Xt=class t extends Qg{constructor(e,n){super(e,n,new Mg,!1)}get parent(){let e=vb(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Ta=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ee(e),r=Jr(this.ref,e);return new t(this._node.getChild(n),r,me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Jr(this.ref,r),me)))}hasChild(e){let n=new ee(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function a0(t,e){return t=Ae(t),t._checkNotDeleted("ref"),e!==void 0?Jr(t._root,e):t._root}function Jr(t,e){return t=Ae(t),z(t._path)===null?Lj("child","path",e,!1):Qb("child","path",e,!1),new Xt(t._repo,De(t._path,e))}function c0(t,e){t=Ae(t),yv("push",t._path),Zb("push",e,t._path,!0);let n=e0(t._repo),r=tU(n),i=Jr(t,r),o=Jr(t,r),s;return e!=null?s=nd(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function l0(t){return yv("remove",t._path),nd(t,null)}function nd(t,e){t=Ae(t),yv("set",t._path),Zb("set",e,t._path,!1);let n=new Kn;return zj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function rd(t){t=Ae(t);let e=new Sa(()=>{}),n=new Aa(e);return Wj(t._repo,t,n).then(r=>new Ta(r,new Xt(t._repo,t._path),t._queryParams.getIndex()))}var Aa=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new zu("value",this,new Ta(e.snapshotNode,new Xt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Gu(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},qu=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Gu(this,e,n):null}createEvent(e,n){y(e.childName!=null,"Child events should have a childName.");let r=Jr(new Xt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new zu(e.type,this,new Ta(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Pa(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{Zg(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Sa(n,o||void 0),a=e==="value"?new Aa(s):new qu(e,s);return qj(t._repo,t,a),()=>Zg(t._repo,t,a)}function wv(t,e,n,r){return Pa(t,"value",e,n,r)}function Dv(t,e,n,r){return Pa(t,"child_added",e,n,r)}function bv(t,e,n,r){return Pa(t,"child_changed",e,n,r)}function Sv(t,e,n,r){return Pa(t,"child_moved",e,n,r)}function Tv(t,e,n,r){return Pa(t,"child_removed",e,n,r)}function Av(t,e,n){let r=null,i=n?new Sa(n):null;e==="value"?r=new Aa(i):e&&(r=new qu(e,i)),Zg(t._repo,t,r)}uj(Xt);mj(Xt);var nU="FIREBASE_DATABASE_EMULATOR_HOST",Jg={},rU=!1;function iU(t,e,n,r){t.repoInfo_=new bu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function oU(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||An("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=qD(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[nU]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=qD(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new ga(ga.OWNER):new fg(t.name,t.options,e);Vj("Invalid Firebase Database URL",s),q(s.path)||An("Database URL must point to the root of a Firebase Database (not including a child path).");let d=aU(a,t,u,new dg(t.name,n));return new Xg(d,t)}function sU(t,e){let n=Jg[e];(!n||n[t.key]!==t)&&An(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Yj(t),delete n[t.key]}function aU(t,e,n,r){let i=Jg[e.name];i||(i={},Jg[e.name]=i);let o=i[t.toURLString()];return o&&An("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Kg(t,rU,n,r),i[t.toURLString()]=o,o}var Xg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($j(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xt(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(sU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&An("Cannot call "+e+" on a deleted database.")}};function u0(t=ao(),e){let n=Js(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=LC("database");r&&d0(n,...r)}return n}function d0(t,e,n,r={}){t=Ae(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&An("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&An('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ga(ga.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:VC(r.mockUserToken,t.app.options.projectId);o=new ga(s)}iU(i,e,n,o)}function cU(t){kL(er),Xn(new ft("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return oU(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ie(gD,vD,t),Ie(gD,vD,"esm2017")}iv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};iv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};cU();var ei,Oe=function(t){return t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value",t}(Oe||{}),lU=Object.freeze((ei={},ei[Oe.added]=Dv,ei[Oe.removed]=Tv,ei[Oe.changed]=bv,ei[Oe.moved]=Sv,ei[Oe.value]=wv,ei));function f0(t,e){return new F(function(n){var r=lU[e](t,function(i,o){n.next({snapshot:i,prevKey:o,event:e})},n.error.bind(n));return{unsubscribe:function(){Av(t,e,r)}}}).pipe(tf(0))}var id=function(){return id=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},id.apply(this,arguments)};function Mv(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function uU(t){return(t==null||t.length===0)&&(t=[Oe.added,Oe.removed,Oe.changed,Oe.moved]),t}function h0(t,e){var n;e===void 0&&(e={});var r=t.snapshot.val();return!t.snapshot.exists()||typeof r!="object"?r:id(id({},r),e.keyField?(n={},n[e.keyField]=t.snapshot.key,n):null)}function dU(t){return oe(rd(t)).pipe(O(function(e){var n=Oe.value;return{snapshot:e,prevKey:null,event:n}}))}function p0(t,e){e===void 0&&(e={});var n=uU(e.events);return dU(t).pipe(Ke(function(r){var i=[N(r)];return n.forEach(function(o){i.push(f0(t,o))}),Xd.apply(void 0,i).pipe(Zo(hU,[]))}),nf())}function m0(t,e){return e===void 0&&(e={}),p0(t).pipe(O(function(n){return n.map(function(r){return h0(r,e)})}))}function g0(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].snapshot.key===e)return r;return-1}function fU(t,e){if(e==null)return 0;var n=g0(t,e);return n===-1?t.length:n+1}function hU(t,e){var n=e.snapshot,r=e.prevKey,i=e.event,o=n.key,s=g0(t,o),a=fU(t,r||void 0);switch(i){case Oe.value:if(e.snapshot&&e.snapshot.exists()){var c=null;e.snapshot.forEach(function(d){var f={snapshot:d,event:Oe.value,prevKey:c};return c=d.key,t=Mv(Mv([],t,!0),[f],!1),!1})}return t;case Oe.added:if(s>-1){var l=t[s-1];(l&&l.snapshot.key||null)!==r&&(t=t.filter(function(d){return d.snapshot.key!==n.key}),t.splice(a,0,e))}else{if(r==null)return Mv([e],t,!0);t=t.slice(),t.splice(a,0,e)}return t;case Oe.removed:return t.filter(function(d){return d.snapshot.key!==n.key});case Oe.changed:return t.map(function(d){return d.snapshot.key===o?e:d});case Oe.moved:if(s>-1){var u=t.splice(s,1)[0];return t=t.slice(),t.splice(a,0,u),t}return t;default:return t}}var Mn=class{constructor(e){return e}},v0="database",Nv=class{constructor(){return Xs(v0)}};var Rv=new S("angularfire2.database-instances");function pU(t,e){let n=Xl(v0,t,e);return n&&new Mn(n)}function mU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Mn(r)}}var gU={provide:Nv,deps:[[new We,Rv]]},vU={provide:Mn,useFactory:pU,deps:[[new We,Rv],Cn]};function y0(t,...e){return Ie("angularfire",$r.full,"rtdb"),Bt([vU,gU,{provide:Rv,useFactory:mU(t),multi:!0,deps:[te,Ze,uo,Hr,[new We,la],[new We,lo],...e]}])}var od=Me(m0,!0);var _0=Me(rd,!0),I0=Me(u0,!0);var E0=Me(c0,!0);var ur=Me(a0,!0);var C0=Me(l0,!0);var w0=Me(nd,!0);var No=class t{constructor(e){this.database=e}getAllPersons(){let e=ur(this.database,"/persons");return od(e)}deletePerson(e){let n=ur(this.database,`/persons/${e}`);return C0(n)}getPersonByUid(e){let n=ur(this.database,`/persons/${e}`);return _0(n)}savePerson(e){let n=ur(this.database,`/persons/${e.uid}`);if(e.uid==""){let r=ur(this.database,"/persons");n=E0(r),n.key!=null&&(e.uid=n.key)}return w0(n,e)}static \u0275fac=function(n){return new(n||t)(R(Mn))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ro=class t{constructor(e,n){this.personService=e;this.authService=n}user=null;ngOnInit(){let e=this.authService.getCurrentUser();e&&this.personService.getPersonByUid(e.uid).then(n=>{n.exists()&&(this.user=n.val())}).catch(n=>{console.error("Error al cargar los datos del usuario:",n)})}static \u0275fac=function(n){return new(n||t)(w(No),w(Kt))};static \u0275cmp=ne({type:t,selectors:[["app-profile"]],standalone:!0,features:[re],decls:20,vars:5,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"card",2,"width","18rem","margin","0 auto"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"card-footer","text-muted"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"h3",1),I(2,"Datos del Usuario:"),v(),g(3,"div",2)(4,"div",3)(5,"h5",4),I(6),v(),g(7,"h6",5),I(8),v()(),g(9,"ul",6)(10,"li",7)(11,"strong"),I(12,"Rol:"),v(),I(13),v(),g(14,"li",7)(15,"strong"),I(16,"Fecha de creaci\xF3n:"),v(),I(17),v()(),g(18,"div",8),I(19," Informaci\xF3n del perfil "),v()()()),n&2&&(A(6),Wh("",r.user==null?null:r.user.name," ",r.user==null?null:r.user.surname,""),A(2),gs(r.user==null?null:r.user.email),A(5),vs(" ",r.user==null?null:r.user.role,""),A(4),vs(" ",r.user==null?null:r.user.createAt,""))}})};var sd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-home"]],standalone:!0,features:[re],decls:3,vars:0,template:function(n,r){n&1&&Q(0,"app-navbar")(1,"app-profile")(2,"app-footer")},dependencies:[we,mt,or,Ro]})};var Pe=class{id;name;description;priority;status;creationDate;expirationDate;isDelete;constructor(e,n,r,i,o,s,a,c){this.id=e,this.name=n,this.description=r,this.priority=i,this.status=o,this.creationDate=s,this.expirationDate=a,this.isDelete=c}getStatusText(){let e="";switch(this.status){case"IP":e="En Proceso";break;case"C":e="Realizada";break;case"P":e="Pendiente";break}return e}getPriorityText(){let e="";switch(this.priority){case"H":e="Alta";break;case"M":e="Media";break;case"L":e="Baja";break}return e}getPriorityColor(){switch(this.priority){case"H":return"blue";case"M":return"red";case"L":return"black";default:return""}}};var ti=class{action;taskId;constructor(e,n){this.action=e,this.taskId=n}};var ad=class t{task=new Pe(1,"Tarea 1","Descripci\xF3n Tarea 1","L","P",new Date("11/1/2024"),new Date("11/18/2024"),!1);eventTaskModify=new se;editTask=new se;incrementStatus(e){this.eventTaskModify.emit(new ti("incrementStatus",this.task.id))}deleteTask(e){this.eventTaskModify.emit(new ti("deleteTask",this.task.id))}reducePriority(e){this.eventTaskModify.emit(new ti("reducePriority",this.task.id))}incrementPriority(e){this.eventTaskModify.emit(new ti("incrementPriority",this.task.id))}onEditTask(){this.editTask.emit(this.task)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-taskresume"]],inputs:{task:"task"},outputs:{eventTaskModify:"eventTaskModify",editTask:"editTask"},standalone:!0,features:[re],decls:1,vars:1,template:function(n,r){n&1&&I(0),n&2&&gs(r.task.name)},dependencies:[we],styles:[".card[_ngcontent-%COMP%]{margin-top:2%;margin-bottom:2%}"]})};var cd=class t{constructor(e){this.database=e}taskList=[new Pe(1,"Implementacion de la autenticacion","Configuracion de autenticacion de usuarios","H","C",new Date("2024-09-12"),new Date("2024-09-14"),!1),new Pe(2,"Dise\xF1o de la interfaz de usuario","Crear un dise\xF1o para la interfaz principal","L","IP",new Date("2024-10-02"),new Date("2024-10-05"),!1),new Pe(3,"Desarrollo de la API","Implementacion de API REST para los datos de la aplicacion","M","P",new Date("2024-11-03"),new Date("2024-11-05"),!1),new Pe(4,"Actualizacion de la documentacion","Revision y Actualizacion de la Documentacion","H","IP",new Date("2024-07-22"),new Date("2024-07-25"),!0),new Pe(5,"Creacion de pruebas unitarias","Escribir pruebas unitarias para la API","M","IP",new Date("2024-09-23"),new Date("2024-11-07"),!0),new Pe(6,"Configuracion CI/CD","Configuracion de la Integracion y el despliegue continuo","L","C",new Date("2024-08-10"),new Date("2024-08-28"),!0),new Pe(7,"Optimizaci\xF3n del Rendimiento","Mejora del rendimiento dentro de la aplicacion","H","P",new Date("2024-10-23"),new Date("2024-11-15"),!1),new Pe(8,"Realizaci\xF3n de pruebas de carga","Ejecuci\xF3n de las Pruebas de carga en la API","L","IP",new Date("2024-10-01"),new Date("2024-12-01"),!0),new Pe(9,"Configuracion de las notificaciones","Realizacion del Despliegue de la Aplicacion","M","P",new Date("2024-11-10"),new Date("2024-11-30"),!1),new Pe(10,"Despliegue en Produccion","Realizacion del despliegue de la aplicacion","H","C",new Date("2024-09-23"),new Date("2024-11-17"),!0)];getAllTasks(){let e=ur(this.database,"/tasks");return od(e)}getTasks(){return this.taskList}addTask(e){this.taskList.push(e),console.log(`La tarea ${e.id} se ha incluido dentro de la lista de tareas`)}updateTask(e){let n=this.taskList.findIndex(r=>r.id===e.id);n!==-1?(console.log("Tarea encontrada en la lista, actualizando:",e),this.taskList[n]=e):console.log("Tarea no encontrada para actualizar:",e)}taskToEdit=null;setTaskToEdit(e){this.taskToEdit=e}incrementStatus(e){let n=this.taskList.find(r=>r.id===e);n&&(n.status==="P"?n.status="IP":n.status==="IP"&&(n.status="C"))}deleteTask(e){let n=this.taskList.find(r=>r.id===e);n&&(n.isDelete=!0)}reducePriority(e){let n=this.taskList.find(r=>r.id===e);n&&(n.priority==="H"?n.priority="M":n.priority==="M"&&(n.priority="L"))}incrementPriority(e){let n=this.taskList.find(r=>r.id===e);n&&(n.priority==="L"?n.priority="M":n.priority==="M"&&(n.priority="H"))}modifyTask(e){switch(e.action){case"incrementPriority":this.incrementPriority(e.taskId);break;case"reducePriority":this.reducePriority(e.taskId);break;case"incrementStatus":this.incrementStatus(e.taskId);break;case"deleteTask":this.deleteTask(e.taskId);break}}static \u0275fac=function(n){return new(n||t)(R(Mn))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function IU(t,e){if(t&1){let n=Cl();$h(0),g(1,"app-taskresume",4),ye("eventTaskModify",function(i){ls(n);let o=ms();return us(o.modifyTask(i))})("editTask",function(i){ls(n);let o=ms();return us(o.setTaskToEdit(i))}),v(),Hh()}if(t&2){let n=e.$implicit;A(),x("task",n)}}var ld=class t{constructor(e){this.taskService=e}taskList=[];taskToEdit=null;ngOnInit(){this.taskService.getAllTasks().subscribe({next:e=>{this.taskList=e,console.log("Tareas cargadas:",this.taskList)},error:e=>{console.error("Error al cargar las tareas:",e)}})}newTask(e){this.taskService.addTask(e),this.taskList=this.taskService.getTasks()}saveTask(e){this.taskService.updateTask(e),this.taskList=this.taskService.getTasks(),this.taskToEdit=null}setTaskToEdit(e){this.taskToEdit=e}modifyTask(e){this.taskService.modifyTask(e),this.taskList=this.taskService.getTasks()}static \u0275fac=function(n){return new(n||t)(w(cd))};static \u0275cmp=ne({type:t,selectors:[["app-tasklist"]],standalone:!0,features:[re],decls:7,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[4,"ngFor","ngForOf"],[3,"eventTaskModify","editTask","task"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),I(4,"Listado de Tareas"),v()(),g(5,"div",2),ue(6,IU,2,1,"ng-container",3),v()()()),n&2&&(A(6),x("ngForOf",r.taskList))},dependencies:[we,UE,ad]})};var ud=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-tasks"]],standalone:!0,features:[re],decls:2,vars:0,template:function(n,r){n&1&&Q(0,"app-navbar")(1,"app-tasklist")},dependencies:[mt,ld,we]})};var dd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[re],decls:7,vars:0,consts:[["routerLink","stats"],["routerLink","profile"]],template:function(n,r){n&1&&(Q(0,"app-navbar"),g(1,"nav")(2,"a",0),I(3,"Estad\xEDsticas | "),v(),g(4,"a",1),I(5,"Perfil"),v()(),Q(6,"router-outlet"))},dependencies:[mt,we,Us,Wl]})};var F0=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(w(Ht),w(Dt))}}static{this.\u0275dir=ve({type:t})}}return t})(),Ed=(()=>{class t extends F0{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275dir=ve({type:t,features:[bt]})}}return t})(),Ba=new S(""),EU={provide:Ba,useExisting:cn(()=>Lv),multi:!0},Lv=(()=>{class t extends Ed{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275dir=ve({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ye("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Nr([EU]),bt]})}}return t})(),CU={provide:Ba,useExisting:cn(()=>hr),multi:!0};function wU(){let t=gn()?gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var DU=new S(""),hr=(()=>{class t extends F0{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!wU())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(w(Ht),w(Dt),w(DU,8))}}static{this.\u0275dir=ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ye("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Nr([CU]),bt]})}}return t})();function dr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function L0(t){return t!=null&&typeof t.length=="number"}var V0=new S(""),j0=new S(""),bU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,be=class{static min(e){return SU(e)}static max(e){return TU(e)}static required(e){return AU(e)}static requiredTrue(e){return MU(e)}static email(e){return NU(e)}static minLength(e){return RU(e)}static maxLength(e){return xU(e)}static pattern(e){return kU(e)}static nullValidator(e){return U0(e)}static compose(e){return G0(e)}static composeAsync(e){return Y0(e)}};function SU(t){return e=>{if(dr(e.value)||dr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function TU(t){return e=>{if(dr(e.value)||dr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function AU(t){return dr(t.value)?{required:!0}:null}function MU(t){return t.value===!0?null:{required:!0}}function NU(t){return dr(t.value)||bU.test(t.value)?null:{email:!0}}function RU(t){return e=>dr(e.value)||!L0(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function xU(t){return e=>L0(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function kU(t){if(!t)return U0;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(dr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function U0(t){return null}function B0(t){return t!=null}function $0(t){return Rr(t)?oe(t):t}function H0(t){let e={};return t.forEach(n=>{e=n!=null?_(_({},e),n):e}),Object.keys(e).length===0?null:e}function W0(t,e){return e.map(n=>n(t))}function OU(t){return!t.validate}function z0(t){return t.map(e=>OU(e)?e:n=>e.validate(n))}function G0(t){if(!t)return null;let e=t.filter(B0);return e.length==0?null:function(n){return H0(W0(n,e))}}function q0(t){return t!=null?G0(z0(t)):null}function Y0(t){if(!t)return null;let e=t.filter(B0);return e.length==0?null:function(n){let r=W0(n,e).map($0);return Jd(r).pipe(O(H0))}}function K0(t){return t!=null?Y0(z0(t)):null}function T0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Z0(t){return t._rawValidators}function Q0(t){return t._rawAsyncValidators}function xv(t){return t?Array.isArray(t)?t:[t]:[]}function pd(t,e){return Array.isArray(t)?t.includes(e):t===e}function A0(t,e){let n=xv(e);return xv(t).forEach(i=>{pd(n,i)||n.push(i)}),n}function M0(t,e){return xv(e).filter(n=>!pd(t,n))}var md=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=q0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=K0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Oo=class extends md{get formDirective(){return null}get path(){return null}},Ua=class extends md{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},gd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},PU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},b5=j(_({},PU),{"[class.ng-submitted]":"isSubmitted"}),Fo=(()=>{class t extends gd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(w(Ua,2))}}static{this.\u0275dir=ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&El("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[bt]})}}return t})(),Lo=(()=>{class t extends gd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(w(Oo,10))}}static{this.\u0275dir=ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&El("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[bt]})}}return t})();var Fa="VALID",fd="INVALID",xo="PENDING",La="DISABLED",fr=class{},vd=class extends fr{constructor(e,n){super(),this.value=e,this.source=n}},Va=class extends fr{constructor(e,n){super(),this.pristine=e,this.source=n}},ja=class extends fr{constructor(e,n){super(),this.touched=e,this.source=n}},ko=class extends fr{constructor(e,n){super(),this.status=e,this.source=n}},kv=class extends fr{constructor(e){super(),this.source=e}},Ov=class extends fr{constructor(e){super(),this.source=e}};function Vv(t){return(Cd(t)?t.validators:t)||null}function FU(t){return Array.isArray(t)?q0(t):t||null}function jv(t,e){return(Cd(e)?e.asyncValidators:t)||null}function LU(t){return Array.isArray(t)?K0(t):t||null}function Cd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function J0(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function X0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Po=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ys(()=>this.statusReactive()),this.statusReactive=ps(void 0),this._pristine=ys(()=>this.pristineReactive()),this.pristineReactive=ps(!0),this._touched=ys(()=>this.touchedReactive()),this.touchedReactive=ps(!1),this._events=new Se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mn(this.statusReactive)}set status(e){mn(()=>this.statusReactive.set(e))}get valid(){return this.status===Fa}get invalid(){return this.status===fd}get pending(){return this.status==xo}get disabled(){return this.status===La}get enabled(){return this.status!==La}get pristine(){return mn(this.pristineReactive)}set pristine(e){mn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return mn(this.touchedReactive)}set touched(e){mn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(A0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(A0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(M0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(M0(e,this._rawAsyncValidators))}hasValidator(e){return pd(this._rawValidators,e)}hasAsyncValidator(e){return pd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(j(_({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ja(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ja(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(j(_({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Va(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Va(!0,r))}markAsPending(e={}){this.status=xo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ko(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(j(_({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=La,this.errors=null,this._forEachChild(i=>{i.disable(j(_({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vd(this.value,r)),this._events.next(new ko(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this._forEachChild(r=>{r.enable(j(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(j(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fa||this.status===xo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vd(this.value,n)),this._events.next(new ko(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(j(_({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?La:Fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=xo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=$0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ko(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?La:this.errors?fd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xo)?xo:this._anyControlsHaveStatus(fd)?fd:Fa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Va(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ja(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=FU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=LU(this._rawAsyncValidators)}},yd=class extends Po{constructor(e,n,r){super(Vv(n),jv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){X0(this,!0,e),Object.keys(e).forEach(r=>{J0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Pv=class extends yd{};var Uv=new S("CallSetDisabledState",{providedIn:"root",factory:()=>wd}),wd="always";function VU(t,e){return[...e.path,t]}function N0(t,e,n=wd){Bv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),UU(t,e),$U(t,e),BU(t,e),jU(t,e)}function R0(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Id(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function _d(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function jU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Bv(t,e){let n=Z0(t);e.validator!==null?t.setValidators(T0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Q0(t);e.asyncValidator!==null?t.setAsyncValidators(T0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();_d(e._rawValidators,i),_d(e._rawAsyncValidators,i)}function Id(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Z0(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Q0(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return _d(e._rawValidators,r),_d(e._rawAsyncValidators,r),n}function UU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&eS(t,e)})}function BU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&eS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function eS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $U(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function HU(t,e){t==null,Bv(t,e)}function WU(t,e){return Id(t,e)}function zU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function GU(t){return Object.getPrototypeOf(t.constructor)===Ed}function qU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function YU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===hr?n=o:GU(o)?r=o:i=o}),i||r||n||null}function KU(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function x0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function k0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var hd=class extends Po{constructor(e=null,n,r){super(Vv(n),jv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(k0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){x0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){x0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){k0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ZU=t=>t instanceof hd;var Vo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var tS=new S("");var QU={provide:Oo,useExisting:cn(()=>ni)},ni=(()=>{class t extends Oo{get submitted(){return mn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ys(()=>this._submittedReactive()),this._submittedReactive=ps(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Id(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return N0(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){R0(n.control||null,n,!1),KU(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),qU(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new kv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Ov(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(R0(r||null,n),ZU(i)&&(N0(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);HU(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&WU(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bv(this.form,this),this._oldForm&&Id(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(w(V0,10),w(j0,10),w(Uv,8))}}static{this.\u0275dir=ve({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ye("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nr([QU]),bt,$t]})}}return t})();var JU={provide:Ua,useExisting:cn(()=>ri)},ri=(()=>{class t extends Ua{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YU(this,o)}ngOnChanges(n){this._added||this._setUpControl(),zU(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return VU(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(w(Oo,13),w(V0,10),w(j0,10),w(Ba,10),w(tS,8))}}static{this.\u0275dir=ve({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Nr([JU]),bt,$t]})}}return t})(),XU={provide:Ba,useExisting:cn(()=>Dd),multi:!0};function nS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function e2(t){return t.split(":")[0]}var Dd=(()=>{class t extends Ed{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=nS(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=e2(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275dir=ve({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ye("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([XU]),bt]})}}return t})(),rS=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(nS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(w(Dt),w(Ht),w(Dd,9))}}static{this.\u0275dir=ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),t2={provide:Ba,useExisting:cn(()=>iS),multi:!0};function O0(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function n2(t){return t.split(":")[0]}var iS=(()=>{class t extends Ed{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=n2(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275dir=ve({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ye("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([t2]),bt]})}}return t})(),oS=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(O0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(O0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(w(Dt),w(Ht),w(iS,9))}}static{this.\u0275dir=ve({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var sS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=un({type:t})}static{this.\u0275inj=ln({})}}return t})(),Fv=class extends Po{constructor(e,n,r){super(Vv(n),jv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){X0(this,!1,e),e.forEach((r,i)=>{J0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function P0(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var jo=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return P0(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new yd(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Pv(i,r)}control(n,r,i){let o={};return this.useNonNullable?(P0(r)?o=r:(o.validators=r,o.asyncValidators=i),new hd(n,j(_({},o),{nonNullable:!0}))):new hd(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Fv(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof hd)return n;if(n instanceof Po)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var aS=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Uv,useValue:n.callSetDisabledState??wd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=un({type:t})}static{this.\u0275inj=ln({imports:[sS]})}}return t})(),Uo=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tS,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Uv,useValue:n.callSetDisabledState??wd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=un({type:t})}static{this.\u0275inj=ln({imports:[sS]})}}return t})();function cS(){return t=>{let e=t.value;return new Date(e)>=new Date||e==""?null:{invalidDate:!0}}}function lS(){return t=>{let e=t.value;return e===""||e==="H"||e==="M"||e==="L"||e==""?null:{invalidPriority:!0}}}var bd=(t,e)=>({"is-invalid":t,"is-valid":e});function r2(t,e){t&1&&(g(0,"small"),I(1,"No ha introducido un nombre"),v())}function i2(t,e){t&1&&(g(0,"small"),I(1,"El nombre tiene mas de 20 caracteres"),v())}function o2(t,e){t&1&&(g(0,"small",21),I(1,"La descripci\xF3n no puede superar los 250 caracteres"),v())}function s2(t,e){t&1&&(g(0,"small",21),I(1,"Debe de seleccionar una Prioridad"),v())}function a2(t,e){t&1&&(g(0,"small",21),I(1," No has seleccionado una Prioridad Valida "),v())}function c2(t,e){t&1&&(g(0,"small",21),I(1," Debe de introducir una fecha "),v())}function l2(t,e){t&1&&(g(0,"small",21),I(1," La fecha introducida no es v\xE1lida "),v())}var Sd=class t{constructor(e,n){this.route=e;this.formTaskEdit=n.group({name:["",[be.required,be.maxLength(50)]],description:["",[be.required,be.maxLength(255)]],priority:["",[be.required,lS()]],expirationDate:["",[be.required,cS()]]})}taskToEdit=null;saveTask=new se;newTask=new se;formTaskEdit;ngOnInit(){this.route.paramMap.subscribe(e=>{let n=e.get("id");console.log(n)})}onSubmit(){if(this.formTaskEdit.valid){if(this.taskToEdit){let e=j(_(_({},this.taskToEdit),this.formTaskEdit.value),{expirationDate:new Date(this.formTaskEdit.value.expirationDate)});this.saveTask.emit(e)}else{let e=new Pe(Math.floor(Math.random()*1e6),this.formTaskEdit.value.name,this.formTaskEdit.value.description,this.formTaskEdit.value.priority,"P",new Date(this.formTaskEdit.value.expirationDate),new Date,!1);this.newTask.emit(e)}this.formTaskEdit.reset()}else console.log("Formulario inv\xE1lido",this.formTaskEdit.errors)}ngOnChanges(e){e.taskToEdit&&this.taskToEdit?this.formTaskEdit.patchValue({name:this.taskToEdit.name,description:this.taskToEdit.description,priority:this.taskToEdit.priority,expirationDate:this.taskToEdit.expirationDate.toISOString().slice(0,16)}):this.formTaskEdit.reset()}static \u0275fac=function(n){return new(n||t)(w(_n),w(jo))};static \u0275cmp=ne({type:t,selectors:[["app-taskform"]],inputs:{taskToEdit:"taskToEdit"},outputs:{saveTask:"saveTask",newTask:"newTask"},standalone:!0,features:[$t,re],decls:41,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","exampleFormControlInput"],["type","text","formControlName","name","id","exampleFormControlInput",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","exampleFormControlTextarea"],["formControlName","description","id","exampleFormControlTextarea","rows","3",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","exampleFormControlSelect"],["formControlName","priority","id","exampleFormControlSelect",1,"form-control",3,"ngClass"],["value","H"],["value","M"],["value","L"],["value","O"],["for","exampleFormControlDate"],["type","datetime-local","formControlName","expirationDate","id","exampleFormControlDate",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary",2,"margin-top","2%"],[1,"text-danger"]],template:function(n,r){if(n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),ye("ngSubmit",function(){return r.onSubmit()}),g(4,"div",4)(5,"label",5),I(6,"Nombre: "),v(),Q(7,"input",6),g(8,"div",7),ue(9,r2,2,0,"small",8)(10,i2,2,0,"small",8),v()(),g(11,"div",4)(12,"label",9),I(13,"Descripcion: "),v(),Q(14,"textarea",10),g(15,"div",7),ue(16,o2,2,0,"small",11),v()(),g(17,"div",4)(18,"label",12),I(19,"Prioridad: "),v(),g(20,"select",13)(21,"option",14),I(22,"Alta"),v(),g(23,"option",15),I(24,"Media"),v(),g(25,"option",16),I(26,"Baja"),v(),g(27,"option",17),I(28,"Otra"),v()(),g(29,"div",7),ue(30,s2,2,0,"small",11)(31,a2,2,0,"small",11),v()(),g(32,"div",4)(33,"label",18),I(34,"Fecha: "),v(),Q(35,"input",19),g(36,"div",7),ue(37,c2,2,0,"small",11)(38,l2,2,0,"small",11),v()(),g(39,"button",20),I(40,"Guardar Cambios"),v()()()()()),n&2){let i,o,s,a,c,l,u,d,f,h,m;A(3),x("formGroup",r.formTaskEdit),A(4),x("ngClass",tt(12,bd,(i=r.formTaskEdit.get("name"))==null?null:i.invalid,(i=r.formTaskEdit.get("name"))==null?null:i.valid)),A(2),x("ngIf",(o=r.formTaskEdit.get("name"))==null||o.errors==null?null:o.errors.required),A(),x("ngIf",(s=r.formTaskEdit.get("name"))==null||s.errors==null?null:s.errors.maxlength),A(4),x("ngClass",tt(15,bd,(a=r.formTaskEdit.get("description"))==null?null:a.invalid,(a=r.formTaskEdit.get("description"))==null?null:a.valid)),A(2),x("ngIf",(c=r.formTaskEdit.get("description"))==null||c.errors==null?null:c.errors.maxlength),A(4),x("ngClass",tt(18,bd,(l=r.formTaskEdit.get("priority"))==null?null:l.invalid,(l=r.formTaskEdit.get("priority"))==null?null:l.valid)),A(10),x("ngIf",(u=r.formTaskEdit.get("priority"))==null||u.errors==null?null:u.errors.required),A(),x("ngIf",((d=r.formTaskEdit.get("priority"))==null||d.errors==null?null:d.errors.invalidPriority)&&!(!((d=r.formTaskEdit.get("priority"))==null||d.errors==null)&&d.errors.required)),A(4),x("ngClass",tt(21,bd,(f=r.formTaskEdit.get("expirationDate"))==null?null:f.invalid,(f=r.formTaskEdit.get("expirationDate"))==null?null:f.valid)),A(2),x("ngIf",(h=r.formTaskEdit.get("expirationDate"))==null||h.errors==null?null:h.errors.required),A(),x("ngIf",((m=r.formTaskEdit.get("expirationDate"))==null||m.errors==null?null:m.errors.invalidDate)&&!(!((m=r.formTaskEdit.get("expirationDate"))==null||m.errors==null)&&m.errors.required))}},dependencies:[Uo,Vo,rS,oS,hr,Dd,Fo,Lo,ni,ri,we,Gi,Gn]})};var Td=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-stats"]],standalone:!0,features:[re],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),I(1,"stats works!"),v())}})};function uS(){return t=>{let e=t.value;return!e||e==""||e.length>=9&&/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/[0-9]/.test(e)&&/[!@#$%^&*(),.?":{}|<>]/.test(e)?null:{invalidPassword:!0}}}var Ad=(t,e)=>({"is-invalid":t,"is-valid":e});function u2(t,e){t&1&&(g(0,"small"),I(1,"Debe de introducir una direccion de email"),v())}function d2(t,e){t&1&&(g(0,"small"),I(1,"El formato del correo introducido no es v\xE1lido"),v())}function f2(t,e){t&1&&(g(0,"small"),I(1,"Lo sentimos, pero no ha introducido una contrase\xF1a"),v())}function h2(t,e){t&1&&(g(0,"small"),I(1,"La contrase\xF1a no cummple con los requisitos m\xEDnimos"),v())}function p2(t,e){t&1&&(g(0,"small"),I(1,"Lo sentimos, pero no ha introducido ning\xFAn nombre"),v())}function m2(t,e){t&1&&(g(0,"small"),I(1,"Lo sentimos, pero no ha introducido ning\xFAn apellido"),v())}var Md=class t{constructor(e,n,r,i){this.fb=e;this.authService=n;this.router=r;this.personService=i;this.formSingin=this.fb.group({email:["",[be.required,be.email]],password:["",[be.required,uS()]],name:["",[be.required]],surname:["",[be.required]],isAdmin:[!1]})}formSingin;onSubmit(){if(this.formSingin.valid){let e=this.formSingin.get("name")?.value,n=this.formSingin.get("surname")?.value,r=this.formSingin.get("email")?.value,i=this.formSingin.get("password")?.value,s=this.formSingin.get("isAdmin")?.value?"A":"U";this.authService.register({email:r,password:i}).then(a=>{let l={uid:a.user.uid,name:e,surname:n,email:r,role:s,createAt:new Date().toString()};this.personService.savePerson(l).then(()=>{alert("Usuario Registrado Correctamente"),this.router.navigate(["/login"])}).catch(u=>console.error("Error al guardar los datos del usuario:",u))}).catch(a=>{console.error("Error en el registro:",a)})}}static \u0275fac=function(n){return new(n||t)(w(jo),w(Kt),w(Tt),w(No))};static \u0275cmp=ne({type:t,selectors:[["app-singin"]],standalone:!0,features:[re],decls:38,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control",3,"ngClass"],["for","name"],["type","name","formControlName","name","id","name",1,"form-control",3,"ngClass"],["for","surname"],["type","surname","formControlName","surname","id","surname",1,"form-control",3,"ngClass"],[1,"form-check","form-switch"],["type","checkbox","id","isAdmin","formControlName","isAdmin",1,"form-check-input"],["for","isAdmin",1,"form-check-label"],["type","submit",1,"btn","btn-primary"]],template:function(n,r){if(n&1&&(Q(0,"app-navbar"),g(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3),ye("ngSubmit",function(){return r.onSubmit()}),g(5,"div",4)(6,"label",5),I(7,"Direcci\xF3n de Correo:"),v(),Q(8,"input",6),g(9,"div",7),ue(10,u2,2,0,"small",8)(11,d2,2,0,"small",8),v()(),g(12,"div",4)(13,"label",9),I(14,"Contrase\xF1a:"),v(),Q(15,"input",10),g(16,"div",7),ue(17,f2,2,0,"small",8)(18,h2,2,0,"small",8),v()(),g(19,"div",4)(20,"label",11),I(21,"Nombre:"),v(),Q(22,"input",12),g(23,"div",7),ue(24,p2,2,0,"small",8),v()(),g(25,"div",4)(26,"label",13),I(27,"Apellidos:"),v(),Q(28,"input",14),g(29,"div",7),ue(30,m2,2,0,"small",8),v()(),g(31,"div",15),Q(32,"input",16),g(33,"label",17),I(34,"isAdmin"),v()(),g(35,"button",18),I(36,"Crear Usuario"),v()()()()(),Q(37,"app-footer")),n&2){let i,o,s,a,c,l,u,d,f,h;A(4),x("formGroup",r.formSingin),A(4),x("ngClass",tt(11,Ad,(i=r.formSingin.get("email"))==null?null:i.invalid,(i=r.formSingin.get("email"))==null?null:i.valid)),A(2),x("ngIf",(o=r.formSingin.get("email"))==null||o.errors==null?null:o.errors.required),A(),x("ngIf",(s=r.formSingin.get("email"))==null||s.errors==null?null:s.errors.email),A(4),x("ngClass",tt(14,Ad,(a=r.formSingin.get("password"))==null?null:a.invalid,(a=r.formSingin.get("password"))==null?null:a.valid)),A(2),x("ngIf",(c=r.formSingin.get("password"))==null||c.errors==null?null:c.errors.required),A(),x("ngIf",(l=r.formSingin.get("password"))==null||l.errors==null?null:l.errors.invalidPassword),A(4),x("ngClass",tt(17,Ad,(u=r.formSingin.get("name"))==null?null:u.invalid,(u=r.formSingin.get("name"))==null?null:u.valid)),A(2),x("ngIf",(d=r.formSingin.get("name"))==null||d.errors==null?null:d.errors.required),A(4),x("ngClass",tt(20,Ad,(f=r.formSingin.get("surname"))==null?null:f.invalid,(f=r.formSingin.get("surname"))==null?null:f.valid)),A(2),x("ngIf",(h=r.formSingin.get("surname"))==null||h.errors==null?null:h.errors.required)}},dependencies:[we,Gi,Gn,Uo,Vo,hr,Lv,Fo,Lo,ni,ri,mt,or]})};function dS(){return t=>{let e=t.value;return!e||e==""||e.length>=9&&/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/[0-9]/.test(e)&&/[!@#$%^&*(),.?":{}|<>]/.test(e)?null:{invalidPassword:!0}}}var fS=(t,e)=>({"is-invalid":t,"is-valid":e});function g2(t,e){t&1&&(g(0,"small"),I(1,"Debe de introducir una direccion de email"),v())}function v2(t,e){t&1&&(g(0,"small"),I(1,"El formato del correo introducido no es v\xE1lido"),v())}function y2(t,e){t&1&&(g(0,"small"),I(1,"Lo sentimos, pero no ha introducido una contrase\xF1a"),v())}function _2(t,e){t&1&&(g(0,"small"),I(1,"La contrase\xF1a no cummple con los requisitos m\xEDnimos"),v())}var Nd=class t{constructor(e,n,r){this.fb=e;this.authService=n;this.router=r;this.formLogin=this.fb.group({email:["",[be.required,be.email]],password:["",[be.required,dS()]]})}formLogin;onSubmit(){this.authService.login(this.formLogin.value).then(e=>{console.log(e),this.router.navigate(["/home"])}).catch(e=>console.log(e))}onClick(){this.authService.loginGoogle().then(e=>{console.log(e),this.router.navigate(["/home"])}).catch(e=>console.log(e))}static \u0275fac=function(n){return new(n||t)(w(jo),w(Kt),w(Tt))};static \u0275cmp=ne({type:t,selectors:[["app-login"]],standalone:!0,features:[re],decls:24,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-info",3,"click"]],template:function(n,r){if(n&1&&(Q(0,"app-navbar"),g(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3),ye("ngSubmit",function(){return r.onSubmit()}),g(5,"div",4)(6,"label",5),I(7,"Direcci\xF3n de Correo:"),v(),Q(8,"input",6),g(9,"div",7),ue(10,g2,2,0,"small",8)(11,v2,2,0,"small",8),v()(),g(12,"div",4)(13,"label",9),I(14,"Contrase\xF1a:"),v(),Q(15,"input",10),g(16,"div",7),ue(17,y2,2,0,"small",8)(18,_2,2,0,"small",8),v()(),g(19,"button",11),I(20,"Iniciar Sesi\xF3n"),v(),g(21,"button",12),ye("click",function(){return r.onClick()}),I(22,"Iniciar Sesi\xF3n con Google"),v()()()()(),Q(23,"app-footer")),n&2){let i,o,s,a,c,l;A(4),x("formGroup",r.formLogin),A(4),x("ngClass",tt(7,fS,(i=r.formLogin.get("email"))==null?null:i.invalid,(i=r.formLogin.get("email"))==null?null:i.valid)),A(2),x("ngIf",(o=r.formLogin.get("email"))==null||o.errors==null?null:o.errors.required),A(),x("ngIf",(s=r.formLogin.get("email"))==null||s.errors==null?null:s.errors.email),A(4),x("ngClass",tt(10,fS,(a=r.formLogin.get("password"))==null?null:a.invalid,(a=r.formLogin.get("password"))==null?null:a.valid)),A(2),x("ngIf",(c=r.formLogin.get("password"))==null||c.errors==null?null:c.errors.required),A(),x("ngIf",(l=r.formLogin.get("password"))==null||l.errors==null?null:l.errors.invalidPassword)}},dependencies:[we,Gi,Gn,Uo,Vo,hr,Fo,Lo,ni,ri,or,mt]})};var hS=O(t=>!!t),I2=(()=>{class t{router;auth;constructor(n,r){this.router=n,this.auth=r}canActivate=(n,r)=>{let i=n.data.authGuardPipe||(()=>hS);return cD(this.auth).pipe(Ye(1),i(n,r),O(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(r){return new(r||t)(R(Tt),R(Tn))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),ii=t=>({canActivate:[I2],data:{authGuardPipe:t}});var oi=t=>zo(hS,O(e=>e||t));var pS=[{path:"login",component:Nd},_({path:"home",component:sd},ii(()=>oi(["/login"]))),_({path:"tasks",component:ud},ii(()=>oi(["/login"]))),j(_({path:"dashboard",component:dd},ii(()=>oi(["/login"]))),{children:[_({path:"stats",component:Td},ii(()=>oi(["/login"]))),_({path:"profile",component:Ro},ii(()=>oi(["/login"])))]}),_({path:"taskedit/:id",component:Sd},ii(()=>oi(["/login"]))),{path:"singin",component:Md},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login",pathMatch:"full"}];var mS={providers:[SE({eventCoalescing:!0}),xC(pS),lw(()=>uw({projectId:"angular-tutorial-jmm",appId:"1:135414048788:web:c366079200a863befd5f01",databaseURL:"https://angular-tutorial-jmm-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"angular-tutorial-jmm.firebasestorage.app",apiKey:"AIzaSyDsUuuSiTQ2jdtX6c3cx-mtdQ3KnviO41M",authDomain:"angular-tutorial-jmm.firebaseapp.com",messagingSenderId:"135414048788"})),aD(()=>uD()),y0(()=>I0())]};var Rd=class t{nombre="";numero=Math.trunc(Math.random()*1e3+100);imagenAleatoria=`https://picsum.photos/200/300?random=${this.numero}`;muestraImagen(){let e=Math.trunc(Math.random()*1e3+100);this.imagenAleatoria=`https://picsum.photos/200/300?random=${e}`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-root"]],standalone:!0,features:[re],decls:1,vars:0,template:function(n,r){n&1&&Q(0,"router-outlet")},dependencies:[Us,aS]})};KE(Rd,mS).catch(t=>console.error(t));
